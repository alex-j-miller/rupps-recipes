var bR=Object.defineProperty,wR=Object.defineProperties;var IR=Object.getOwnPropertyDescriptors;var Vl=Object.getOwnPropertySymbols;var B0=Object.prototype.hasOwnProperty,$0=Object.prototype.propertyIsEnumerable;var U0=(n,e,t)=>e in n?bR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N=(n,e)=>{for(var t in e||={})B0.call(e,t)&&U0(n,t,e[t]);if(Vl)for(var t of Vl(e))$0.call(e,t)&&U0(n,t,e[t]);return n},he=(n,e)=>wR(n,IR(e));var _m=(n,e)=>{var t={};for(var i in n)B0.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Vl)for(var i of Vl(n))e.indexOf(i)<0&&$0.call(n,i)&&(t[i]=n[i]);return t};var A=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(d){r(d)}},s=c=>{try{a(t.throw(c))}catch(d){r(d)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function z0(n,e){return Object.is(n,e)}var ot=null,jl=!1,Ul=1,Ui=Symbol("SIGNAL");function be(n){let e=ot;return ot=n,e}function H0(){return ot}var Da={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bm(n){if(jl)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(n);let e=ot.nextProducerIndex++;if(Hl(ot),e<ot.producerNode.length&&ot.producerNode[e]!==n&&Ea(ot)){let t=ot.producerNode[e];zl(t,ot.producerIndexOfThis[e])}ot.producerNode[e]!==n&&(ot.producerNode[e]=n,ot.producerIndexOfThis[e]=Ea(ot)?K0(n,ot,e):0),ot.producerLastReadVersion[e]=n.version}function ER(){Ul++}function q0(n){if(!(Ea(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ul)){if(!n.producerMustRecompute(n)&&!Im(n)){n.dirty=!1,n.lastCleanEpoch=Ul;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ul}}function G0(n){if(n.liveConsumerNode===void 0)return;let e=jl;jl=!0;try{for(let t of n.liveConsumerNode)t.dirty||DR(t)}finally{jl=e}}function W0(){return ot?.consumerAllowSignalWrites!==!1}function DR(n){n.dirty=!0,G0(n),n.consumerMarkedDirty?.(n)}function $l(n){return n&&(n.nextProducerIndex=0),be(n)}function wm(n,e){if(be(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ea(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)zl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Im(n){Hl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(q0(t),i!==t.version))return!0}return!1}function Em(n){if(Hl(n),Ea(n))for(let e=0;e<n.producerNode.length;e++)zl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function K0(n,e,t){if(Q0(n),n.liveConsumerNode.length===0&&Y0(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=K0(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function zl(n,e){if(Q0(n),n.liveConsumerNode.length===1&&Y0(n))for(let i=0;i<n.producerNode.length;i++)zl(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Hl(r),r.producerIndexOfThis[i]=e}}function Ea(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Q0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Y0(n){return n.producerNode!==void 0}function Z0(n){let e=Object.create(xR);e.computation=n;let t=()=>{if(q0(e),bm(e),e.value===Bl)throw e.error;return e.value};return t[Ui]=e,t}var vm=Symbol("UNSET"),ym=Symbol("COMPUTING"),Bl=Symbol("ERRORED"),xR=he(N({},Da),{value:vm,dirty:!0,error:null,equal:z0,producerMustRecompute(n){return n.value===vm||n.value===ym},producerRecomputeValue(n){if(n.value===ym)throw new Error("Detected cycle in computations.");let e=n.value;n.value=ym;let t=$l(n),i;try{i=n.computation()}catch(r){i=Bl,n.error=r}finally{wm(n,t)}if(e!==vm&&e!==Bl&&i!==Bl&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function TR(){throw new Error}var J0=TR;function X0(){J0()}function eI(n){J0=n}var CR=null;function tI(n){let e=Object.create(iI);e.value=n;let t=()=>(bm(e),e.value);return t[Ui]=e,t}function Dm(n,e){W0()||X0(),n.equal(n.value,e)||(n.value=e,SR(n))}function nI(n,e){W0()||X0(),Dm(n,e(n.value))}var iI=he(N({},Da),{equal:z0,value:void 0});function SR(n){n.version++,ER(),G0(n),CR?.()}function se(n){return typeof n=="function"}function Lo(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ql=Lo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Lr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Be=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(se(i))try{i()}catch(o){e=o instanceof ql?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{rI(o)}catch(s){e=e??[],s instanceof ql?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ql(e)}}add(e){var t;if(e&&e!==this)if(this.closed)rI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Lr(t,e)}remove(e){let{_finalizers:t}=this;t&&Lr(t,e),e instanceof n&&e._removeParent(this)}};Be.EMPTY=(()=>{let n=new Be;return n.closed=!0,n})();var xm=Be.EMPTY;function Gl(n){return n instanceof Be||n&&"closed"in n&&se(n.remove)&&se(n.add)&&se(n.unsubscribe)}function rI(n){se(n)?n():n.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vo={setTimeout(n,e,...t){let{delegate:i}=Vo;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Vo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Wl(n){Vo.setTimeout(()=>{let{onUnhandledError:e}=bn;if(e)e(n);else throw n})}function xa(){}var oI=Tm("C",void 0,void 0);function sI(n){return Tm("E",void 0,n)}function aI(n){return Tm("N",n,void 0)}function Tm(n,e,t){return{kind:n,value:e,error:t}}var Vr=null;function jo(n){if(bn.useDeprecatedSynchronousErrorHandling){let e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Vr;if(Vr=null,t)throw i}}else n()}function cI(n){bn.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=n)}var jr=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gl(e)&&e.add(this)):this.destination=MR}static create(e,t,i){return new ri(e,t,i)}next(e){this.isStopped?Sm(aI(e),this):this._next(e)}error(e){this.isStopped?Sm(sI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sm(oI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},AR=Function.prototype.bind;function Cm(n,e){return AR.call(n,e)}var Am=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Kl(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Kl(i)}else Kl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Kl(t)}}},ri=class extends jr{constructor(e,t,i){super();let r;if(se(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&bn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Cm(e.next,o),error:e.error&&Cm(e.error,o),complete:e.complete&&Cm(e.complete,o)}):r=e}this.destination=new Am(r)}};function Kl(n){bn.useDeprecatedSynchronousErrorHandling?cI(n):Wl(n)}function kR(n){throw n}function Sm(n,e){let{onStoppedNotification:t}=bn;t&&Vo.setTimeout(()=>t(n,e))}var MR={closed:!0,next:xa,error:kR,complete:xa};var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(n){return n}function Ql(...n){return km(n)}function km(n){return n.length===0?zt:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=NR(t)?t:new ri(t,i,r);return jo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=lI(i),new i((r,o)=>{let s=new ri({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Uo](){return this}pipe(...t){return km(t)(this)}toPromise(t){return t=lI(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function lI(n){var e;return(e=n??bn.Promise)!==null&&e!==void 0?e:Promise}function RR(n){return n&&se(n.next)&&se(n.error)&&se(n.complete)}function NR(n){return n&&n instanceof jr||RR(n)&&Gl(n)}function Mm(n){return se(n?.lift)}function fe(n){return e=>{if(Mm(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,i,r){return new Rm(n,e,t,i,r)}var Rm=class extends jr{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bo(){return fe((n,e)=>{let t=null;n._refCount++;let i=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var $o=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Mm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return Bo()(this)}};var dI=Lo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Yl(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new dI}next(t){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?xm:(this.currentObservers=null,o.push(t),new Be(()=>{this.currentObservers=null,Lr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new Yl(e,t),n})(),Yl=class extends Je{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:xm}};var mt=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Nm={now(){return(Nm.delegate||Date).now()},delegate:void 0};var Zl=class extends Be{constructor(e,t){super()}schedule(e,t=0){return this}};var Ta={setInterval(n,e,...t){let{delegate:i}=Ta;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ta;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var zo=class extends Zl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Ta.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Ta.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Lr(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ho=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Ho.now=Nm.now;var qo=class extends Ho{constructor(e,t=Ho.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Ca=new qo(zo);var Jl=class extends zo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Xl=class extends qo{};var Pm=new Xl(Jl);var Ht=new le(n=>n.complete());function uI(n){return n&&se(n.schedule)}function hI(n){return n[n.length-1]}function ed(n){return se(hI(n))?n.pop():void 0}function Bi(n){return uI(hI(n))?n.pop():void 0}function Om(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function mI(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{d(i.next(h))}catch(m){s(m)}}function c(h){try{d(i.throw(h))}catch(m){s(m)}}function d(h){h.done?o(h.value):r(h.value).then(a,c)}d((i=i.apply(n,e||[])).next())})}function fI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ur(n){return this instanceof Ur?(this.v=n,this):new Ur(n)}function pI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(w){return Promise.resolve(w).then(g,m)}}function a(g,w){i[g]&&(r[g]=function(T){return new Promise(function(S,M){o.push([g,T,S,M])>1||c(g,T)})},w&&(r[g]=w(r[g])))}function c(g,w){try{d(i[g](w))}catch(T){_(o[0][3],T)}}function d(g){g.value instanceof Ur?Promise.resolve(g.value.v).then(h,m):_(o[0][2],g)}function h(g){c("next",g)}function m(g){c("throw",g)}function _(g,w){g(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function gI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof fI=="function"?fI(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},s)}}var td=n=>n&&typeof n.length=="number"&&typeof n!="function";function nd(n){return se(n?.then)}function id(n){return se(n[Uo])}function rd(n){return Symbol.asyncIterator&&se(n?.[Symbol.asyncIterator])}function od(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sd=PR();function ad(n){return se(n?.[sd])}function cd(n){return pI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Ur(t.read());if(r)return yield Ur(void 0);yield yield Ur(i)}}finally{t.releaseLock()}})}function ld(n){return se(n?.getReader)}function qe(n){if(n instanceof le)return n;if(n!=null){if(id(n))return OR(n);if(td(n))return FR(n);if(nd(n))return LR(n);if(rd(n))return _I(n);if(ad(n))return VR(n);if(ld(n))return jR(n)}throw od(n)}function OR(n){return new le(e=>{let t=n[Uo]();if(se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FR(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function LR(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Wl)})}function VR(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function _I(n){return new le(e=>{UR(n,e).catch(t=>e.error(t))})}function jR(n){return _I(cd(n))}function UR(n,e){var t,i,r,o;return mI(this,void 0,void 0,function*(){try{for(t=gI(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Ft(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function $i(n,e=0){return fe((t,i)=>{t.subscribe(me(i,r=>Ft(i,n,()=>i.next(r),e),()=>Ft(i,n,()=>i.complete(),e),r=>Ft(i,n,()=>i.error(r),e)))})}function zi(n,e=0){return fe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function vI(n,e){return qe(n).pipe(zi(e),$i(e))}function yI(n,e){return qe(n).pipe(zi(e),$i(e))}function bI(n,e){return new le(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function wI(n,e){return new le(t=>{let i;return Ft(t,e,()=>{i=n[sd](),Ft(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>se(i?.return)&&i.return()})}function dd(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{Ft(t,e,()=>{let i=n[Symbol.asyncIterator]();Ft(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function II(n,e){return dd(cd(n),e)}function EI(n,e){if(n!=null){if(id(n))return vI(n,e);if(td(n))return bI(n,e);if(nd(n))return yI(n,e);if(rd(n))return dd(n,e);if(ad(n))return wI(n,e);if(ld(n))return II(n,e)}throw od(n)}function Ge(n,e){return e?EI(n,e):qe(n)}function J(...n){let e=Bi(n);return Ge(n,e)}function Hi(n,e){let t=se(n)?n:()=>n,i=r=>r.error(t());return new le(e?r=>e.schedule(i,0,r):i)}function Fm(n){return!!n&&(n instanceof le||se(n.lift)&&se(n.subscribe))}var oi=Lo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function G(n,e){return fe((t,i)=>{let r=0;t.subscribe(me(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:BR}=Array;function $R(n,e){return BR(e)?n(...e):n(e)}function ud(n){return G(e=>$R(n,e))}var{isArray:zR}=Array,{getPrototypeOf:HR,prototype:qR,keys:GR}=Object;function hd(n){if(n.length===1){let e=n[0];if(zR(e))return{args:e,keys:null};if(WR(e)){let t=GR(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function WR(n){return n&&typeof n=="object"&&HR(n)===qR}function fd(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function si(...n){let e=Bi(n),t=ed(n),{args:i,keys:r}=hd(n);if(i.length===0)return Ge([],e);let o=new le(KR(i,e,r?s=>fd(r,s):zt));return t?o.pipe(ud(t)):o}function KR(n,e,t=zt){return i=>{DI(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)DI(e,()=>{let d=Ge(n[c],e),h=!1;d.subscribe(me(i,m=>{o[c]=m,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function DI(n,e,t){n?Ft(t,n,e):e()}function xI(n,e,t,i,r,o,s,a){let c=[],d=0,h=0,m=!1,_=()=>{m&&!c.length&&!d&&e.complete()},g=T=>d<i?w(T):c.push(T),w=T=>{o&&e.next(T),d++;let S=!1;qe(t(T,h++)).subscribe(me(e,M=>{r?.(M),o?g(M):e.next(M)},()=>{S=!0},void 0,()=>{if(S)try{for(d--;c.length&&d<i;){let M=c.shift();s?Ft(e,s,()=>w(M)):w(M)}_()}catch(M){e.error(M)}}))};return n.subscribe(me(e,g,()=>{m=!0,_()})),()=>{a?.()}}function st(n,e,t=1/0){return se(e)?st((i,r)=>G((o,s)=>e(i,o,r,s))(qe(n(i,r))),t):(typeof e=="number"&&(t=e),fe((i,r)=>xI(i,r,n,t)))}function Lm(n=1/0){return st(zt,n)}function TI(){return Lm(1)}function qi(...n){return TI()(Ge(n,Bi(n)))}function md(n){return new le(e=>{qe(n()).subscribe(e)})}function Sa(...n){let e=ed(n),{args:t,keys:i}=hd(n),r=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,d=s;for(let h=0;h<s;h++){let m=!1;qe(t[h]).subscribe(me(o,_=>{m||(m=!0,d--),a[h]=_},()=>c--,void 0,()=>{(!c||!m)&&(d||o.next(i?fd(i,a):a),o.complete())}))}});return e?r.pipe(ud(e)):r}function wt(n,e){return fe((t,i)=>{let r=0;t.subscribe(me(i,o=>n.call(e,o,r++)&&i.next(o)))})}function kn(n){return fe((e,t)=>{let i=null,r=!1,o;i=e.subscribe(me(t,void 0,void 0,s=>{o=qe(n(s,kn(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function CI(n,e,t,i,r){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(me(s,h=>{let m=d++;c=a?n(c,h,m):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Gi(n,e){return se(e)?st(n,e,1):st(n,1)}function Vm(n,e=Ca){return fe((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let d=o;o=null,i.next(d)}};function c(){let d=s+n,h=e.now();if(h<d){r=this.schedule(void 0,d-h),i.add(r);return}a()}t.subscribe(me(i,d=>{o=d,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Wi(n){return fe((e,t)=>{let i=!1;e.subscribe(me(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function qt(n){return n<=0?()=>Ht:fe((e,t)=>{let i=0;e.subscribe(me(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function jm(n){return G(()=>n)}function pd(n=QR){return fe((e,t)=>{let i=!1;e.subscribe(me(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function QR(){return new oi}function Ki(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Mn(n,e){let t=arguments.length>=2;return i=>i.pipe(n?wt((r,o)=>n(r,o,i)):zt,qt(1),t?Wi(e):pd(()=>new oi))}function Go(n){return n<=0?()=>Ht:fe((e,t)=>{let i=[];e.subscribe(me(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Um(n,e){let t=arguments.length>=2;return i=>i.pipe(n?wt((r,o)=>n(r,o,i)):zt,Go(1),t?Wi(e):pd(()=>new oi))}function gd(n,e){return fe(CI(n,e,arguments.length>=2,!0))}function $m(n={}){let{connector:e=()=>new Je,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,h=!1,m=!1,_=()=>{a?.unsubscribe(),a=void 0},g=()=>{_(),s=c=void 0,h=m=!1},w=()=>{let T=s;g(),T?.unsubscribe()};return fe((T,S)=>{d++,!m&&!h&&_();let M=c=c??e();S.add(()=>{d--,d===0&&!m&&!h&&(a=Bm(w,r))}),M.subscribe(S),!s&&d>0&&(s=new ri({next:L=>M.next(L),error:L=>{m=!0,_(),a=Bm(g,t,L),M.error(L)},complete:()=>{h=!0,_(),a=Bm(g,i),M.complete()}}),qe(T).subscribe(s))})(o)}}function Bm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new ri({next:()=>{i.unsubscribe(),n()}});return qe(e(...t)).subscribe(i)}function zm(n){return wt((e,t)=>n<=t)}function Wo(...n){let e=Bi(n);return fe((t,i)=>{(e?qi(n,t,e):qi(n,t)).subscribe(i)})}function Gt(n,e){return fe((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(me(i,c=>{r?.unsubscribe();let d=0,h=o++;qe(n(c,h)).subscribe(r=me(i,m=>i.next(e?e(c,m,h,d++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Aa(n){return fe((e,t)=>{qe(n).subscribe(me(t,()=>t.complete(),xa)),!t.closed&&e.subscribe(t)})}function $e(n,e,t){let i=se(n)||e||t?{next:n,error:e,complete:t}:n;return i?fe((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(me(o,c=>{var d;(d=i.next)===null||d===void 0||d.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,c),o.error(c)},()=>{var c,d;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):zt}var _E="https://g.co/ng/security#xss",P=class extends Error{constructor(e,t){super(ag(e,t)),this.code=e}};function ag(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function qa(n){return{toString:n}.toString()}var _d="__parameters__";function YR(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function ZR(n,e,t){return qa(()=>{let i=YR(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,d,h){let m=c.hasOwnProperty(_d)?c[_d]:Object.defineProperty(c,_d,{value:[]})[_d];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Na=globalThis;function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function JR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Vt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Vt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function SI(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var XR=Re({__forward_ref__:Re});function rr(n){return n.__forward_ref__=rr,n.toString=function(){return Vt(this())},n}function Rt(n){return vE(n)?n():n}function vE(n){return typeof n=="function"&&n.hasOwnProperty(XR)&&n.__forward_ref__===rr}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jd(n){return AI(n,bE)||AI(n,wE)}function yE(n){return Jd(n)!==null}function AI(n,e){return n.hasOwnProperty(e)?n[e]:null}function eN(n){let e=n&&(n[bE]||n[wE]);return e||null}function kI(n){return n&&(n.hasOwnProperty(MI)||n.hasOwnProperty(tN))?n[MI]:null}var bE=Re({\u0275prov:Re}),MI=Re({\u0275inj:Re}),wE=Re({ngInjectableDef:Re}),tN=Re({ngInjectorDef:Re}),H=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function IE(n){return n&&!!n.\u0275providers}var nN=Re({\u0275cmp:Re}),iN=Re({\u0275dir:Re}),rN=Re({\u0275pipe:Re}),oN=Re({\u0275mod:Re}),kd=Re({\u0275fac:Re}),Ra=Re({__NG_ELEMENT_ID__:Re}),RI=Re({__NG_ENV_ID__:Re});function Xo(n){return typeof n=="string"?n:n==null?"":String(n)}function sN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xo(n)}function aN(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new P(-200,n)}function cg(n,e){throw new P(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),rp;function EE(){return rp}function Lt(n){let e=rp;return rp=n,e}function DE(n,e,t){let i=Jd(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&de.Optional)return null;if(e!==void 0)return e;cg(n,"Injector")}var cN={},Pa=cN,op="__NG_DI_FLAG__",Md="ngTempTokenPath",lN="ngTokenPath",dN=/\n/gm,uN="\u0275",NI="__source",Zo;function hN(){return Zo}function Qi(n){let e=Zo;return Zo=n,e}function fN(n,e=de.Default){if(Zo===void 0)throw new P(-203,!1);return Zo===null?DE(n,void 0,e):Zo.get(n,e&de.Optional?null:void 0,e)}function U(n,e=de.Default){return(EE()||fN)(Rt(n),e)}function F(n,e=de.Default){return U(n,Xd(e))}function Xd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sp(n){let e=[];for(let t=0;t<n.length;t++){let i=Rt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new P(900,!1);let r,o=de.Default;for(let s=0;s<i.length;s++){let a=i[s],c=pN(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(U(r,o))}else e.push(U(i))}return e}function mN(n,e){return n[op]=e,n.prototype[op]=e,n}function pN(n){return n[op]}function gN(n,e,t,i){let r=n[Md];throw e[NI]&&r.unshift(e[NI]),n.message=_N(`
`+n.message,r,t,i),n[lN]=r,n[Md]=null,n}function _N(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==uN?n.slice(2):n;let r=Vt(e);if(Array.isArray(e))r=e.map(Vt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Vt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(dN,`
  `)}`}var En=mN(ZR("Optional"),8);function $r(n,e){let t=n.hasOwnProperty(kd);return t?n[kd]:null}function vN(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function yN(n){return n.flat(Number.POSITIVE_INFINITY)}function lg(n,e){n.forEach(t=>Array.isArray(t)?lg(t,e):e(t))}function xE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Rd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function bN(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function wN(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function IN(n,e,t){let i=Ga(n,e);return i>=0?n[i|1]=t:(i=~i,wN(n,i,e,t)),i}function Hm(n,e){let t=Ga(n,e);if(t>=0)return n[t|1]}function Ga(n,e){return EN(n,e,1)}function EN(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var es={},sn=[],ts=new H(""),TE=new H("",-1),CE=new H(""),Nd=class{get(e,t=Pa){if(t===Pa){let i=new Error(`NullInjectorError: No provider for ${Vt(e)}!`);throw i.name="NullInjectorError",i}return t}},SE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(SE||{}),Pn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Pn||{}),Ji=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ji||{});function DN(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function ap(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];xN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function AE(n){return n===3||n===4||n===6}function xN(n){return n.charCodeAt(0)===64}function Oa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?PI(n,t,r,null,e[++i]):PI(n,t,r,null,null))}}return n}function PI(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var kE="ng-template";function TN(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&DN(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(dg(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function dg(n){return n.type===4&&n.value!==kE}function CN(n,e,t){let i=n.type===4&&!t?kE:n.value;return e===i}function SN(n,e,t){let i=4,r=n.attrs,o=r!==null?MN(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!wn(i)&&!wn(c))return!1;if(s&&wn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!CN(n,c,t)||c===""&&e.length===1){if(wn(i))return!1;s=!0}}else if(i&8){if(r===null||!TN(n,r,c,t)){if(wn(i))return!1;s=!0}}else{let d=e[++a],h=AN(c,r,dg(n),t);if(h===-1){if(wn(i))return!1;s=!0;continue}if(d!==""){let m;if(h>o?m="":m=r[h+1].toLowerCase(),i&2&&d!==m){if(wn(i))return!1;s=!0}}}}return wn(i)||s}function wn(n){return(n&1)===0}function AN(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return RN(e,n)}function ME(n,e,t=!1){for(let i=0;i<e.length;i++)if(SN(n,e[i],t))return!0;return!1}function kN(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function MN(n){for(let e=0;e<n.length;e++){let t=n[e];if(AE(t))return e}return n.length}function RN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function NN(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function OI(n,e){return n?":not("+e.trim()+")":e}function PN(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!wn(s)&&(e+=OI(o,r),r=""),i=s,o=o||!wn(i);t++}return r!==""&&(e+=OI(o,r)),e}function ON(n){return n.map(PN).join(",")}function FN(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!wn(r))break;r=o}i++}return{attrs:e,classes:t}}function Fe(n){return qa(()=>{let e=LE(n),t=he(N({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===SE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pn.Emulated,styles:n.styles||sn,_:null,schemas:n.schemas||null,tView:null,id:""});VE(t);let i=n.dependencies;return t.directiveDefs=LI(i,!1),t.pipeDefs=LI(i,!0),t.id=jN(t),t})}function LN(n){return Xi(n)||NE(n)}function VN(n){return n!==null}function Te(n){return qa(()=>({type:n.type,bootstrap:n.bootstrap||sn,declarations:n.declarations||sn,imports:n.imports||sn,exports:n.exports||sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function FI(n,e){if(n==null)return es;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=Ji.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==Ji.None?[i,a]:i,e[o]=s):t[o]=i}return t}function Ne(n){return qa(()=>{let e=LE(n);return VE(e),e})}function RE(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xi(n){return n[nN]||null}function NE(n){return n[iN]||null}function PE(n){return n[rN]||null}function OE(n){let e=Xi(n)||NE(n)||PE(n);return e!==null?e.standalone:!1}function FE(n,e){let t=n[oN]||null;if(!t&&e===!0)throw new Error(`Type ${Vt(n)} does not have '\u0275mod' property.`);return t}function LE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||es,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||sn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:FI(n.inputs,e),outputs:FI(n.outputs),debugInfo:null}}function VE(n){n.features?.forEach(e=>e(n))}function LI(n,e){if(!n)return null;let t=e?PE:LN;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(VN)}function jN(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function or(n){return{\u0275providers:n}}function UN(...n){return{\u0275providers:jE(!0,n),\u0275fromNgModule:!0}}function jE(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return lg(e,s=>{let a=s;cp(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&UE(r,o),t}function UE(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];ug(r,o=>{e(o,i)})}}function cp(n,e,t,i){if(n=Rt(n),!n)return!1;let r=null,o=kI(n),s=!o&&Xi(n);if(!o&&!s){let c=n.ngModule;if(o=kI(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)cp(d,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{lg(o.imports,h=>{cp(h,e,t,i)&&(d||=[],d.push(h))})}finally{}d!==void 0&&UE(d,e)}if(!a){let d=$r(r)||(()=>new r);e({provide:r,useFactory:d,deps:sn},r),e({provide:CE,useValue:r,multi:!0},r),e({provide:ts,useValue:()=>U(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let d=n;ug(c,h=>{e(h,d)})}}else return!1;return r!==n&&n.providers!==void 0}function ug(n,e){for(let t of n)IE(t)&&(t=t.\u0275providers),Array.isArray(t)?ug(t,e):e(t)}var BN=Re({provide:String,useValue:Re});function BE(n){return n!==null&&typeof n=="object"&&BN in n}function $N(n){return!!(n&&n.useExisting)}function zN(n){return!!(n&&n.useFactory)}function ns(n){return typeof n=="function"}function HN(n){return!!n.useClass}var eu=new H(""),Dd={},qN={},qm;function hg(){return qm===void 0&&(qm=new Nd),qm}var Wt=class{},Fa=class extends Wt{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dp(e,s=>this.processProvider(s)),this.records.set(TE,Ko(void 0,this)),r.has("environment")&&this.records.set(Wt,Ko(void 0,this));let o=this.records.get(eu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(CE,sn,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=be(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),be(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Qi(this),i=Lt(void 0),r;try{return e()}finally{Qi(t),Lt(i)}}get(e,t=Pa,i=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(RI))return e[RI](this);i=Xd(i);let r,o=Qi(this),s=Lt(void 0);try{if(!(i&de.SkipSelf)){let c=this.records.get(e);if(c===void 0){let d=YN(e)&&Jd(e);d&&this.injectableDefInScope(d)?c=Ko(lp(e),Dd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&de.Self?hg():this.parent;return t=i&de.Optional&&t===Pa?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Md]=a[Md]||[]).unshift(Vt(e)),o)throw a;return gN(a,e,"R3InjectorError",this.source)}else throw a}finally{Lt(s),Qi(o)}}resolveInjectorInitializers(){let e=be(null),t=Qi(this),i=Lt(void 0),r;try{let o=this.get(ts,sn,de.Self);for(let s of o)s()}finally{Qi(t),Lt(i),be(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Vt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=Rt(e);let t=ns(e)?e:Rt(e&&e.provide),i=WN(e);if(!ns(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Ko(void 0,Dd,!0),r.factory=()=>sp(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=be(null);try{return t.value===Dd&&(t.value=qN,t.value=t.factory()),typeof t.value=="object"&&t.value&&QN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{be(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Rt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function lp(n){let e=Jd(n),t=e!==null?e.factory:$r(n);if(t!==null)return t;if(n instanceof H)throw new P(204,!1);if(n instanceof Function)return GN(n);throw new P(204,!1)}function GN(n){if(n.length>0)throw new P(204,!1);let t=eN(n);return t!==null?()=>t.factory(n):()=>new n}function WN(n){if(BE(n))return Ko(void 0,n.useValue);{let e=$E(n);return Ko(e,Dd)}}function $E(n,e,t){let i;if(ns(n)){let r=Rt(n);return $r(r)||lp(r)}else if(BE(n))i=()=>Rt(n.useValue);else if(zN(n))i=()=>n.useFactory(...sp(n.deps||[]));else if($N(n))i=()=>U(Rt(n.useExisting));else{let r=Rt(n&&(n.useClass||n.provide));if(KN(n))i=()=>new r(...sp(n.deps));else return $r(r)||lp(r)}return i}function Ko(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function KN(n){return!!n.deps}function QN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function YN(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function dp(n,e){for(let t of n)Array.isArray(t)?dp(t,e):t&&IE(t)?dp(t.\u0275providers,e):e(t)}function di(n,e){n instanceof Fa&&n.assertNotDestroyed();let t,i=Qi(n),r=Lt(void 0);try{return e()}finally{Qi(i),Lt(r)}}function ZN(){return EE()!==void 0||hN()!=null}function JN(n){return typeof n=="function"}var ui=0,re=1,te=2,Et=3,In=4,jt=5,is=6,Pd=7,Nt=8,rs=9,On=10,at=11,La=12,VI=13,ds=14,Kt=15,zr=16,Qo=17,ai=18,tu=19,zE=20,Yi=21,Gm=22,an=23,Qt=25,HE=1;var Hr=7,Od=8,os=9,It=10,Fd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Fd||{});function Zi(n){return Array.isArray(n)&&typeof n[HE]=="object"}function hi(n){return Array.isArray(n)&&n[HE]===!0}function qE(n){return(n.flags&4)!==0}function nu(n){return n.componentOffset>-1}function fg(n){return(n.flags&1)===1}function er(n){return!!n.template}function up(n){return(n[te]&512)!==0}var hp=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function GE(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function Vn(){return WE}function WE(n){return n.type.prototype.ngOnChanges&&(n.setInput=eP),XN}Vn.ngInherit=!0;function XN(){let n=QE(this),e=n?.current;if(e){let t=n.previous;if(t===es)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function eP(n,e,t,i,r){let o=this.declaredInputs[i],s=QE(n)||tP(n,{previous:es,current:null}),a=s.current||(s.current={}),c=s.previous,d=c[o];a[o]=new hp(d&&d.currentValue,t,c===es),GE(n,e,r,t)}var KE="__ngSimpleChanges__";function QE(n){return n[KE]||null}function tP(n,e){return n[KE]=e}var jI=null;var Rn=function(n,e,t){jI?.(n,e,t)},nP="svg",iP="math";function Fn(n){for(;Array.isArray(n);)n=n[ui];return n}function YE(n,e){return Fn(e[n])}function ln(n,e){return Fn(e[n.index])}function mg(n,e){return n.data[e]}function rP(n,e){return n[e]}function sr(n,e){let t=e[n];return Zi(t)?t:t[ui]}function oP(n){return(n[te]&4)===4}function pg(n){return(n[te]&128)===128}function sP(n){return hi(n[Et])}function Va(n,e){return e==null?null:n[e]}function ZE(n){n[Qo]=0}function JE(n){n[te]&1024||(n[te]|=1024,pg(n)&&ru(n))}function aP(n,e){for(;n>0;)e=e[ds],n--;return e}function iu(n){return!!(n[te]&9216||n[an]?.dirty)}function fp(n){n[On].changeDetectionScheduler?.notify(8),n[te]&64&&(n[te]|=1024),iu(n)&&ru(n)}function ru(n){n[On].changeDetectionScheduler?.notify(0);let e=qr(n);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!pg(e)));)e=qr(e)}function XE(n,e){if((n[te]&256)===256)throw new P(911,!1);n[Yi]===null&&(n[Yi]=[]),n[Yi].push(e)}function cP(n,e){if(n[Yi]===null)return;let t=n[Yi].indexOf(e);t!==-1&&n[Yi].splice(t,1)}function qr(n){let e=n[Et];return hi(e)?e[Et]:e}var ue={lFrame:hD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eD=!1;function lP(){return ue.lFrame.elementDepthCount}function dP(){ue.lFrame.elementDepthCount++}function uP(){ue.lFrame.elementDepthCount--}function tD(){return ue.bindingsEnabled}function nD(){return ue.skipHydrationRootTNode!==null}function hP(n){return ue.skipHydrationRootTNode===n}function fP(){ue.skipHydrationRootTNode=null}function we(){return ue.lFrame.lView}function Dt(){return ue.lFrame.tView}function ar(n){return ue.lFrame.contextLView=n,n[Nt]}function cr(n){return ue.lFrame.contextLView=null,n}function Ut(){let n=iD();for(;n!==null&&n.type===64;)n=n.parent;return n}function iD(){return ue.lFrame.currentTNode}function mP(){let n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Wa(n,e){let t=ue.lFrame;t.currentTNode=n,t.isParent=e}function rD(){return ue.lFrame.isParent}function oD(){ue.lFrame.isParent=!1}function sD(){return eD}function UI(n){eD=n}function aD(){let n=ue.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function pP(){return ue.lFrame.bindingIndex}function gP(n){return ue.lFrame.bindingIndex=n}function ou(){return ue.lFrame.bindingIndex++}function cD(n){let e=ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _P(){return ue.lFrame.inI18n}function vP(n,e){let t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,mp(e)}function yP(){return ue.lFrame.currentDirectiveIndex}function mp(n){ue.lFrame.currentDirectiveIndex=n}function bP(n){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function lD(){return ue.lFrame.currentQueryIndex}function gg(n){ue.lFrame.currentQueryIndex=n}function wP(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[jt]:null}function dD(n,e,t){if(t&de.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&de.Host);)if(r=wP(o),r===null||(o=o[ds],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=ue.lFrame=uD();return i.currentTNode=e,i.lView=n,!0}function _g(n){let e=uD(),t=n[re];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uD(){let n=ue.lFrame,e=n===null?null:n.child;return e===null?hD(n):e}function hD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function fD(){let n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var mD=fD;function vg(){let n=fD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IP(n){return(ue.lFrame.contextLView=aP(n,ue.lFrame.contextLView))[Nt]}function lr(){return ue.lFrame.selectedIndex}function Gr(n){ue.lFrame.selectedIndex=n}function yg(){let n=ue.lFrame;return mg(n.tView,n.selectedIndex)}function EP(){return ue.lFrame.currentNamespace}var pD=!0;function bg(){return pD}function wg(n){pD=n}function DP(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=WE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Ig(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function xd(n,e,t){gD(n,e,3,t)}function Td(n,e,t,i){(n[te]&3)===t&&gD(n,e,t,i)}function Wm(n,e){let t=n[te];(t&3)===e&&(t&=16383,t+=1,n[te]=t)}function gD(n,e,t,i){let r=i!==void 0?n[Qo]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[Qo]+=65536),(a<o||o==-1)&&(xP(n,t,e,c),n[Qo]=(n[Qo]&4294901760)+c+2),c++}function BI(n,e){Rn(4,n,e);let t=be(null);try{e.call(n)}finally{be(t),Rn(5,n,e)}}function xP(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[te]>>14<n[Qo]>>16&&(n[te]&3)===e&&(n[te]+=16384,BI(a,o)):BI(a,o)}var Jo=-1,Wr=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function TP(n){return n instanceof Wr}function CP(n){return(n.flags&8)!==0}function SP(n){return(n.flags&16)!==0}var Km={},pp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Xd(i);let r=this.injector.get(e,Km,i);return r!==Km||t===Km?r:this.parentInjector.get(e,t,i)}};function _D(n){return n!==Jo}function Ld(n){return n&32767}function AP(n){return n>>16}function Vd(n,e){let t=AP(n),i=e;for(;t>0;)i=i[ds],t--;return i}var gp=!0;function jd(n){let e=gp;return gp=n,e}var kP=256,vD=kP-1,yD=5,MP=0,Nn={};function RP(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ra)&&(i=t[Ra]),i==null&&(i=t[Ra]=MP++);let r=i&vD,o=1<<r;e.data[n+(r>>yD)]|=o}function Ud(n,e){let t=bD(n,e);if(t!==-1)return t;let i=e[re];i.firstCreatePass&&(n.injectorIndex=e.length,Qm(i.data,n),Qm(e,null),Qm(i.blueprint,null));let r=Eg(n,e),o=n.injectorIndex;if(_D(r)){let s=Ld(r),a=Vd(r,e),c=a[re].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=r,o}function Qm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Eg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=xD(r),i===null)return Jo;if(t++,r=r[ds],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Jo}function _p(n,e,t){RP(n,e,t)}function NP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(AE(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function wD(n,e,t){if(t&de.Optional||n!==void 0)return n;cg(e,"NodeInjector")}function ID(n,e,t,i){if(t&de.Optional&&i===void 0&&(i=null),!(t&(de.Self|de.Host))){let r=n[rs],o=Lt(void 0);try{return r?r.get(e,i,t&de.Optional):DE(e,i,t&de.Optional)}finally{Lt(o)}}return wD(i,e,t)}function ED(n,e,t,i=de.Default,r){if(n!==null){if(e[te]&2048&&!(i&de.Self)){let s=LP(n,e,t,i,Nn);if(s!==Nn)return s}let o=DD(n,e,t,i,Nn);if(o!==Nn)return o}return ID(e,t,i,r)}function DD(n,e,t,i,r){let o=OP(t);if(typeof o=="function"){if(!dD(e,n,i))return i&de.Host?wD(r,t,i):ID(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&de.Optional))cg(t);else return s}finally{mD()}}else if(typeof o=="number"){let s=null,a=bD(n,e),c=Jo,d=i&de.Host?e[Kt][jt]:null;for((a===-1||i&de.SkipSelf)&&(c=a===-1?Eg(n,e):e[a+8],c===Jo||!zI(i,!1)?a=-1:(s=e[re],a=Ld(c),e=Vd(c,e)));a!==-1;){let h=e[re];if($I(o,a,h.data)){let m=PP(a,e,t,s,i,d);if(m!==Nn)return m}c=e[a+8],c!==Jo&&zI(i,e[re].data[a+8]===d)&&$I(o,a,e)?(s=h,a=Ld(c),e=Vd(c,e)):a=-1}}return r}function PP(n,e,t,i,r,o){let s=e[re],a=s.data[n+8],c=i==null?nu(a)&&gp:i!=s&&(a.type&3)!==0,d=r&de.Host&&o===a,h=Cd(a,s,t,c,d);return h!==null?Kr(e,s,h,a):Nn}function Cd(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,d=n.directiveEnd,h=o>>20,m=i?a:a+h,_=r?a+h:d;for(let g=m;g<_;g++){let w=s[g];if(g<c&&t===w||g>=c&&w.type===t)return g}if(r){let g=s[c];if(g&&er(g)&&g.type===t)return c}return null}function Kr(n,e,t,i){let r=n[t],o=e.data;if(TP(r)){let s=r;s.resolving&&aN(sN(o[t]));let a=jd(s.canSeeViewProviders);s.resolving=!0;let c,d=s.injectImpl?Lt(s.injectImpl):null,h=dD(n,i,de.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&DP(t,o[t],e)}finally{d!==null&&Lt(d),jd(a),s.resolving=!1,mD()}}return r}function OP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ra)?n[Ra]:void 0;return typeof e=="number"?e>=0?e&vD:FP:e}function $I(n,e,t){let i=1<<n;return!!(t[e+(n>>yD)]&i)}function zI(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var Br=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return ED(this._tNode,this._lView,e,Xd(i),t)}};function FP(){return new Br(Ut(),we())}function Jr(n){return qa(()=>{let e=n.prototype.constructor,t=e[kd]||vp(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[kd]||vp(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function vp(n){return vE(n)?()=>{let e=vp(Rt(n));return e&&e()}:$r(n)}function LP(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!(s[te]&512);){let a=DD(o,s,t,i|de.Self,Nn);if(a!==Nn)return a;let c=o.parent;if(!c){let d=s[zE];if(d){let h=d.get(t,Nn,i);if(h!==Nn)return h}c=xD(s),s=s[ds]}o=c}return r}function xD(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[jt]:null}function Ka(n){return NP(Ut(),n)}function HI(n,e=null,t=null,i){let r=TD(n,e,t,i);return r.resolveInjectorInitializers(),r}function TD(n,e=null,t=null,i,r=new Set){let o=[t||sn,UN(n)];return i=i||(typeof n=="object"?void 0:Vt(n)),new Fa(o,e||hg(),i||null,r)}var cn=class n{static{this.THROW_IF_NOT_FOUND=Pa}static{this.NULL=new Nd}static create(e,t){if(Array.isArray(e))return HI({name:""},t,e,"");{let i=e.name??"";return HI({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=j({token:n,providedIn:"any",factory:()=>U(TE)})}static{this.__NG_ELEMENT_ID__=-1}};var VP=new H("");VP.__NG_ELEMENT_ID__=n=>{let e=Ut();if(e===null)throw new P(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new P(204,!1)};var jP="ngOriginalError";function Ym(n){return n[jP]}var CD=!0,SD=(()=>{class n{static{this.__NG_ELEMENT_ID__=UP}static{this.__NG_ENV_ID__=t=>t}}return n})(),yp=class extends SD{constructor(e){super(),this._lView=e}onDestroy(e){return XE(this._lView,e),()=>cP(this._lView,e)}};function UP(){return new yp(we())}var us=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})();var bp=class extends Je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,ZN()&&(this.destroyRef=F(SD,{optional:!0})??void 0,this.pendingTasks=F(us,{optional:!0})??void 0)}emit(e){let t=be(null);try{super.next(e)}finally{be(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Be&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},We=bp;function Bd(...n){}function AD(n){let e,t;function i(){n=Bd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function qI(n){return queueMicrotask(()=>n()),()=>{n=Bd}}var Dg="isAngularZone",$d=Dg+"_ID",BP=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=CD}=e;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,HP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Dg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new P(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,$P,Bd,Bd);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},$P={};function xg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){AD(()=>{n.callbackScheduled=!1,wp(n),n.isCheckStableRunning=!0,xg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),wp(n)}function HP(n){let e=()=>{zP(n)},t=BP++;n._inner=n._inner.fork({name:"angular",properties:{[Dg]:!0,[$d]:t,[$d+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(qP(c))return i.invokeTask(o,s,a,c);try{return GI(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),WI(n)}},onInvoke:(i,r,o,s,a,c,d)=>{try{return GI(n),i.invoke(o,s,a,c,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!GP(c)&&e(),WI(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,wp(n),xg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function wp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function GI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WI(n){n._nesting--,xg(n)}var Ip=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function qP(n){return kD(n,"__ignore_ng_zone__")}function GP(n){return kD(n,"__scheduler_tick__")}function kD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Yt=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ym(e);for(;t&&Ym(t);)t=Ym(t);return t||null}},WP=new H("",{providedIn:"root",factory:()=>{let n=F(_e),e=F(Yt);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function KP(){return hs(Ut(),we())}function hs(n,e){return new Ke(ln(n,e))}var Ke=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=KP}}return n})();function QP(n){return n instanceof Ke?n.nativeElement:n}function YP(){return this._results[Symbol.iterator]()}var zd=class n{get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=YP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=yN(e);(this._changesDetected=!vN(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function MD(n){return(n.flags&128)===128}var RD=new Map,ZP=0;function JP(){return ZP++}function XP(n){RD.set(n[tu],n)}function Ep(n){RD.delete(n[tu])}var KI="__ngContext__";function Qr(n,e){Zi(e)?(n[KI]=e[tu],XP(e)):n[KI]=e}function ND(n){return OD(n[La])}function PD(n){return OD(n[In])}function OD(n){for(;n!==null&&!hi(n);)n=n[In];return n}var Dp;function FD(n){Dp=n}function e1(){if(Dp!==void 0)return Dp;if(typeof document<"u")return document;throw new P(210,!1)}var su=new H("",{providedIn:"root",factory:()=>t1}),t1="ng",Tg=new H(""),jn=new H("",{providedIn:"platform",factory:()=>"unknown"});var Xr=new H(""),Qa=new H("",{providedIn:"root",factory:()=>e1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var n1="h",i1="b";var r1=()=>null;function Cg(n,e,t=!1){return r1(n,e,t)}var LD=!1,o1=new H("",{providedIn:"root",factory:()=>LD});var vd;function s1(){if(vd===void 0&&(vd=null,Na.trustedTypes))try{vd=Na.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vd}function au(n){return s1()?.createHTML(n)||n}var yd;function a1(){if(yd===void 0&&(yd=null,Na.trustedTypes))try{yd=Na.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yd}function QI(n){return a1()?.createScriptURL(n)||n}var ci=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_E})`}},xp=class extends ci{getTypeName(){return"HTML"}},Tp=class extends ci{getTypeName(){return"Style"}},Cp=class extends ci{getTypeName(){return"Script"}},Sp=class extends ci{getTypeName(){return"URL"}},Ap=class extends ci{getTypeName(){return"ResourceURL"}};function Un(n){return n instanceof ci?n.changingThisBreaksApplicationSecurity:n}function dr(n,e){let t=c1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_E})`)}return t===e}function c1(n){return n instanceof ci&&n.getTypeName()||null}function VD(n){return new xp(n)}function jD(n){return new Tp(n)}function UD(n){return new Cp(n)}function BD(n){return new Sp(n)}function $D(n){return new Ap(n)}function l1(n){let e=new Mp(n);return d1()?new kp(e):e}var kp=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(au(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Mp=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=au(e),t}};function d1(){try{return!!new window.DOMParser().parseFromString(au(""),"text/html")}catch{return!1}}var u1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cu(n){return n=String(n),n.match(u1)?n:"unsafe:"+n}function fi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ya(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var zD=fi("area,br,col,hr,img,wbr"),HD=fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qD=fi("rp,rt"),h1=Ya(qD,HD),f1=Ya(HD,fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),m1=Ya(qD,fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),YI=Ya(zD,f1,m1,h1),GD=fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p1=fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),g1=fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),_1=Ya(GD,p1,g1),v1=fi("script,style,template"),Rp=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=w1(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=b1(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=ZI(e).toLowerCase();if(!YI.hasOwnProperty(t))return this.sanitizedSomething=!0,!v1.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!_1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;GD[a]&&(c=cu(c)),this.buf.push(" ",s,'="',JI(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=ZI(e).toLowerCase();YI.hasOwnProperty(t)&&!zD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(JI(e))}};function y1(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function b1(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw WD(e);return e}function w1(n){let e=n.firstChild;if(e&&y1(n,e))throw WD(e);return e}function ZI(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function WD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var I1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,E1=/([^\#-~ |!])/g;function JI(n){return n.replace(/&/g,"&amp;").replace(I1,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(E1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var bd;function KD(n,e){let t=null;try{bd=bd||l1(n);let i=e?String(e):"";t=bd.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=bd.getInertBodyElement(i)}while(i!==o);let a=new Rp().sanitizeChildren(XI(t)||t);return au(a)}finally{if(t){let i=XI(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function XI(n){return"content"in n&&D1(n)?n.content:null}function D1(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var xt=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(xt||{});function Za(n){let e=YD();return e?e.sanitize(xt.URL,n)||"":dr(n,"URL")?Un(n):cu(Xo(n))}function x1(n){let e=YD();if(e)return QI(e.sanitize(xt.RESOURCE_URL,n)||"");if(dr(n,"ResourceURL"))return QI(Un(n));throw new P(904,!1)}function T1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?x1:Za}function QD(n,e,t){return T1(e,t)(n)}function YD(){let n=we();return n&&n[On].sanitizer}function ZD(n){return n instanceof Function?n():n}var li=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(li||{}),C1;function Sg(n,e){return C1(n,e)}function Yo(n,e,t,i,r){if(i!=null){let o,s=!1;hi(i)?o=i:Zi(i)&&(s=!0,i=i[ui]);let a=Fn(i);n===0&&t!==null?r==null?nx(e,t,a):Hd(e,t,a,r||null,!0):n===1&&t!==null?Hd(e,t,a,r||null,!0):n===2?U1(e,a,s):n===3&&e.destroyNode(a),o!=null&&$1(e,n,o,t,r)}}function S1(n,e){return n.createText(e)}function A1(n,e,t){n.setValue(e,t)}function JD(n,e,t){return n.createElement(e,t)}function k1(n,e){XD(n,e),e[ui]=null,e[jt]=null}function M1(n,e,t,i,r,o){i[ui]=r,i[jt]=e,du(n,i,t,1,r,o)}function XD(n,e){e[On].changeDetectionScheduler?.notify(9),du(n,e,e[at],2,null,null)}function R1(n){let e=n[La];if(!e)return Zm(n[re],n);for(;e;){let t=null;if(Zi(e))t=e[La];else{let i=e[It];i&&(t=i)}if(!t){for(;e&&!e[In]&&e!==n;)Zi(e)&&Zm(e[re],e),e=e[Et];e===null&&(e=n),Zi(e)&&Zm(e[re],e),t=e&&e[In]}e=t}}function N1(n,e,t,i){let r=It+i,o=t.length;i>0&&(t[r-1][In]=e),i<o-It?(e[In]=t[r],xE(t,It+i,e)):(t.push(e),e[In]=null),e[Et]=t;let s=e[zr];s!==null&&t!==s&&ex(s,e);let a=e[ai];a!==null&&a.insertView(n),fp(e),e[te]|=128}function ex(n,e){let t=n[os],i=e[Et];if(Zi(i))n[te]|=Fd.HasTransplantedViews;else{let r=i[Et][Kt];e[Kt]!==r&&(n[te]|=Fd.HasTransplantedViews)}t===null?n[os]=[e]:t.push(e)}function Ag(n,e){let t=n[os],i=t.indexOf(e);t.splice(i,1)}function ja(n,e){if(n.length<=It)return;let t=It+e,i=n[t];if(i){let r=i[zr];r!==null&&r!==n&&Ag(r,i),e>0&&(n[t-1][In]=i[In]);let o=Rd(n,It+e);k1(i[re],i);let s=o[ai];s!==null&&s.detachView(o[re]),i[Et]=null,i[In]=null,i[te]&=-129}return i}function lu(n,e){if(!(e[te]&256)){let t=e[at];t.destroyNode&&du(n,e,t,3,null,null),R1(e)}}function Zm(n,e){if(e[te]&256)return;let t=be(null);try{e[te]&=-129,e[te]|=256,e[an]&&Em(e[an]),O1(n,e),P1(n,e),e[re].type===1&&e[at].destroy();let i=e[zr];if(i!==null&&hi(e[Et])){i!==e[Et]&&Ag(i,e);let r=e[ai];r!==null&&r.detachView(n)}Ep(e)}finally{be(t)}}function P1(n,e){let t=n.cleanup,i=e[Pd];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[Pd]=null);let r=e[Yi];if(r!==null){e[Yi]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function O1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Wr)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Rn(4,a,c);try{c.call(a)}finally{Rn(5,a,c)}}else{Rn(4,r,o);try{o.call(r)}finally{Rn(5,r,o)}}}}}function tx(n,e,t){return F1(n,e.parent,t)}function F1(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ui];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Pn.None||o===Pn.Emulated)return null}return ln(i,t)}}function Hd(n,e,t,i,r){n.insertBefore(e,t,i,r)}function nx(n,e,t){n.appendChild(e,t)}function eE(n,e,t,i,r){i!==null?Hd(n,e,t,i,r):nx(n,e,t)}function ix(n,e){return n.parentNode(e)}function L1(n,e){return n.nextSibling(e)}function rx(n,e,t){return j1(n,e,t)}function V1(n,e,t){return n.type&40?ln(n,t):null}var j1=V1,tE;function kg(n,e,t,i){let r=tx(n,i,e),o=e[at],s=i.parent||e[jt],a=rx(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)eE(o,r,t[c],a,!1);else eE(o,r,t,a,!1);tE!==void 0&&tE(o,i,e,t,r)}function ka(n,e){if(e!==null){let t=e.type;if(t&3)return ln(e,n);if(t&4)return Np(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return ka(n,i);{let r=n[e.index];return hi(r)?Np(-1,r):Fn(r)}}else{if(t&128)return ka(n,e.next);if(t&32)return Sg(e,n)()||Fn(n[e.index]);{let i=ox(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=qr(n[Kt]);return ka(r,i)}else return ka(n,e.next)}}}return null}function ox(n,e){if(e!==null){let i=n[Kt][jt],r=e.projection;return i.projection[r]}return null}function Np(n,e){let t=It+n+1;if(t<e.length){let i=e[t],r=i[re].firstChild;if(r!==null)return ka(i,r)}return e[Hr]}function U1(n,e,t){n.removeChild(null,e,t)}function Mg(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(s&&e===0&&(a&&Qr(Fn(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)Mg(n,e,t.child,i,r,o,!1),Yo(e,n,r,a,o);else if(c&32){let d=Sg(t,i),h;for(;h=d();)Yo(e,n,r,h,o);Yo(e,n,r,a,o)}else c&16?sx(n,e,i,t,r,o):Yo(e,n,r,a,o);t=s?t.projectionNext:t.next}}function du(n,e,t,i,r,o){Mg(t,i,n.firstChild,e,r,o,!1)}function B1(n,e,t){let i=e[at],r=tx(n,t,e),o=t.parent||e[jt],s=rx(o,t,e);sx(i,0,e,t,r,s)}function sx(n,e,t,i,r,o){let s=t[Kt],c=s[jt].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let h=c[d];Yo(e,n,r,h,o)}else{let d=c,h=s[Et];MD(i)&&(d.flags|=128),Mg(n,e,d,h,r,o,!0)}}function $1(n,e,t,i,r){let o=t[Hr],s=Fn(t);o!==s&&Yo(e,n,i,o,r);for(let a=It;a<t.length;a++){let c=t[a];du(c[re],c,n,e,i,o)}}function z1(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:li.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=li.Important),n.setStyle(t,i,r,o))}}function H1(n,e,t){n.setAttribute(e,"style",t)}function ax(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function cx(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&ap(n,e,i),r!==null&&ax(n,e,r),o!==null&&H1(n,e,o)}var Bn={};function ze(n=1){lx(Dt(),we(),lr()+n,!1)}function lx(n,e,t,i){if(!i)if((e[te]&3)===3){let o=n.preOrderCheckHooks;o!==null&&xd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Td(e,o,0,t)}Gr(t)}function W(n,e=de.Default){let t=we();if(t===null)return U(n,e);let i=Ut();return ED(i,t,Rt(n),e)}function dx(n,e,t,i,r,o){let s=be(null);try{let a=null;r&Ji.SignalBased&&(a=e[i][Ui]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ji.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):GE(e,a,i,o)}finally{be(s)}}function q1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Gr(~r);else{let o=r,s=t[++i],a=t[++i];vP(s,o);let c=e[o];a(2,c)}}}finally{Gr(-1)}}function uu(n,e,t,i,r,o,s,a,c,d,h){let m=e.blueprint.slice();return m[ui]=r,m[te]=i|4|128|8|64,(d!==null||n&&n[te]&2048)&&(m[te]|=2048),ZE(m),m[Et]=m[ds]=n,m[Nt]=t,m[On]=s||n&&n[On],m[at]=a||n&&n[at],m[rs]=c||n&&n[rs]||null,m[jt]=o,m[tu]=JP(),m[is]=h,m[zE]=d,m[Kt]=e.type==2?n[Kt]:m,m}function Ja(n,e,t,i,r){let o=n.data[e];if(o===null)o=G1(n,e,t,i,r),_P()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=mP();o.injectorIndex=s===null?-1:s.injectorIndex}return Wa(o,!0),o}function G1(n,e,t,i,r){let o=iD(),s=rD(),a=s?o:o&&o.parent,c=n.data[e]=J1(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function ux(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function hx(n,e,t,i,r){let o=lr(),s=i&2;try{Gr(-1),s&&e.length>Qt&&lx(n,e,Qt,!1),Rn(s?2:0,r),t(i,r)}finally{Gr(o),Rn(s?3:1,r)}}function fx(n,e,t){if(qE(e)){let i=be(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{be(i)}}}function mx(n,e,t){tD()&&(rO(n,e,t,ln(t,e)),(t.flags&64)===64&&bx(n,e,t))}function px(n,e,t=ln){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function gx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Rg(n,e,t,i,r,o,s,a,c,d,h){let m=Qt+i,_=m+r,g=W1(m,_),w=typeof d=="function"?d():d;return g[re]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:h}}function W1(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Bn);return t}function K1(n,e,t,i){let o=i.get(o1,LD)||t===Pn.ShadowDom,s=n.selectRootElement(e,o);return Q1(s),s}function Q1(n){Y1(n)}var Y1=()=>null;function Z1(n,e,t,i){let r=Ex(e);r.push(t),n.firstCreatePass&&Dx(n).push(i,r.length-1)}function J1(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return nD()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function nE(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=Ji.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let d=o;if(r!==null){if(!r.hasOwnProperty(o))continue;d=r[o]}n===0?iE(i,t,d,a,c):iE(i,t,d,a)}return i}function iE(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function X1(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,d=null;for(let h=i;h<r;h++){let m=o[h],_=t?t.get(m):null,g=_?_.inputs:null,w=_?_.outputs:null;c=nE(0,m.inputs,h,c,g),d=nE(1,m.outputs,h,d,w);let T=c!==null&&s!==null&&!dg(e)?pO(c,h,s):null;a.push(T)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}function eO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _x(n,e,t,i,r,o,s,a){let c=ln(e,t),d=e.inputs,h;!a&&d!=null&&(h=d[i])?(Ng(n,t,h,i,r),nu(e)&&tO(t,e.index)):e.type&3?(i=eO(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function tO(n,e){let t=sr(e,n);t[te]&16||(t[te]|=64)}function vx(n,e,t,i){if(tD()){let r=i===null?null:{"":-1},o=sO(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&yx(n,e,t,s,r,a),r&&aO(t,i,r)}t.mergedAttrs=Oa(t.mergedAttrs,t.attrs)}function yx(n,e,t,i,r,o){for(let d=0;d<i.length;d++)_p(Ud(t,e),n,i[d].type);lO(t,n.data.length,i.length);for(let d=0;d<i.length;d++){let h=i[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=ux(n,e,i.length,null);for(let d=0;d<i.length;d++){let h=i[d];t.mergedAttrs=Oa(t.mergedAttrs,h.hostAttrs),dO(n,t,e,c,h),cO(c,h,r),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let m=h.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}X1(n,t,o)}function nO(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;iO(s)!=a&&s.push(a),s.push(t,i,o)}}function iO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function rO(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;nu(t)&&uO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ud(t,e),Qr(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let c=n.data[a],d=Kr(e,n,a,t);if(Qr(d,e),s!==null&&mO(e,a-r,d,c,t,s),er(c)){let h=sr(t.index,e);h[Nt]=Kr(e,n,a,t)}}}function bx(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=yP();try{Gr(o);for(let a=i;a<r;a++){let c=n.data[a],d=e[a];mp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&oO(c,d)}}finally{Gr(-1),mp(s)}}function oO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function sO(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(ME(e,s.selectors,!1))if(i||(i=[]),er(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Pp(n,e,c)}else i.unshift(s),Pp(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Pp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function aO(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new P(-301,!1);i.push(e[r],o)}}}function cO(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;er(e)&&(t[""]=n)}}function lO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function dO(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=$r(r.type,!0)),s=new Wr(o,er(r),W);n.blueprint[i]=s,t[i]=s,nO(n,e,i,ux(n,t,r.hostVars,Bn),r)}function uO(n,e,t){let i=ln(e,n),r=gx(t),o=n[On].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=hu(n,uu(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function hO(n,e,t,i,r,o){let s=ln(n,e);fO(e[at],s,o,n.value,t,i,r)}function fO(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Xo(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function mO(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],d=s[a++],h=s[a++],m=s[a++];dx(i,t,c,d,h,m)}}function pO(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function wx(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Ix(n,e){let t=n.contentQueries;if(t!==null){let i=be(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];gg(o),a.contentQueries(2,e[s],s)}}}finally{be(i)}}}function hu(n,e){return n[La]?n[VI][In]=e:n[La]=e,n[VI]=e,e}function Op(n,e,t){gg(0);let i=be(null);try{e(n,t)}finally{be(i)}}function Ex(n){return n[Pd]??=[]}function Dx(n){return n.cleanup??=[]}function xx(n,e){let t=n[rs],i=t?t.get(Yt,null):null;i&&i.handleError(e)}function Ng(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],d=e[s],h=n.data[s];dx(h,d,i,a,c,r)}}function Tx(n,e,t){let i=YE(e,n);A1(n[at],i,t)}function gO(n,e){let t=sr(e,n),i=t[re];_O(i,t);let r=t[ui];r!==null&&t[is]===null&&(t[is]=Cg(r,t[rs])),Pg(i,t,t[Nt])}function _O(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Pg(n,e,t){_g(e);try{let i=n.viewQuery;i!==null&&Op(1,i,t);let r=n.template;r!==null&&hx(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ai]?.finishViewCreation(n),n.staticContentQueries&&Ix(n,e),n.staticViewQueries&&Op(2,n.viewQuery,t);let o=n.components;o!==null&&vO(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[te]&=-5,vg()}}function vO(n,e){for(let t=0;t<e.length;t++)gO(n,e[t])}function fu(n,e,t,i){let r=be(null);try{let o=e.tView,a=n[te]&4096?4096:16,c=uu(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=n[e.index];c[zr]=d;let h=n[ai];return h!==null&&(c[ai]=h.createEmbeddedView(o)),Pg(o,c,t),c}finally{be(r)}}function yO(n,e){let t=It+e;if(t<n.length)return n[t]}function Ua(n,e){return!e||e.firstChild===null||MD(n)}function mu(n,e,t,i=!0){let r=e[re];if(N1(r,e,n,t),i){let s=Np(t,n),a=e[at],c=ix(a,n[Hr]);c!==null&&M1(r,n[jt],a,e,c,s)}let o=e[is];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bO(n,e){let t=ja(n,e);return t!==void 0&&lu(t[re],t),t}function qd(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Fn(o)),hi(o)&&wO(o,i);let s=t.type;if(s&8)qd(n,e,t.child,i);else if(s&32){let a=Sg(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=ox(e,t);if(Array.isArray(a))i.push(...a);else{let c=qr(e[Kt]);qd(c[re],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function wO(n,e){for(let t=It;t<n.length;t++){let i=n[t],r=i[re].firstChild;r!==null&&qd(i[re],i,r,e)}n[Hr]!==n[ui]&&e.push(n[Hr])}var Cx=[];function IO(n){return n[an]??EO(n)}function EO(n){let e=Cx.pop()??Object.create(xO);return e.lView=n,e}function DO(n){n.lView[an]!==n&&(n.lView=null,Cx.push(n))}var xO=he(N({},Da),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ru(n.lView)},consumerOnSignalRead(){this.lView[an]=this}});function TO(n){let e=n[an]??Object.create(CO);return e.lView=n,e}var CO=he(N({},Da),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=qr(n.lView);for(;e&&!Sx(e[re]);)e=qr(e);e&&JE(e)},consumerOnSignalRead(){this.lView[an]=this}});function Sx(n){return n.type!==2}var SO=100;function Ax(n,e=!0,t=0){let i=n[On],r=i.rendererFactory,o=!1;o||r.begin?.();try{AO(n,t)}catch(s){throw e&&xx(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function AO(n,e){let t=sD();try{UI(!0),Fp(n,e);let i=0;for(;iu(n);){if(i===SO)throw new P(103,!1);i++,Fp(n,1)}}finally{UI(t)}}function kO(n,e,t,i){let r=e[te];if((r&256)===256)return;let o=!1,s=!1;!o&&e[On].inlineEffectRunner?.flush(),_g(e);let a=!0,c=null,d=null;o||(Sx(n)?(d=IO(e),c=$l(d)):H0()===null?(a=!1,d=TO(e),c=$l(d)):e[an]&&(Em(e[an]),e[an]=null));try{ZE(e),gP(n.bindingStartIndex),t!==null&&hx(n,e,t,2,i);let h=(r&3)===3;if(!o)if(h){let g=n.preOrderCheckHooks;g!==null&&xd(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Td(e,g,0,null),Wm(e,0)}if(s||MO(e),kx(e,0),n.contentQueries!==null&&Ix(n,e),!o)if(h){let g=n.contentCheckHooks;g!==null&&xd(e,g)}else{let g=n.contentHooks;g!==null&&Td(e,g,1),Wm(e,1)}q1(n,e);let m=n.components;m!==null&&Rx(e,m,0);let _=n.viewQuery;if(_!==null&&Op(2,_,i),!o)if(h){let g=n.viewCheckHooks;g!==null&&xd(e,g)}else{let g=n.viewHooks;g!==null&&Td(e,g,2),Wm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gm]){for(let g of e[Gm])g();e[Gm]=null}o||(e[te]&=-73)}catch(h){throw o||ru(e),h}finally{d!==null&&(wm(d,c),a&&DO(d)),vg()}}function kx(n,e){for(let t=ND(n);t!==null;t=PD(t))for(let i=It;i<t.length;i++){let r=t[i];Mx(r,e)}}function MO(n){for(let e=ND(n);e!==null;e=PD(e)){if(!(e[te]&Fd.HasTransplantedViews))continue;let t=e[os];for(let i=0;i<t.length;i++){let r=t[i];JE(r)}}}function RO(n,e,t){let i=sr(e,n);Mx(i,t)}function Mx(n,e){pg(n)&&Fp(n,e)}function Fp(n,e){let i=n[re],r=n[te],o=n[an],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Im(o)),s||=!1,o&&(o.dirty=!1),n[te]&=-9217,s)kO(i,n,i.template,n[Nt]);else if(r&8192){kx(n,1);let a=i.components;a!==null&&Rx(n,a,1)}}function Rx(n,e,t){for(let i=0;i<e.length;i++)RO(n,e[i],t)}function Og(n,e){let t=sD()?64:1088;for(n[On].changeDetectionScheduler?.notify(e);n;){n[te]|=t;let i=qr(n);if(up(n)&&!i)return n;n=i}return null}var Yr=class{get rootNodes(){let e=this._lView,t=e[re];return qd(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nt]}set context(e){this._lView[Nt]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Et];if(hi(e)){let t=e[Od],i=t?t.indexOf(this):-1;i>-1&&(ja(e,i),Rd(t,i))}this._attachedToViewContainer=!1}lu(this._lView[re],this._lView)}onDestroy(e){XE(this._lView,e)}markForCheck(){Og(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){fp(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,Ax(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=up(this._lView),t=this._lView[zr];t!==null&&!e&&Ag(t,this._lView),XD(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e;let t=up(this._lView),i=this._lView[zr];i!==null&&!t&&ex(i,this._lView),fp(this._lView)}},Ba=(()=>{class n{static{this.__NG_ELEMENT_ID__=OO}}return n})(),NO=Ba,PO=class extends NO{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=fu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Yr(r)}};function OO(){return Fg(Ut(),we())}function Fg(n,e){return n.type&4?new PO(e,n,hs(n,e)):null}var R9=new RegExp(`^(\\d+)*(${i1}|${n1})*(.*)`);var FO=()=>null;function $a(n,e){return FO(n,e)}var ss=class{},pu=new H("",{providedIn:"root",factory:()=>!1});var Nx=new H(""),Px=new H(""),Lp=class{},Gd=class{};function LO(n){let e=Error(`No component factory found for ${Vt(n)}.`);return e[VO]=n,e}var VO="ngComponent";var Vp=class{resolveComponentFactory(e){throw LO(e)}},as=class{static{this.NULL=new Vp}},tr=class{},ur=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>jO()}}return n})();function jO(){let n=we(),e=Ut(),t=sr(e.index,n);return(Zi(t)?t:n)[at]}var UO=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>null})}}return n})();function jp(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=SI(r,a);else if(o==2){let c=a,d=e[++s];i=SI(i,c+": "+d+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Wd=class extends as{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Xi(e);return new cs(t,this.ngModule)}};function rE(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Ji.None;e?t.push({propName:s,templateName:i,isSignal:(a&Ji.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function BO(n){let e=n.toLowerCase();return e==="svg"?nP:e==="math"?iP:null}var cs=class extends Gd{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=rE(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return rE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=ON(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=be(null);try{r=r||this.ngModule;let s=r instanceof Wt?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new pp(e,s):e,c=a.get(tr,null);if(c===null)throw new P(407,!1);let d=a.get(UO,null),h=a.get(ss,null),m={rendererFactory:c,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:h},_=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",w=i?K1(_,i,this.componentDef.encapsulation,a):JD(_,g,BO(g)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let S=null;w!==null&&(S=Cg(w,a,!0));let M=Rg(0,null,null,1,0,null,null,null,null,null,null),L=uu(null,M,null,T,null,null,m,_,a,null,S);_g(L);let B,K,Ae=null;try{let Z=this.componentDef,I,v=null;Z.findHostDirectiveDefs?(I=[],v=new Map,Z.findHostDirectiveDefs(Z,I,v),I.push(Z)):I=[Z];let y=$O(L,w);Ae=zO(y,w,Z,I,L,m,_),K=mg(M,Qt),w&&GO(_,Z,w,i),t!==void 0&&WO(K,this.ngContentSelectors,t),B=qO(Ae,Z,I,v,L,[KO]),Pg(M,L,null)}catch(Z){throw Ae!==null&&Ep(Ae),Ep(L),Z}finally{vg()}return new Up(this.componentType,B,hs(K,L),L,K)}finally{be(o)}}},Up=class extends Lp{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Yr(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Ng(o[re],o,r,e,t),this.previousInputValues.set(e,t);let s=sr(this._tNode.index,o);Og(s,1)}}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $O(n,e){let t=n[re],i=Qt;return n[i]=e,Ja(t,i,2,"#host",null)}function zO(n,e,t,i,r,o,s){let a=r[re];HO(i,n,e,s);let c=null;e!==null&&(c=Cg(e,r[rs]));let d=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let m=uu(r,gx(t),null,h,r[n.index],n,o,d,null,null,c);return a.firstCreatePass&&Pp(a,n,i.length-1),hu(r,m),r[n.index]=m}function HO(n,e,t,i){for(let r of n)e.mergedAttrs=Oa(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(jp(e,e.mergedAttrs,!0),t!==null&&cx(i,t,e))}function qO(n,e,t,i,r,o){let s=Ut(),a=r[re],c=ln(s,r);yx(a,r,s,t,null,i);for(let h=0;h<t.length;h++){let m=s.directiveStart+h,_=Kr(r,a,m,s);Qr(_,r)}bx(a,r,s),c&&Qr(c,r);let d=Kr(r,a,s.directiveStart+s.componentOffset,s);if(n[Nt]=r[Nt]=d,o!==null)for(let h of o)h(d,e);return fx(a,s,r),d}function GO(n,e,t,i){if(i)ap(n,t,["ng-version","18.2.13"]);else{let{attrs:r,classes:o}=FN(e.selectors[0]);r&&ap(n,t,r),o&&o.length>0&&ax(n,t,o.join(" "))}}function WO(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function KO(){let n=Ut();Ig(we()[re],n)}var fs=(()=>{class n{static{this.__NG_ELEMENT_ID__=QO}}return n})();function QO(){let n=Ut();return Fx(n,we())}var YO=fs,Ox=class extends YO{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return hs(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){let e=Eg(this._hostTNode,this._hostLView);if(_D(e)){let t=Vd(e,this._hostLView),i=Ld(e),r=t[re].data[i+8];return new Br(r,t)}else return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=oE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=$a(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Ua(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!JN(e),a;if(s)a=t;else{let w=t||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new cs(Xi(e)),d=i||this.parentInjector;if(!o&&c.ngModule==null){let T=(s?d:this.parentInjector).get(Wt,null);T&&(o=T)}let h=Xi(c.componentType??{}),m=$a(this._lContainer,h?.id??null),_=m?.firstChild??null,g=c.create(d,r,_,o);return this.insertImpl(g.hostView,a,Ua(this._hostTNode,m)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(sP(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Et],d=new Ox(c,c[jt],c[Et]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return mu(s,r,o,i),e.attachToViewContainerRef(),xE(Jm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=oE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=ja(this._lContainer,t);i&&(Rd(Jm(this._lContainer),t),lu(i[re],i))}detach(e){let t=this._adjustIndex(e,-1),i=ja(this._lContainer,t);return i&&Rd(Jm(this._lContainer),t)!=null?new Yr(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function oE(n){return n[Od]}function Jm(n){return n[Od]||(n[Od]=[])}function Fx(n,e){let t,i=e[n.index];return hi(i)?t=i:(t=wx(i,e,null,n),e[n.index]=t,hu(e,t)),JO(t,e,n,i),new Ox(t,n,e)}function ZO(n,e){let t=n[at],i=t.createComment(""),r=ln(e,n),o=ix(t,r);return Hd(t,o,i,L1(t,r),!1),i}var JO=tF,XO=()=>!1;function eF(n,e,t){return XO(n,e,t)}function tF(n,e,t,i){if(n[Hr])return;let r;t.type&8?r=Fn(i):r=ZO(e,t),n[Hr]=r}var Bp=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},$p=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Lg(e,t).matches!==null&&this.queries[t].setDirty()}},zp=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=lF(e):this.predicate=e}},Hp=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},qp=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,nF(t,o)),this.matchTNodeWithReadOption(e,t,Cd(t,e,o,!1,!1))}else i===Ba?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Cd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ke||r===fs||r===Ba&&t.type&4)this.addMatch(t.index,-2);else{let o=Cd(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function nF(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function iF(n,e){return n.type&11?hs(n,e):n.type&4?Fg(n,e):null}function rF(n,e,t,i){return t===-1?iF(e,n):t===-2?oF(n,e,i):Kr(n,n[re],t,e)}function oF(n,e,t){if(t===Ke)return hs(e,n);if(t===Ba)return Fg(e,n);if(t===fs)return Fx(e,n)}function Lx(n,e,t,i){let r=e[ai].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let d=s[c];if(d<0)a.push(null);else{let h=o[d];a.push(rF(e,h,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function Gp(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=Lx(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let d=o[a+1],h=e[-c];for(let m=It;m<h.length;m++){let _=h[m];_[zr]===_[Et]&&Gp(_[re],_,d,i)}if(h[os]!==null){let m=h[os];for(let _=0;_<m.length;_++){let g=m[_];Gp(g[re],g,d,i)}}}}}return i}function sF(n,e){return n[ai].queries[e].queryList}function aF(n,e,t){let i=new zd((t&4)===4);return Z1(n,e,i,i.destroy),(e[ai]??=new $p).queries.push(new Bp(i))-1}function cF(n,e,t){let i=Dt();return i.firstCreatePass&&(dF(i,new zp(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),aF(i,we(),e)}function lF(n){return n.split(",").map(e=>e.trim())}function dF(n,e,t){n.queries===null&&(n.queries=new Hp),n.queries.track(new qp(e,t))}function Lg(n,e){return n.queries.getByIndex(e)}function uF(n,e){let t=n[re],i=Lg(t,e);return i.crossesNgTemplate?Gp(t,n,e,[]):Lx(t,n,i,e)}var sE=new Set;function eo(n){sE.has(n)||(sE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Xa(n,e){eo("NgSignals");let t=tI(n),i=t[Ui];return e?.equal&&(i.equal=e.equal),t.set=r=>Dm(i,r),t.update=r=>nI(i,r),t.asReadonly=hF.bind(t),t}function hF(){let n=this[Ui];if(n.readonlyFn===void 0){let e=()=>this();e[Ui]=n,n.readonlyFn=e}return n.readonlyFn}function fF(n){return Object.getPrototypeOf(n.prototype).constructor}function Pt(n){let e=fF(n.type),t=!0,i=[n];for(;e;){let r;if(er(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=wd(n.inputs),s.inputTransforms=wd(n.inputTransforms),s.declaredInputs=wd(n.declaredInputs),s.outputs=wd(n.outputs);let a=r.hostBindings;a&&vF(n,a);let c=r.viewQuery,d=r.contentQueries;if(c&&gF(n,c),d&&_F(n,d),mF(n,r),JR(n.outputs,r.outputs),er(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Pt&&(t=!1)}}e=Object.getPrototypeOf(e)}pF(i)}function mF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function pF(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Oa(r.hostAttrs,t=Oa(t,r.hostAttrs))}}function wd(n){return n===es?{}:n===sn?[]:n}function gF(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function _F(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function vF(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function to(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var nr=class{},za=class{};var Wp=class extends nr{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wd(this);let o=FE(e);this._bootstrapComponents=ZD(o.bootstrap),this._r3Injector=TD(e,t,[{provide:nr,useValue:this},{provide:as,useValue:this.componentFactoryResolver},...i],Vt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Kp=class extends za{constructor(e){super(),this.moduleType=e}create(e){return new Wp(this.moduleType,e,[])}};var Kd=class extends nr{constructor(e){super(),this.componentFactoryResolver=new Wd(this),this.instance=null;let t=new Fa([...e.providers,{provide:nr,useValue:this},{provide:as,useValue:this.componentFactoryResolver}],e.parent||hg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vg(n,e,t=null){return new Kd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function yF(n,e,t){return n[e]=t}function ir(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function bF(n,e,t,i){let r=ir(n,e,t);return ir(n,e+1,i)||r}function wF(n){return(n.flags&32)===32}function IF(n,e,t,i,r,o,s,a,c){let d=e.consts,h=Ja(e,n,4,s||null,a||null);vx(e,t,h,Va(d,c)),Ig(e,h);let m=h.tView=Rg(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,h),m.queries=e.queries.embeddedTView(h)),h}function Qp(n,e,t,i,r,o,s,a,c,d){let h=t+Qt,m=e.firstCreatePass?IF(h,e,n,i,r,o,s,a,c):e.data[h];Wa(m,!1);let _=EF(e,n,m,t);bg()&&kg(e,n,_,m),Qr(_,n);let g=wx(_,n,_,m);return n[h]=g,hu(n,g),eF(g,m,n),fg(m)&&mx(e,n,m),c!=null&&px(n,m,d),m}var EF=DF;function DF(n,e,t,i){return wg(!0),e[at].createComment("")}var Ma=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ma||{}),xF=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})(),aE=class n{constructor(){this.ngZone=F(_e),this.scheduler=F(ss),this.errorHandler=F(Yt,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ma.EarlyRead,Ma.Write,Ma.MixedReadWrite,Ma.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}};function dn(n,e,t,i){let r=we(),o=ou();if(ir(r,o,e)){let s=Dt(),a=yg();hO(a,r,n,e,t,i)}return dn}function Vx(n,e,t,i){return ir(n,ou(),t)?e+Xo(t)+i:Bn}function TF(n,e,t,i,r,o){let s=pP(),a=bF(n,s,t,r);return cD(2),a?e+Xo(t)+i+Xo(r)+o:Bn}function Id(n,e){return n<<17|e<<2}function Zr(n){return n>>17&32767}function CF(n){return(n&2)==2}function SF(n,e){return n&131071|e<<17}function Yp(n){return n|2}function ls(n){return(n&131068)>>2}function Xm(n,e){return n&-131069|e<<2}function AF(n){return(n&1)===1}function Zp(n){return n|1}function kF(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Zr(s),c=ls(s);n[i]=t;let d=!1,h;if(Array.isArray(t)){let m=t;h=m[1],(h===null||Ga(m,h)>0)&&(d=!0)}else h=t;if(r)if(c!==0){let _=Zr(n[a+1]);n[i+1]=Id(_,a),_!==0&&(n[_+1]=Xm(n[_+1],i)),n[a+1]=SF(n[a+1],i)}else n[i+1]=Id(a,0),a!==0&&(n[a+1]=Xm(n[a+1],i)),a=i;else n[i+1]=Id(c,0),a===0?a=i:n[c+1]=Xm(n[c+1],i),c=i;d&&(n[i+1]=Yp(n[i+1])),cE(n,h,i,!0),cE(n,h,i,!1),MF(e,h,n,i,o),s=Id(a,c),o?e.classBindings=s:e.styleBindings=s}function MF(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ga(o,e)>=0&&(t[i+1]=Zp(t[i+1]))}function cE(n,e,t,i){let r=n[t+1],o=e===null,s=i?Zr(r):ls(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],d=n[s+1];RF(c,e)&&(a=!0,n[s+1]=i?Zp(d):Yp(d)),s=i?Zr(d):ls(d)}a&&(n[t+1]=i?Yp(r):Zp(r))}function RF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ga(n,e)>=0:!1}function ct(n,e,t){let i=we(),r=ou();if(ir(i,r,e)){let o=Dt(),s=yg();_x(o,s,i,n,e,i[at],t,!1)}return ct}function lE(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";Ng(n,t,o[s],s,i)}function Bt(n,e){return NF(n,e,null,!0),Bt}function NF(n,e,t,i){let r=we(),o=Dt(),s=cD(2);if(o.firstUpdatePass&&OF(o,n,s,i),e!==Bn&&ir(r,s,e)){let a=o.data[lr()];UF(o,a,r,r[at],n,r[s+1]=BF(e,t),i,s)}}function PF(n,e){return e>=n.expandoStartIndex}function OF(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[lr()],s=PF(n,t);$F(o,i)&&e===null&&!s&&(e=!1),e=FF(r,o,e,i),kF(r,o,e,t,s,i)}}function FF(n,e,t,i){let r=bP(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=ep(null,n,e,t,i),t=Ha(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=ep(r,n,e,t,i),o===null){let c=LF(n,e,i);c!==void 0&&Array.isArray(c)&&(c=ep(null,n,e,c[1],i),c=Ha(c,e.attrs,i),VF(n,e,i,c))}else o=jF(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function LF(n,e,t){let i=t?e.classBindings:e.styleBindings;if(ls(i)!==0)return n[Zr(i)]}function VF(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Zr(r)]=i}function jF(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Ha(i,s,t)}return Ha(i,e.attrs,t)}function ep(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Ha(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Ha(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),IN(n,s,t?!0:e[++o]))}return n===void 0?null:n}function UF(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,d=c[a+1],h=AF(d)?dE(c,e,t,r,ls(d),s):void 0;if(!Qd(h)){Qd(o)||CF(d)&&(o=dE(c,null,t,r,a,s));let m=YE(lr(),t);z1(i,s,m,r,o)}}function dE(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],d=Array.isArray(c),h=d?c[1]:c,m=h===null,_=t[r+1];_===Bn&&(_=m?sn:void 0);let g=m?Hm(_,i):h===i?_:void 0;if(d&&!Qd(g)&&(g=Hm(c,i)),Qd(g)&&(a=g,s))return a;let w=n[r+1];r=s?Zr(w):ls(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Hm(c,i))}return a}function Qd(n){return n!==void 0}function BF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Vt(Un(n)))),n}function $F(n,e){return(n.flags&(e?8:16))!==0}var Jp=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function tp(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function zF(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let d=n.at(o),h=e[o],m=tp(o,d,o,h,t);if(m!==0){m<0&&n.updateValue(o,h),o++;continue}let _=n.at(s),g=e[c],w=tp(s,_,c,g,t);if(w!==0){w<0&&n.updateValue(s,g),s--,c--;continue}let T=t(o,d),S=t(s,_),M=t(o,h);if(Object.is(M,S)){let L=t(c,g);Object.is(L,T)?(n.swap(o,s),n.updateValue(s,g),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(i??=new Yd,r??=hE(n,o,s,t),Xp(n,i,o,M))n.updateValue(o,h),o++,s++;else if(r.has(M))i.set(T,n.detach(o)),s--;else{let L=n.create(o,e[o]);n.attach(o,L),o++,s++}}for(;o<=c;)uE(n,i,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),d=c.next();for(;!d.done&&o<=s;){let h=n.at(o),m=d.value,_=tp(o,h,o,m,t);if(_!==0)_<0&&n.updateValue(o,m),o++,d=c.next();else{i??=new Yd,r??=hE(n,o,s,t);let g=t(o,m);if(Xp(n,i,o,g))n.updateValue(o,m),o++,s++,d=c.next();else if(!r.has(g))n.attach(o,n.create(o,m)),o++,s++,d=c.next();else{let w=t(o,h);i.set(w,n.detach(o)),s--}}}for(;!d.done;)uE(n,i,t,n.length,d.value),d=c.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(c=>{n.destroy(c)})}function Xp(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function uE(n,e,t,i,r){if(Xp(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function hE(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Yd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};var eg=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-It}};function mi(n){return n}var tg=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function pi(n,e,t,i,r,o,s,a,c,d,h,m,_){eo("NgControlFlow");let g=we(),w=Dt(),T=c!==void 0,S=we(),M=a?s.bind(S[Kt][Nt]):s,L=new tg(T,M);S[Qt+n]=L,Qp(g,w,n+1,e,t,i,r,Va(w.consts,o)),T&&Qp(g,w,n+2,c,d,h,m,Va(w.consts,_))}var ng=class extends Jp{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-It}at(e){return this.getLView(e)[Nt].$implicit}attach(e,t){let i=t[is];this.needsIndexUpdate||=e!==this.length,mu(this.lContainer,t,e,Ua(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,HF(this.lContainer,e)}create(e,t){let i=$a(this.lContainer,this.templateTNode.tView.ssrId),r=fu(this.hostLView,this.templateTNode,new eg(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){lu(e[re],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Nt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Nt].$index=e}getLView(e){return qF(this.lContainer,e)}};function gi(n){let e=be(null),t=lr();try{let i=we(),r=i[re],o=i[t],s=t+1,a=fE(i,s);if(o.liveCollection===void 0){let d=mE(r,s);o.liveCollection=new ng(a,i,d)}else o.liveCollection.reset();let c=o.liveCollection;if(zF(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let d=ou(),h=c.length===0;if(ir(i,d,h)){let m=t+2,_=fE(i,m);if(h){let g=mE(r,m),w=$a(_,g.tView.ssrId),T=fu(i,g,void 0,{dehydratedView:w});mu(_,T,0,Ua(g,w))}else bO(_,0)}}}finally{be(e)}}function fE(n,e){return n[e]}function HF(n,e){return ja(n,e)}function qF(n,e){return yO(n,e)}function mE(n,e){return mg(n,e)}function GF(n,e,t,i,r,o){let s=e.consts,a=Va(s,r),c=Ja(e,n,2,i,a);return vx(e,t,c,Va(s,o)),c.attrs!==null&&jp(c,c.attrs,!1),c.mergedAttrs!==null&&jp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ne(n,e,t,i){let r=we(),o=Dt(),s=Qt+n,a=r[at],c=o.firstCreatePass?GF(s,o,r,e,t,i):o.data[s],d=WF(o,r,c,a,e,n);r[s]=d;let h=fg(c);return Wa(c,!0),cx(a,d,c),!wF(c)&&bg()&&kg(o,r,d,c),lP()===0&&Qr(d,r),dP(),h&&(mx(o,r,c),fx(o,c,r)),i!==null&&px(r,c),ne}function ie(){let n=Ut();rD()?oD():(n=n.parent,Wa(n,!1));let e=n;hP(e)&&fP(),uP();let t=Dt();return t.firstCreatePass&&(Ig(t,n),qE(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&CP(e)&&lE(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SP(e)&&lE(t,e,we(),e.stylesWithoutHost,!1),ie}function Le(n,e,t,i){return ne(n,e,t,i),ie(),Le}var WF=(n,e,t,i,r,o)=>(wg(!0),JD(i,r,EP()));function ms(){return we()}var Zd="en-US";var KF=Zd;function QF(n){typeof n=="string"&&(KF=n.toLowerCase().replace(/_/g,"-"))}var YF=(n,e,t)=>{};function dt(n,e,t,i){let r=we(),o=Dt(),s=Ut();return JF(o,r,r[at],s,n,e,i),dt}function ZF(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Pd],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function JF(n,e,t,i,r,o,s){let a=fg(i),d=n.firstCreatePass&&Dx(n),h=e[Nt],m=Ex(e),_=!0;if(i.type&3||s){let T=ln(i,e),S=s?s(T):T,M=m.length,L=s?K=>s(Fn(K[i.index])):i.index,B=null;if(!s&&a&&(B=ZF(n,e,r,i.index)),B!==null){let K=B.__ngLastListenerFn__||B;K.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,_=!1}else{o=gE(i,e,h,o),YF(T,r,o);let K=t.listen(S,r,o);m.push(o,K),d&&d.push(r,L,M,M+1)}}else o=gE(i,e,h,o);let g=i.outputs,w;if(_&&g!==null&&(w=g[r])){let T=w.length;if(T)for(let S=0;S<T;S+=2){let M=w[S],L=w[S+1],Ae=e[M][L].subscribe(o),Z=m.length;m.push(o,Ae),d&&d.push(r,i.index,Z,-(Z+1))}}}function pE(n,e,t,i){let r=be(null);try{return Rn(6,e,t),t(i)!==!1}catch(o){return xx(n,o),!1}finally{Rn(7,e,t),be(r)}}function gE(n,e,t,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?sr(n.index,e):e;Og(s,5);let a=pE(e,t,i,o),c=r.__ngNextListenerFn__;for(;c;)a=pE(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function ec(n=1){return IP(n)}function XF(n,e){let t=null,i=kN(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?ME(n,o,!0):NN(i,o))return r}return t}function $n(n){let e=we()[Kt][jt];if(!e.projection){let t=n?n.length:1,i=e.projection=bN(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?XF(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function un(n,e=0,t,i,r,o){let s=we(),a=Dt(),c=i?n+1:null;c!==null&&Qp(s,a,c,i,r,o,null,t);let d=Ja(a,Qt+n,16,null,t||null);d.projection===null&&(d.projection=e),oD();let m=!s[is]||nD();s[Kt][jt].projection[d.projection]===null&&c!==null?eL(s,a,c):m&&(d.flags&32)!==32&&B1(a,s,d)}function eL(n,e,t){let i=Qt+t,r=e.data[i],o=n[i],s=$a(o,r.tView.ssrId),a=fu(n,r,void 0,{dehydratedView:s});mu(o,a,0,Ua(r,s))}function jg(n,e,t){return gu(n,"",e,"",t),jg}function gu(n,e,t,i,r){let o=we(),s=Vx(o,e,t,i);if(s!==Bn){let a=Dt(),c=yg();_x(a,c,o,n,s,o[at],r,!1)}return gu}function _u(n,e,t){cF(n,e,t)}function tc(n){let e=we(),t=Dt(),i=lD();gg(i+1);let r=Lg(t,i);if(n.dirty&&oP(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=uF(e,i);n.reset(o,QP),n.notifyOnChanges()}return!0}return!1}function nc(){return sF(we(),lD())}function tL(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Pe(n,e=""){let t=we(),i=Dt(),r=n+Qt,o=i.firstCreatePass?Ja(i,r,1,e,null):i.data[r],s=nL(i,t,o,e,n);t[r]=s,bg()&&kg(i,t,s,o),Wa(o,!1)}var nL=(n,e,t,i,r)=>(wg(!0),S1(e[at],i));function Ug(n){return hr("",n,""),Ug}function hr(n,e,t){let i=we(),r=Vx(i,n,e,t);return r!==Bn&&Tx(i,lr(),r),hr}function Bg(n,e,t,i,r){let o=we(),s=TF(o,n,e,t,i,r);return s!==Bn&&Tx(o,lr(),s),Bg}function iL(n,e,t){let i=Dt();if(i.firstCreatePass){let r=er(n);ig(t,i.data,i.blueprint,r,!0),ig(e,i.data,i.blueprint,r,!1)}}function ig(n,e,t,i,r){if(n=Rt(n),Array.isArray(n))for(let o=0;o<n.length;o++)ig(n[o],e,t,i,r);else{let o=Dt(),s=we(),a=Ut(),c=ns(n)?n:Rt(n.provide),d=$E(n),h=a.providerIndexes&1048575,m=a.directiveStart,_=a.providerIndexes>>20;if(ns(n)||!n.multi){let g=new Wr(d,r,W),w=ip(c,e,r?h:h+_,m);w===-1?(_p(Ud(a,s),o,c),np(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[w]=g,s[w]=g)}else{let g=ip(c,e,h+_,m),w=ip(c,e,h,h+_),T=g>=0&&t[g],S=w>=0&&t[w];if(r&&!S||!r&&!T){_p(Ud(a,s),o,c);let M=sL(r?oL:rL,t.length,r,i,d);!r&&S&&(t[w].providerFactory=M),np(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=jx(t[r?w:g],d,!r&&i);np(o,n,g>-1?g:w,M)}!r&&i&&S&&t[w].componentProviders++}}}function np(n,e,t,i){let r=ns(e),o=HN(e);if(r||o){let c=(o?Rt(e.useClass):e).prototype.ngOnDestroy;if(c){let d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=d.indexOf(t);h===-1?d.push(t,[i,c]):d[h+1].push(i,c)}else d.push(t,c)}}}function jx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ip(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function rL(n,e,t,i){return rg(this.multi,[])}function oL(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Kr(t,t[re],this.providerFactory.index,i);o=a.slice(0,s),rg(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],rg(r,o);return o}function rg(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function sL(n,e,t,i,r){let o=new Wr(n,t,W);return o.multi=[],o.index=e,o.componentProviders=0,jx(o,r,i&&!t),o}function _i(n,e=[]){return t=>{t.providersResolver=(i,r)=>iL(i,r?r(n):n,e)}}var aL=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=jE(!1,t.type),r=i.length>0?Vg([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(U(Wt))})}}return n})();function Tt(n){eo("NgStandalone"),n.getStandaloneInjector=e=>e.get(aL).getOrCreateStandaloneInjector(n)}function $g(n,e,t,i){return Ux(we(),aD(),n,e,t,i)}function cL(n,e){let t=n[e];return t===Bn?void 0:t}function Ux(n,e,t,i,r,o){let s=e+t;return ir(n,s,r)?yF(n,s+1,o?i.call(o,r):i(r)):cL(n,s+1)}function Bx(n,e){let t=Dt(),i,r=n+Qt;t.firstCreatePass?(i=lL(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=$r(i.type,!0)),s,a=Lt(W);try{let c=jd(!1),d=o();return jd(c),tL(t,we(),r,d),d}finally{Lt(a)}}function lL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function $x(n,e,t){let i=n+Qt,r=we(),o=rP(r,i);return dL(r,i)?Ux(r,aD(),e,o.transform,t,o):o.transform(t)}function dL(n,e){return n[re].data[e].pure}var Ln=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},zx=new Ln("18.2.13");var vu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Hx=new H("");function fr(n){return!!n&&typeof n.then=="function"}function zg(n){return!!n&&typeof n.subscribe=="function"}var qx=new H(""),Gx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=F(qx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(fr(o))t.push(o);else if(zg(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hg=new H("");function uL(){eI(()=>{throw new P(600,!1)})}function hL(n){return n.isBoundToModule}var fL=10;function mL(n,e,t){try{let i=t();return fr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var no=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(WP),this.afterRenderManager=F(xF),this.zonelessEnabled=F(pu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Je,this.afterTick=new Je,this.componentTypes=[],this.components=[],this.isStable=F(us).hasPendingTasks.pipe(G(t=>!t)),this._injector=F(Wt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Gd;if(!this._injector.get(Gx).done){let _=!r&&OE(t),g=!1;throw new P(405,g)}let s;r?s=t:s=this._injector.get(as).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=hL(s)?void 0:this._injector.get(nr),c=i||s.selector,d=s.create(cn.NULL,[],c,a),h=d.location.nativeElement,m=d.injector.get(Hx,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Sd(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new P(101,!1);let t=be(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,be(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(tr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<fL;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)pL(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>iu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Sd(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Hg,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function pL(n,e,t,i){if(!t&&!iu(n))return;Ax(n,e,t&&!i?0:1)}var og=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},qg=(()=>{class n{compileModuleSync(t){return new Kp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=FE(t),o=ZD(r.declarations).reduce((s,a)=>{let c=Xi(a);return c&&s.push(new cs(c)),s},[]);return new og(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gL=(()=>{class n{constructor(){this.zone=F(_e),this.changeDetectionScheduler=F(ss),this.applicationRef=F(no)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_L=new H("",{factory:()=>!1});function Wx({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(he(N({},Qx()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:ts,multi:!0,useFactory:()=>{let i=F(gL,{optional:!0});return()=>i.initialize()}},{provide:ts,multi:!0,useFactory:()=>{let i=F(vL);return()=>{i.initialize()}}},e===!0?{provide:Nx,useValue:!0}:[],{provide:Px,useValue:t??CD}]}function Kx(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=Wx({ngZoneFactory:()=>{let r=Qx(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&eo("NgZone_CoalesceEvent"),new _e(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return or([{provide:_L,useValue:!0},{provide:pu,useValue:!1},i])}function Qx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var vL=(()=>{class n{constructor(){this.subscription=new Be,this.initialized=!1,this.zone=F(_e),this.pendingTasks=F(us)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yL=(()=>{class n{constructor(){this.appRef=F(no),this.taskService=F(us),this.ngZone=F(_e),this.zonelessEnabled=F(pu),this.disableScheduling=F(Nx,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Be,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($d):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(Px,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ip||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?qI:AD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($d+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bL(){return typeof $localize<"u"&&$localize.locale||Zd}var yu=new H("",{providedIn:"root",factory:()=>F(yu,de.Optional|de.SkipSelf)||bL()});var sg=new H("");function Ed(n){return!n.moduleRef}function wL(n){let e=Ed(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{Ed(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Yt,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Ed(n)){let o=()=>e.destroy(),s=n.platformInjector.get(sg);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(sg);s.add(o),n.moduleRef.onDestroy(()=>{Sd(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return mL(i,t,()=>{let o=e.get(Gx);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(yu,Zd);if(QF(s||Zd),Ed(n)){let a=e.get(no);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return IL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function IL(n,e){let t=n.injector.get(no);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new P(-403,!1);e.push(n)}var Ad=null;function EL(n=[],e){return cn.create({name:e,providers:[{provide:eu,useValue:"platform"},{provide:sg,useValue:new Set([()=>Ad=null])},...n]})}function DL(n=[]){if(Ad)return Ad;let e=EL(n);return Ad=e,uL(),xL(e),e}function xL(n){n.get(Tg,null)?.forEach(t=>t())}var vi=(()=>{class n{static{this.__NG_ELEMENT_ID__=TL}}return n})();function TL(n){return CL(Ut(),we(),(n&16)===16)}function CL(n,e,t){if(nu(n)&&!t){let i=sr(n.index,e);return new Yr(i,i)}else if(n.type&175){let i=e[Kt];return new Yr(i,e)}return null}function Yx(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=DL(i),o=[Wx({}),{provide:ss,useExisting:yL},...t||[]],s=new Kd({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return wL({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function mr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ic(n,e){eo("NgSignals");let t=Z0(n);return e?.equal&&(t[Ui].equal=e.equal),t}function Dn(n){let e=be(null);try{return n()}finally{be(e)}}function Zx(n){let e=Xi(n);if(!e)return null;let t=new cs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var tT=null;function yi(){return tT}function nT(n){tT??=n}var bu=class{};var Xe=new H(""),iT=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>F(SL),providedIn:"platform"})}}return n})();var SL=(()=>{class n extends iT{constructor(){super(),this._doc=F(Xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yi().getBaseHref(this._doc)}onPopState(t){let i=yi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=yi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function rT(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Jx(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function io(n){return n&&n[0]!=="?"?"?"+n:n}var ps=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>F(oT),providedIn:"root"})}}return n})(),AL=new H(""),oT=(()=>{class n extends ps{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rT(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+io(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+io(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+io(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(U(iT),U(AL,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var rc=(()=>{class n{constructor(t){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=RL(Jx(Xx(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+io(i))}normalize(t){return n.stripTrailingSlash(ML(this._basePath,Xx(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+io(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+io(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=io}static{this.joinWithSlash=rT}static{this.stripTrailingSlash=Jx}static{this.\u0275fac=function(i){return new(i||n)(U(ps))}}static{this.\u0275prov=j({token:n,factory:()=>kL(),providedIn:"root"})}}return n})();function kL(){return new rc(U(ps))}function ML(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Xx(n){return n.replace(/\/index.html$/,"")}function RL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function sT(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Gg=/\s+/,eT=[],aT=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=eT,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Gg):eT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Gg):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Gg).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(W(Ke),W(ur))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();function NL(n,e){return new P(2100,!1)}var Wg=class{createSubscription(e,t){return Dn(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){Dn(()=>e.unsubscribe())}},Kg=class{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}},PL=new Kg,OL=new Wg,cT=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(fr(t))return PL;if(zg(t))return OL;throw NL(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(W(vi,16))}}static{this.\u0275pipe=RE({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var xn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({})}}return n})(),Qg="browser",FL="server";function lT(n){return n===Qg}function Yg(n){return n===FL}var wu=class{};var Xg=class{};var gs=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var e_=class{encodeKey(e){return dT(e)}encodeValue(e){return dT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function LL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var VL=/%(\d[a-f0-9])/gi,jL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dT(n){return encodeURIComponent(n).replace(VL,(e,t)=>jL[t]??e)}function Iu(n){return`${n}`}var pr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new e_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=LL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Iu):[Iu(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Iu(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Iu(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var t_=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function UL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hT(n){return typeof Blob<"u"&&n instanceof Blob}function fT(n){return typeof FormData<"u"&&n instanceof FormData}function BL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var oc=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(UL(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new gs,this.context??=new t_,!this.params)this.params=new pr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||uT(this.body)||hT(this.body)||fT(this.body)||BL(this.body)?this.body:this.body instanceof pr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fT(this.body)?null:hT(this.body)?this.body.type||null:uT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof pr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,g)=>_.set(g,e.setHeaders[g]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((_,g)=>_.set(g,e.setParams[g]),h)),new n(t,i,s,{params:h,headers:d,context:m,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},mT=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(mT||{}),n_=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new gs,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var i_=class n extends n_{constructor(e={}){super(e),this.type=mT.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Jg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var pT=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof oc)o=t;else{let c;r.headers instanceof gs?c=r.headers:c=new gs(r.headers);let d;r.params&&(r.params instanceof pr?d=r.params:d=new pr({fromObject:r.params})),o=new oc(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=J(o).pipe(Gi(c=>this.handler.handle(c)));if(t instanceof oc||r.observe==="events")return s;let a=s.pipe(wt(c=>c instanceof i_));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(G(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(G(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(G(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(G(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new pr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Jg(r,i))}post(t,i,r={}){return this.request("POST",t,Jg(r,i))}put(t,i,r={}){return this.request("PUT",t,Jg(r,i))}static{this.\u0275fac=function(i){return new(i||n)(U(Xg))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();var s_=class extends bu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},a_=class n extends s_{static makeCurrent(){nT(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=zL();return t==null?null:HL(t)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sT(document.cookie,e)}},sc=null;function zL(){return sc=sc||document.querySelector("base"),sc?sc.getAttribute("href"):null}function HL(n){return new URL(n,document.baseURI).pathname}var qL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),c_=new H(""),vT=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(U(c_),U(_e))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Eu=class{constructor(e){this._doc=e}},r_="ng-app-id",yT=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yg(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${r_}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(r_),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(r_,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(U(Xe),U(su),U(Qa,8),U(jn))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),o_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},d_=/%COMP%/g,bT="%COMP%",GL=`_nghost-${bT}`,WL=`_ngcontent-${bT}`,KL=!0,QL=new H("",{providedIn:"root",factory:()=>KL});function YL(n){return WL.replace(d_,n)}function ZL(n){return GL.replace(d_,n)}function wT(n,e){return e.map(t=>t.replace(d_,n))}var Du=(()=>{class n{constructor(t,i,r,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Yg(a),this.defaultRenderer=new ac(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Pn.ShadowDom&&(i=he(N({},i),{encapsulation:Pn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof xu?r.applyToHost(t):r instanceof cc&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Pn.Emulated:o=new xu(c,d,i,this.appId,h,s,a,m);break;case Pn.ShadowDom:return new l_(c,d,t,i,s,a,this.nonce,m);default:o=new cc(c,d,i,h,s,a,m);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(U(vT),U(yT),U(su),U(QL),U(Xe),U(jn),U(_e),U(Qa))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),ac=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(o_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(gT(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(gT(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new P(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=o_[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=o_[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(li.DashCase|li.Important)?e.style.setProperty(t,i,r&li.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&li.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=yi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function gT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var l_=class extends ac{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=wT(r.id,r.styles);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cc=class extends ac{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?wT(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xu=class extends cc{constructor(e,t,i,r,o,s,a,c){let d=r+"-"+i.id;super(e,t,i,o,s,a,c,d),this.contentAttr=YL(d),this.hostAttr=ZL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},JL=(()=>{class n extends Eu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(U(Xe))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),_T=["alt","control","meta","shift"],XL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},tV=(()=>{class n extends Eu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),_T.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=XL[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),_T.forEach(s=>{if(s!==r){let a=eV[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(U(Xe))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function IT(n,e){return Yx(N({rootComponent:n},nV(e)))}function nV(n){return{appProviders:[...aV,...n?.providers??[]],platformProviders:sV}}function iV(){a_.makeCurrent()}function rV(){return new Yt}function oV(){return FD(document),document}var sV=[{provide:jn,useValue:Qg},{provide:Tg,useValue:iV,multi:!0},{provide:Xe,useFactory:oV,deps:[]}];var aV=[{provide:eu,useValue:"root"},{provide:Yt,useFactory:rV,deps:[]},{provide:c_,useClass:JL,multi:!0,deps:[Xe,_e,jn]},{provide:c_,useClass:tV,multi:!0,deps:[Xe]},Du,yT,vT,{provide:tr,useExisting:Du},{provide:wu,useClass:qL,deps:[]},[]];var ET=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(U(Xe))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var u_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=U(cV),r},providedIn:"root"})}}return n})(),cV=(()=>{class n extends u_{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case xt.NONE:return i;case xt.HTML:return dr(i,"HTML")?Un(i):KD(this._doc,String(i)).toString();case xt.STYLE:return dr(i,"Style")?Un(i):i;case xt.SCRIPT:if(dr(i,"Script"))return Un(i);throw new P(5200,!1);case xt.URL:return dr(i,"URL")?Un(i):cu(String(i));case xt.RESOURCE_URL:if(dr(i,"ResourceURL"))return Un(i);throw new P(5201,!1);default:throw new P(5202,!1)}}bypassSecurityTrustHtml(t){return VD(t)}bypassSecurityTrustStyle(t){return jD(t)}bypassSecurityTrustScript(t){return UD(t)}bypassSecurityTrustUrl(t){return BD(t)}bypassSecurityTrustResourceUrl(t){return $D(t)}static{this.\u0275fac=function(i){return new(i||n)(U(Xe))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ce="primary",Dc=Symbol("RouteTitle"),g_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Is(n){return new g_(n)}function hV(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zn(n[t],e[t]))return!1;return!0}function zn(n,e){let t=n?__(n):void 0,i=e?__(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!NT(n[r],e[r]))return!1;return!0}function __(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function NT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function PT(n){return n.length>0?n[n.length-1]:null}function _r(n){return Fm(n)?n:fr(n)?Ge(Promise.resolve(n)):J(n)}var mV={exact:FT,subset:LT},OT={exact:pV,subset:gV,ignored:()=>!0};function xT(n,e,t){return mV[t.paths](n.root,e.root,t.matrixParams)&&OT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function pV(n,e){return zn(n,e)}function FT(n,e,t){if(!oo(n.segments,e.segments)||!Su(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!FT(n.children[i],e.children[i],t))return!1;return!0}function gV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NT(n[t],e[t]))}function LT(n,e,t){return VT(n,e,e.segments,t)}function VT(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!oo(r,t)||e.hasChildren()||!Su(r,t,i))}else if(n.segments.length===t.length){if(!oo(n.segments,t)||!Su(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!LT(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!oo(n.segments,r)||!Su(n.segments,r,i)||!n.children[ce]?!1:VT(n.children[ce],e,o,i)}}function Su(n,e,t){return e.every((i,r)=>OT[t](n[r].parameters,i.parameters))}var wi=class{constructor(e=new Se([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){return yV.serialize(this)}},Se=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Au(this)}},ro=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Is(this.parameters),this._parameterMap}toString(){return UT(this)}};function _V(n,e){return oo(n,e)&&n.every((t,i)=>zn(t.parameters,e[i].parameters))}function oo(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function vV(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ce&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ce&&(t=t.concat(e(r,i)))}),t}var z_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>new pc,providedIn:"root"})}}return n})(),pc=class{parse(e){let t=new y_(e);return new wi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${lc(e.root,!0)}`,i=IV(e.queryParams),r=typeof e.fragment=="string"?`#${bV(e.fragment)}`:"";return`${t}${i}${r}`}},yV=new pc;function Au(n){return n.segments.map(e=>UT(e)).join("/")}function lc(n,e){if(!n.hasChildren())return Au(n);if(e){let t=n.children[ce]?lc(n.children[ce],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ce&&i.push(`${r}:${lc(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=vV(n,(i,r)=>r===ce?[lc(n.children[ce],!1)]:[`${r}:${lc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${Au(n)}/${t[0]}`:`${Au(n)}/(${t.join("//")})`}}function jT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tu(n){return jT(n).replace(/%3B/gi,";")}function bV(n){return encodeURI(n)}function v_(n){return jT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(n){return decodeURIComponent(n)}function TT(n){return ku(n.replace(/\+/g,"%20"))}function UT(n){return`${v_(n.path)}${wV(n.parameters)}`}function wV(n){return Object.entries(n).map(([e,t])=>`;${v_(e)}=${v_(t)}`).join("")}function IV(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Tu(t)}=${Tu(r)}`).join("&"):`${Tu(t)}=${Tu(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var EV=/^[^\/()?;#]+/;function h_(n){let e=n.match(EV);return e?e[0]:""}var DV=/^[^\/()?;=#]+/;function xV(n){let e=n.match(DV);return e?e[0]:""}var TV=/^[^=?&#]+/;function CV(n){let e=n.match(TV);return e?e[0]:""}var SV=/^[^&#]+/;function AV(n){let e=n.match(SV);return e?e[0]:""}var y_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ce]=new Se(e,t)),i}parseSegment(){let e=h_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new ro(ku(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xV(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=h_(this.remaining);r&&(i=r,this.capture(i))}e[ku(t)]=ku(i)}parseQueryParam(e){let t=CV(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=AV(this.remaining);s&&(i=s,this.capture(i))}let r=TT(t),o=TT(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=h_(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new P(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ce]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function BT(n){return n.segments.length>0?new Se([],{[ce]:n}):n}function $T(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=$T(r);if(i===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Se(n.segments,e);return kV(t)}function kV(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new Se(n.segments.concat(e.segments),e.children)}return n}function so(n){return n instanceof wi}function MV(n,e,t=null,i=null){let r=zT(n);return HT(r,e,t,i)}function zT(n){let e;function t(o){let s={};for(let c of o.children){let d=t(c);s[c.outlet]=d}let a=new Se(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=BT(i);return e??r}function HT(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return f_(r,r,r,t,i);let o=RV(e);if(o.toRoot())return f_(r,r,new Se([],{}),t,i);let s=NV(o,r,n),a=s.processChildren?hc(s.segmentGroup,s.index,o.commands):GT(s.segmentGroup,s.index,o.commands);return f_(r,s.segmentGroup,a,t,i)}function Mu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function gc(n){return typeof n=="object"&&n!=null&&n.outlets}function f_(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;n===e?s=t:s=qT(n,e,t);let a=BT($T(s));return new wi(a,o,r)}function qT(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=qT(o,e,t)}),new Se(n.segments,i)}var Ru=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Mu(i[0]))throw new P(4003,!1);let r=i.find(gc);if(r&&r!==PT(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function RV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ru(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Ru(t,e,i)}var ys=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function NV(n,e,t){if(n.isAbsolute)return new ys(e,!0,0);if(!t)return new ys(e,!1,NaN);if(t.parent===null)return new ys(t,!0,0);let i=Mu(n.commands[0])?0:1,r=t.segments.length-1+i;return PV(t,r,n.numberOfDoubleDots)}function PV(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new P(4005,!1);r=i.segments.length}return new ys(i,!1,r-o)}function OV(n){return gc(n[0])?n[0].outlets:{[ce]:n}}function GT(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return hc(n,e,t);let i=FV(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,i.pathIndex),{});return o.children[ce]=new Se(n.segments.slice(i.pathIndex),n.children),hc(o,0,r)}else return i.match&&r.length===0?new Se(n.segments,{}):i.match&&!n.hasChildren()?b_(n,e,t):i.match?hc(n,0,r):b_(n,e,t)}function hc(n,e,t){if(t.length===0)return new Se(n.segments,{});{let i=OV(t),r={};if(Object.keys(i).some(o=>o!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let o=hc(n.children[ce],e,t);return new Se(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=GT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Se(n.segments,r)}}function FV(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(gc(a))break;let c=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!ST(c,d,s))return o;i+=2}else{if(!ST(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function b_(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(gc(o)){let c=LV(o.outlets);return new Se(i,c)}if(r===0&&Mu(t[0])){let c=n.segments[e];i.push(new ro(c.path,CT(t[0]))),r++;continue}let s=gc(o)?o.outlets[ce]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Mu(a)?(i.push(new ro(s,CT(a))),r+=2):(i.push(new ro(s,{})),r++)}return new Se(i,{})}function LV(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=b_(new Se([],{}),0,i))}),e}function CT(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function ST(n,e,t){return n==t.path&&zn(e,t.parameters)}var fc="imperative",pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pt||{}),hn=class{constructor(e,t){this.id=e,this.url=t}},_c=class extends hn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=pt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gr=class extends hn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Jt||{}),w_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(w_||{}),bi=class extends hn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ao=class extends hn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=pt.NavigationSkipped}},vc=class extends hn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nu=class extends hn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},I_=class extends hn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},E_=class extends hn{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},D_=class extends hn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},x_=class extends hn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},T_=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},C_=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},S_=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},A_=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},k_=class{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},M_=class{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var yc=class{},Es=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function VV(n,e){return n.providers&&!n._injector&&(n._injector=Vg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Tn(n){return n.outlet||ce}function jV(n,e){let t=n.filter(i=>Tn(i)===e);return t.push(...n.filter(i=>Tn(i)!==e)),t}function xc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var R_=class{get injector(){return xc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Uu(this.rootInjector),this.attachRef=null}},Uu=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new R_(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(U(Wt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=N_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=N_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=P_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return P_(e,this._root).map(t=>t.value)}};function N_(n,e){if(n===e.value)return e;for(let t of e.children){let i=N_(n,t);if(i)return i}return null}function P_(n,e){if(n===e.value)return[e];for(let t of e.children){let i=P_(n,t);if(i.length)return i.unshift(e),i}return[]}var Zt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function vs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ou=class extends Pu{constructor(e,t){super(e),this.snapshot=t,H_(this,e)}toString(){return this.snapshot.toString()}};function WT(n){let e=UV(n),t=new mt([new ro("",{})]),i=new mt({}),r=new mt({}),o=new mt({}),s=new mt(""),a=new Ii(t,i,o,s,r,ce,n,e.root);return a.snapshot=e.root,new Ou(new Zt(a,[]),e)}function UV(n){let e={},t={},i={},r="",o=new bs([],e,i,r,t,ce,n,null,{});return new Lu("",new Zt(o,[]))}var Ii=class{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(G(d=>d[Dc]))??J(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(e=>Is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(e=>Is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fu(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:N(N({},e.params),n.params),data:N(N({},e.data),n.data),resolve:N(N(N(N({},n.data),e.data),r?.data),n._resolvedData)}:i={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},r&&QT(r)&&(i.resolve[Dc]=r.title),i}var bs=class{get title(){return this.data?.[Dc]}constructor(e,t,i,r,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Lu=class extends Pu{constructor(e,t){super(t),this.url=e,H_(this,t)}toString(){return KT(this._root)}};function H_(n,e){e.value._routerState=n,e.children.forEach(t=>H_(n,t))}function KT(n){let e=n.children.length>0?` { ${n.children.map(KT).join(", ")} } `:"";return`${n.value}${e}`}function m_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zn(e.params,t.params)||n.paramsSubject.next(t.params),fV(e.url,t.url)||n.urlSubject.next(t.url),zn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function O_(n,e){let t=zn(n.params,e.params)&&_V(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||O_(n.parent,e.parent))}function QT(n){return typeof n.title=="string"||n.title===null}var q_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=F(Uu),this.location=F(fs),this.changeDetector=F(vi),this.inputBinder=F(Bu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new F_(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vn]})}}return n})(),F_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ii?this.route:e===Uu?this.childContexts:this.parent.get(e,t)}},Bu=new H(""),AT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=si([i.queryParams,i.params,i.data]).pipe(Gt(([o,s,a],c)=>(a=N(N(N({},o),s),a),c===0?J(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=Zx(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function BV(n,e,t){let i=bc(n,e._root,t?t._root:void 0);return new Ou(i,e)}function bc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=$V(n,e,t);return new Zt(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bc(n,a)),s}}let i=zV(e.value),r=e.children.map(o=>bc(n,o));return new Zt(i,r)}}function $V(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return bc(n,i,r);return bc(n,i)})}function zV(n){return new Ii(new mt(n.url),new mt(n.params),new mt(n.queryParams),new mt(n.fragment),new mt(n.data),n.outlet,n.component,n)}var wc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},YT="ngNavigationCancelingError";function Vu(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ZT(!1,Jt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function ZT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[YT]=!0,t.cancellationCode=e,t}function HV(n){return JT(n)&&so(n.url)}function JT(n){return!!n&&n[YT]}var qV=(n,e,t,i)=>G(r=>(new L_(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),L_=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),m_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=vs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=vs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=vs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=vs(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new M_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new A_(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(m_(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),m_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},ju=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ws=class{constructor(e,t){this.component=e,this.route=t}};function GV(n,e,t){let i=n._root,r=e?e._root:null;return dc(i,r,t,[i.value])}function WV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function xs(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!yE(n)?n:e.get(n):i}function dc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=vs(e);return n.children.forEach(s=>{KV(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mc(a,t.getContext(s),r)),r}function KV(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=QV(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ju(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?dc(n,e,a?a.children:null,i,r):dc(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ws(a.outlet.component,s))}else s&&mc(e,a,r),r.canActivateChecks.push(new ju(i)),o.component?dc(n,null,a?a.children:null,i,r):dc(n,null,t,i,r);return r}function QV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!oo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oo(n.url,e.url)||!zn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!O_(n,e)||!zn(n.queryParams,e.queryParams);case"paramsChange":default:return!O_(n,e)}}function mc(n,e,t){let i=vs(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?mc(s,e.children.getContext(o),t):mc(s,null,t):mc(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ws(e.outlet.component,r)):t.canDeactivateChecks.push(new ws(null,r)):t.canDeactivateChecks.push(new ws(null,r))}function Tc(n){return typeof n=="function"}function YV(n){return typeof n=="boolean"}function ZV(n){return n&&Tc(n.canLoad)}function JV(n){return n&&Tc(n.canActivate)}function XV(n){return n&&Tc(n.canActivateChild)}function e2(n){return n&&Tc(n.canDeactivate)}function t2(n){return n&&Tc(n.canMatch)}function XT(n){return n instanceof oi||n?.name==="EmptyError"}var Cu=Symbol("INITIAL_VALUE");function Ds(){return Gt(n=>si(n.map(e=>e.pipe(qt(1),Wo(Cu)))).pipe(G(e=>{for(let t of e)if(t!==!0){if(t===Cu)return Cu;if(t===!1||n2(t))return t}return!0}),wt(e=>e!==Cu),qt(1)))}function n2(n){return so(n)||n instanceof wc}function i2(n,e){return st(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?J(he(N({},t),{guardsResult:!0})):r2(s,i,r,n).pipe(st(a=>a&&YV(a)?o2(i,o,n,e):J(a)),G(a=>he(N({},t),{guardsResult:a})))})}function r2(n,e,t,i){return Ge(n).pipe(st(r=>d2(r.component,r.route,t,e,i)),Mn(r=>r!==!0,!0))}function o2(n,e,t,i){return Ge(e).pipe(Gi(r=>qi(a2(r.route.parent,i),s2(r.route,i),l2(n,r.path,t),c2(n,r.route,t))),Mn(r=>r!==!0,!0))}function s2(n,e){return n!==null&&e&&e(new k_(n)),J(!0)}function a2(n,e){return n!==null&&e&&e(new S_(n)),J(!0)}function c2(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return J(!0);let r=i.map(o=>md(()=>{let s=xc(e)??t,a=xs(o,s),c=JV(a)?a.canActivate(e,n):di(s,()=>a(e,n));return _r(c).pipe(Mn())}));return J(r).pipe(Ds())}function l2(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WV(s)).filter(s=>s!==null).map(s=>md(()=>{let a=s.guards.map(c=>{let d=xc(s.node)??t,h=xs(c,d),m=XV(h)?h.canActivateChild(i,n):di(d,()=>h(i,n));return _r(m).pipe(Mn())});return J(a).pipe(Ds())}));return J(o).pipe(Ds())}function d2(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let c=xc(e)??r,d=xs(a,c),h=e2(d)?d.canDeactivate(n,e,t,i):di(c,()=>d(n,e,t,i));return _r(h).pipe(Mn())});return J(s).pipe(Ds())}function u2(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return J(!0);let o=r.map(s=>{let a=xs(s,n),c=ZV(a)?a.canLoad(e,t):di(n,()=>a(e,t));return _r(c)});return J(o).pipe(Ds(),eC(i))}function eC(n){return Ql($e(e=>{if(typeof e!="boolean")throw Vu(n,e)}),G(e=>e===!0))}function h2(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return J(!0);let o=r.map(s=>{let a=xs(s,n),c=t2(a)?a.canMatch(e,t):di(n,()=>a(e,t));return _r(c)});return J(o).pipe(Ds(),eC(i))}var Ic=class{constructor(e){this.segmentGroup=e||null}},Ec=class extends Error{constructor(e){super(),this.urlTree=e}};function _s(n){return Hi(new Ic(n))}function f2(n){return Hi(new P(4e3,!1))}function m2(n){return Hi(ZT(!1,Jt.GuardRejected))}var V_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return J(i);if(r.numberOfChildren>1||!r.children[ce])return f2(`${e.redirectTo}`);r=r.children[ce]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:d,routeConfig:h,url:m,outlet:_,params:g,data:w,title:T}=r,S=di(o,()=>a({params:g,data:w,queryParams:c,fragment:d,routeConfig:h,url:m,outlet:_,title:T}));if(S instanceof wi)throw new Ec(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Ec(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new wi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Se(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new P(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},j_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function p2(n,e,t,i,r){let o=tC(n,e,t);return o.matched?(i=VV(e,i),h2(i,e,t,r).pipe(G(s=>s===!0?o:N({},j_)))):J(o)}function tC(n,e,t){if(e.path==="**")return g2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?N({},j_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||hV)(t,n,e);if(!r)return N({},j_);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?N(N({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function g2(n){return{matched:!0,parameters:n.length>0?PT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function kT(n,e,t,i){return t.length>0&&y2(n,t,i)?{segmentGroup:new Se(e,v2(i,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&b2(n,t,i)?{segmentGroup:new Se(n.segments,_2(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function _2(n,e,t,i){let r={};for(let o of t)if($u(n,e,o)&&!i[Tn(o)]){let s=new Se([],{});r[Tn(o)]=s}return N(N({},i),r)}function v2(n,e){let t={};t[ce]=e;for(let i of n)if(i.path===""&&Tn(i)!==ce){let r=new Se([],{});t[Tn(i)]=r}return t}function y2(n,e,t){return t.some(i=>$u(n,e,i)&&Tn(i)!==ce)}function b2(n,e,t){return t.some(i=>$u(n,e,i))}function $u(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function w2(n,e,t){return e.length===0&&!n.children[t]}var U_=class{};function I2(n,e,t,i,r,o,s="emptyOnly"){return new B_(n,e,t,i,r,s,o).recognize()}var E2=31,B_=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new V_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=kT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(G(({children:t,rootSnapshot:i})=>{let r=new Zt(i,t),o=new Lu("",r),s=MV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bs([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(G(i=>({children:i,rootSnapshot:t})),kn(i=>{if(i instanceof Ec)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ic?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(G(s=>s instanceof Zt?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Ge(o).pipe(Gi(s=>{let a=i.children[s],c=jV(t,s);return this.processSegmentGroup(e,c,a,s,r)}),gd((s,a)=>(s.push(...a),s)),Wi(null),Um(),st(s=>{if(s===null)return _s(i);let a=nC(s);return D2(a),J(a)}))}processSegment(e,t,i,r,o,s,a){return Ge(t).pipe(Gi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a).pipe(kn(d=>{if(d instanceof Ic)return J(null);throw d}))),Mn(c=>!!c),kn(c=>{if(XT(c))return w2(i,r,o)?J(new U_):_s(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,c){return Tn(i)!==s&&(s===ce||!$u(r,o,i))?_s(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c):_s(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:d,consumedSegments:h,positionalParamSegments:m,remainingSegments:_}=tC(t,r,o);if(!c)return _s(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>E2&&(this.allowRedirects=!1));let g=new bs(o,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,MT(r),Tn(r),r.component??r._loadedComponent??null,r,RT(r)),w=Fu(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data);let T=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,m,g,e);return this.applyRedirects.lineralizeSegments(r,T).pipe(st(S=>this.processSegment(e,i,t,S.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=p2(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Gt(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Gt(({routes:d})=>{let h=i._loadedInjector??e,{parameters:m,consumedSegments:_,remainingSegments:g}=c,w=new bs(_,m,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,MT(i),Tn(i),i.component??i._loadedComponent??null,i,RT(i)),T=Fu(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(T.params),w.data=Object.freeze(T.data);let{segmentGroup:S,slicedSegments:M}=kT(t,_,g,d);if(M.length===0&&S.hasChildren())return this.processChildren(h,d,S,w).pipe(G(B=>new Zt(w,B)));if(d.length===0&&M.length===0)return J(new Zt(w,[]));let L=Tn(i)===o;return this.processSegment(h,d,S,M,L?ce:o,!0,w).pipe(G(B=>new Zt(w,B instanceof Zt?[B]:[])))}))):_s(t)))}getChildConfig(e,t,i){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):u2(e,t,i,this.urlSerializer).pipe(st(r=>r?this.configLoader.loadChildren(e,t).pipe($e(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):m2(t))):J({routes:[],injector:e})}};function D2(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function x2(n){let e=n.value.routeConfig;return e&&e.path===""}function nC(n){let e=[],t=new Set;for(let i of n){if(!x2(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=nC(i.children);e.push(new Zt(i.value,r))}return e.filter(i=>!t.has(i))}function MT(n){return n.data||{}}function RT(n){return n.resolve||{}}function T2(n,e,t,i,r,o){return st(s=>I2(n,e,t,i,s.extractedUrl,r,o).pipe(G(({state:a,tree:c})=>he(N({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function C2(n,e){return st(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return J(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of iC(c))s.add(d);let a=0;return Ge(s).pipe(Gi(c=>o.has(c)?S2(c,i,n,e):(c.data=Fu(c,c.parent,n).resolve,J(void 0))),$e(()=>a++),Go(1),st(c=>a===s.size?J(t):Ht))})}function iC(n){let e=n.children.map(t=>iC(t)).flat();return[n,...e]}function S2(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!QT(r)&&(o[Dc]=r.title),A2(o,n,e,i).pipe(G(s=>(n._resolvedData=s,n.data=Fu(n,n.parent,t).resolve,null)))}function A2(n,e,t,i){let r=__(n);if(r.length===0)return J({});let o={};return Ge(r).pipe(st(s=>k2(n[s],e,t,i).pipe(Mn(),$e(a=>{if(a instanceof wc)throw Vu(new pc,a);o[s]=a}))),Go(1),jm(o),kn(s=>XT(s)?Ht:Hi(s)))}function k2(n,e,t,i){let r=xc(e)??i,o=xs(n,r),s=o.resolve?o.resolve(e,t):di(r,()=>o(e,t));return _r(s)}function p_(n){return Gt(e=>{let t=n(e);return t?Ge(t).pipe(G(()=>e)):J(e)})}var rC=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ce);return i}getResolvedTitleForRoute(t){return t.data[Dc]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>F(M2),providedIn:"root"})}}return n})(),M2=(()=>{class n extends rC{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(U(ET))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),G_=new H("",{providedIn:"root",factory:()=>({})}),R2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["ng-component"]],standalone:!0,features:[Tt],decls:1,vars:0,template:function(i,r){i&1&&Le(0,"router-outlet")},dependencies:[q_],encapsulation:2})}}return n})();function W_(n){let e=n.children&&n.children.map(W_),t=e?he(N({},n),{children:e}):N({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=R2),t}var K_=new H(""),N2=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(qg)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=_r(t.loadComponent()).pipe(G(oC),$e(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ki(()=>{this.componentLoaders.delete(t)})),r=new $o(i,()=>new Je).pipe(Bo());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=P2(i,this.compiler,t,this.onLoadEndListener).pipe(Ki(()=>{this.childrenLoaders.delete(i)})),s=new $o(o,()=>new Je).pipe(Bo());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function P2(n,e,t,i){return _r(n.loadChildren()).pipe(G(oC),st(r=>r instanceof za||Array.isArray(r)?J(r):Ge(e.compileModuleAsync(r))),G(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(K_,[],{optional:!0,self:!0}).flat()),{routes:s.map(W_),injector:o}}))}function O2(n){return n&&typeof n=="object"&&"default"in n}function oC(n){return O2(n)?n.default:n}var Q_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>F(F2),providedIn:"root"})}}return n})(),F2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),L2=new H("");var V2=new H(""),j2=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.transitionAbortSubject=new Je,this.configLoader=F(N2),this.environmentInjector=F(Wt),this.urlSerializer=F(z_),this.rootContexts=F(Uu),this.location=F(rc),this.inputBindingEnabled=F(Bu,{optional:!0})!==null,this.titleStrategy=F(rC),this.options=F(G_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Q_),this.createViewTransition=F(L2,{optional:!0}),this.navigationErrorHandler=F(V2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let t=r=>this.events.next(new T_(r)),i=r=>this.events.next(new C_(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(he(N(N({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new mt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(o=>o.id!==0),G(o=>he(N({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Gt(o=>{let s=!1,a=!1;return J(o).pipe(Gt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Jt.SupersededByNewNavigation),Ht;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?he(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&h!=="reload"){let m="";return this.events.next(new ao(c.id,this.urlSerializer.serialize(c.rawUrl),m,w_.IgnoredSameUrlNavigation)),c.resolve(!1),Ht}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return J(c).pipe(Gt(m=>{let _=this.transitions?.getValue();return this.events.next(new _c(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Ht:Promise.resolve(m)}),T2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=he(N({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new Nu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:_,source:g,restoredState:w,extras:T}=c,S=new _c(m,this.urlSerializer.serialize(_),g,w);this.events.next(S);let M=WT(this.rootComponentType).snapshot;return this.currentTransition=o=he(N({},c),{targetSnapshot:M,urlAfterRedirects:_,extras:he(N({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,J(o)}else{let m="";return this.events.next(new ao(c.id,this.urlSerializer.serialize(c.extractedUrl),m,w_.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ht}}),$e(c=>{let d=new I_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),G(c=>(this.currentTransition=o=he(N({},c),{guards:GV(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),i2(this.environmentInjector,c=>this.events.next(c)),$e(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Vu(this.urlSerializer,c.guardsResult);let d=new E_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),wt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Jt.GuardRejected),!1)),p_(c=>{if(c.guards.canActivateChecks.length)return J(c).pipe($e(d=>{let h=new D_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Gt(d=>{let h=!1;return J(d).pipe(C2(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Jt.NoDataFromResolver)}}))}),$e(d=>{let h=new x_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),p_(c=>{let d=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe($e(_=>{h.component=_}),G(()=>{})));for(let _ of h.children)m.push(...d(_));return m};return si(d(c.targetSnapshot.root)).pipe(Wi(null),qt(1))}),p_(()=>this.afterPreactivation()),Gt(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?Ge(h).pipe(G(()=>o)):J(o)}),G(c=>{let d=BV(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=he(N({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),$e(()=>{this.events.next(new yc)}),qV(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),qt(1),$e({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Aa(this.transitionAbortSubject.pipe($e(c=>{throw c}))),Ki(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),kn(c=>{if(a=!0,JT(c))this.events.next(new bi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),HV(c)?this.events.next(new Es(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let d=new vc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=di(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof wc){let{message:m,cancellationCode:_}=Vu(this.urlSerializer,h);this.events.next(new bi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,_)),this.events.next(new Es(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let m=t.errorHandler(c);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ht}))}))}cancelNavigationTransition(t,i,r){let o=new bi(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U2(n){return n!==fc}var B2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>F($2),providedIn:"root"})}}return n})(),$_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},$2=(()=>{class n extends $_{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Jr(n)))(r||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>F(z2),providedIn:"root"})}}return n})(),z2=(()=>{class n extends sC{constructor(){super(...arguments),this.location=F(rc),this.urlSerializer=F(z_),this.options=F(G_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Q_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=WT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof _c)this.stateMemento=this.createStateMemento();else if(t instanceof ao)this.rawUrlTree=i.initialUrl;else if(t instanceof Nu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof yc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof bi&&(t.code===Jt.GuardRejected||t.code===Jt.NoDataFromResolver)?this.restoreHistory(i):t instanceof vc?this.restoreHistory(i,!0):t instanceof gr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof wi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=N(N({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=N(N({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Jr(n)))(r||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(uc||{});function H2(n,e){n.events.pipe(wt(t=>t instanceof gr||t instanceof bi||t instanceof vc||t instanceof ao),G(t=>t instanceof gr||t instanceof ao?uc.COMPLETE:(t instanceof bi?t.code===Jt.Redirect||t.code===Jt.SupersededByNewNavigation:!1)?uc.REDIRECTING:uc.FAILED),wt(t=>t!==uc.REDIRECTING),qt(1)).subscribe(()=>{e()})}function q2(n){throw n}var G2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Y_=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(vu),this.stateManager=F(sC),this.options=F(G_,{optional:!0})||{},this.pendingTasks=F(us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(j2),this.urlSerializer=F(z_),this.location=F(rc),this.urlHandlingStrategy=F(Q_),this._events=new Je,this.errorHandler=this.options.errorHandler||q2,this.navigated=!1,this.routeReuseStrategy=F(B2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(K_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(Bu,{optional:!0}),this.eventsSubscription=new Be,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof bi&&i.code!==Jt.Redirect&&i.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof gr)this.navigated=!0;else if(i instanceof Es){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=N({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||U2(r.source)},s);this.scheduleNavigation(a,fc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Q2(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=N({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(W_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let _=r?r.snapshot:this.routerState.snapshot.root;m=zT(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return HT(m,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=so(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,fc,null,i)}navigate(t,i={skipLocationChange:!1}){return K2(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=N({},G2):i===!1?r=N({},W2):r=i,so(t))return xT(this.currentUrlTree,t,r);let o=this.parseUrl(t);return xT(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((m,_)=>{a=m,c=_});let h=this.pendingTasks.add();return H2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function K2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new P(4008,!1)}function Q2(n){return!(n instanceof yc)&&!(n instanceof Es)}var zu=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof gr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(so(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:QD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:so(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(W(Y_),W(Ii),Ka("tabindex"),W(ur),W(Ke),W(ps))}}static{this.\u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&dt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&dn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mr],replaceUrl:[2,"replaceUrl","replaceUrl",mr],routerLink:"routerLink"},standalone:!0,features:[to,Vn]})}}return n})();var Y2=new H("");function aC(n,...e){return or([{provide:K_,multi:!0,useValue:n},[],{provide:Ii,useFactory:Z2,deps:[Y_]},{provide:Hg,multi:!0,useFactory:X2},e.map(t=>t.\u0275providers)])}function Z2(n){return n.routerState.root}function J2(n,e){return{\u0275kind:n,\u0275providers:e}}function X2(){let n=F(cn);return e=>{let t=n.get(no);if(e!==t.components[0])return;let i=n.get(Y_),r=n.get(ej);n.get(tj)===1&&i.initialNavigation(),n.get(nj,null,de.Optional)?.setUpPreloading(),n.get(Y2,null,de.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ej=new H("",{factory:()=>new Je}),tj=new H("",{providedIn:"root",factory:()=>1});var nj=new H("");function cC(){return J2(8,[AT,{provide:Bu,useExisting:AT}])}var Z_;try{Z_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Z_=!1}var co=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?lT(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Z_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(U(jn))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Cc;function rj(){if(Cc==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cc=!0}))}finally{Cc=Cc||!1}return Cc}function J_(n){return rj()?n:!!n.capture}function lC(n){return n.composedPath?n.composedPath()[0]:n.target}function dC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ts(n){return n!=null&&`${n}`!="false"}function ev(n){return Array.isArray(n)?n:[n]}function tv(n){return n instanceof Ke?n.nativeElement:n}var oj=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({providers:[oj]})}}return n})();var hC=new Set,lo,sj=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cj}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&aj(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(U(co),U(Qa,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function aj(n,e){if(!hC.has(n))try{lo||(lo=document.createElement("style"),e&&(lo.nonce=e),lo.setAttribute("type","text/css"),document.head.appendChild(lo)),lo.sheet&&(lo.sheet.insertRule(`@media ${n} {body{ }}`,0),hC.add(n))}catch(t){console.error(t)}}function cj(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var mC=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Je}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return fC(ev(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=fC(ev(t)).map(s=>this._registerQuery(s).observable),o=si(r);return o=qi(o.pipe(qt(1)),o.pipe(zm(1),Vm(0))),o.pipe(G(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new le(s=>{let a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Wo(i),G(({matches:s})=>({query:t,matches:s})),Aa(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(U(sj),U(_e))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fC(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function _C(n){return n.buttons===0||n.detail===0}function vC(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var pC="cdk-high-contrast-black-on-white",gC="cdk-high-contrast-white-on-black",nv="cdk-high-contrast-active",yC=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=F(mC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(nv,pC,gC),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===1?t.add(nv,pC):i===2&&t.add(nv,gC)}}static{this.\u0275fac=function(i){return new(i||n)(U(co),U(Xe))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var iv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({})}}return n})();var pe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(pe||{}),Hn="*";function bC(n,e=null){return{type:pe.Sequence,steps:n,options:e}}function rv(n){return{type:pe.Style,styles:n,offset:null}}var vr=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Sc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Hu="!";function wC(n){return new P(3e3,!1)}function dj(){return new P(3100,!1)}function uj(){return new P(3101,!1)}function hj(n){return new P(3001,!1)}function fj(n){return new P(3003,!1)}function mj(n){return new P(3004,!1)}function pj(n,e){return new P(3005,!1)}function gj(){return new P(3006,!1)}function _j(){return new P(3007,!1)}function vj(n,e){return new P(3008,!1)}function yj(n){return new P(3002,!1)}function bj(n,e,t,i,r){return new P(3010,!1)}function wj(){return new P(3011,!1)}function Ij(){return new P(3012,!1)}function Ej(){return new P(3200,!1)}function Dj(){return new P(3202,!1)}function xj(){return new P(3013,!1)}function Tj(n){return new P(3014,!1)}function Cj(n){return new P(3015,!1)}function Sj(n){return new P(3016,!1)}function Aj(n,e){return new P(3404,!1)}function kj(n){return new P(3502,!1)}function Mj(n){return new P(3503,!1)}function Rj(){return new P(3300,!1)}function Nj(n){return new P(3504,!1)}function Pj(n){return new P(3301,!1)}function Oj(n,e){return new P(3302,!1)}function Fj(n){return new P(3303,!1)}function Lj(n,e){return new P(3400,!1)}function Vj(n){return new P(3401,!1)}function jj(n){return new P(3402,!1)}function Uj(n,e){return new P(3505,!1)}function yr(n){switch(n.length){case 0:return new vr;case 1:return n[0];default:return new Sc(n)}}function OC(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(c=>{let d=c.get("offset"),h=d==s,m=h&&a||new Map;c.forEach((_,g)=>{let w=g,T=_;if(g!=="offset")switch(w=n.normalizePropertyName(w,r),T){case Hu:T=t.get(g);break;case Hn:T=i.get(g);break;default:T=n.normalizeStyleValue(g,w,T,r);break}m.set(w,T)}),h||o.push(m),a=m,s=d}),r.length)throw kj(r);return o}function Cv(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&ov(t,"start",n)));break;case"done":n.onDone(()=>i(t&&ov(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&ov(t,"destroy",n)));break}}function ov(n,e,t){let i=t.totalTime,r=!!t.disabled,o=Sv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function Sv(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function en(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function IC(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var Bj=typeof document>"u"?null:document.documentElement;function Av(n){let e=n.parentNode||n.host||null;return e===Bj?null:e}function $j(n){return n.substring(1,6)=="ebkit"}var uo=null,EC=!1;function zj(n){uo||(uo=Hj()||{},EC=uo.style?"WebkitAppearance"in uo.style:!1);let e=!0;return uo.style&&!$j(n)&&(e=n in uo.style,!e&&EC&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in uo.style)),e}function Hj(){return typeof document<"u"?document.body:null}function FC(n,e){for(;e;){if(e===n)return!0;e=Av(e)}return!1}function LC(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var kv=(()=>{class n{validateStyleProperty(t){return zj(t)}containsElement(t,i){return FC(t,i)}getParentElement(t){return Av(t)}query(t,i,r){return LC(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new vr(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),mo=class{static{this.NOOP=new kv}},po=class{};var qj=1e3,VC="{{",Gj="}}",jC="ng-enter",uv="ng-leave",qu="ng-trigger",Yu=".ng-trigger",DC="ng-animating",hv=".ng-animating";function Ei(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fv(parseFloat(e[1]),e[2])}function fv(n,e){switch(e){case"s":return n*qj;default:return n}}function Zu(n,e,t){return n.hasOwnProperty("duration")?n:Wj(n,e,t)}function Wj(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(wC(n)),{duration:0,delay:0,easing:""};r=fv(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=fv(parseFloat(c),a[4]));let d=a[5];d&&(s=d)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(dj()),a=!0),o<0&&(e.push(uj()),a=!0),a&&e.splice(c,0,wC(n))}return{duration:r,delay:o,easing:s}}function Kj(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function qn(n,e,t){e.forEach((i,r)=>{let o=Mv(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function fo(n,e){e.forEach((t,i)=>{let r=Mv(i);n.style[r]=""})}function Ac(n){return Array.isArray(n)?n.length==1?n[0]:bC(n):n}function Qj(n,e,t){let i=e.params||{},r=UC(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(hj(o))})}var mv=new RegExp(`${VC}\\s*(.+?)\\s*${Gj}`,"g");function UC(n){let e=[];if(typeof n=="string"){let t;for(;t=mv.exec(n);)e.push(t[1]);mv.lastIndex=0}return e}function Mc(n,e,t){let i=`${n}`,r=i.replace(mv,(o,s)=>{let a=e[s];return a==null&&(t.push(fj(s)),a=""),a.toString()});return r==i?n:r}var Yj=/-+([a-z0-9])/g;function Mv(n){return n.replace(Yj,(...e)=>e[1].toUpperCase())}function Zj(n,e){return n===0||e===0}function Jj(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Rv(n,a)))}}return e}function Xt(n,e,t){switch(e.type){case pe.Trigger:return n.visitTrigger(e,t);case pe.State:return n.visitState(e,t);case pe.Transition:return n.visitTransition(e,t);case pe.Sequence:return n.visitSequence(e,t);case pe.Group:return n.visitGroup(e,t);case pe.Animate:return n.visitAnimate(e,t);case pe.Keyframes:return n.visitKeyframes(e,t);case pe.Style:return n.visitStyle(e,t);case pe.Reference:return n.visitReference(e,t);case pe.AnimateChild:return n.visitAnimateChild(e,t);case pe.AnimateRef:return n.visitAnimateRef(e,t);case pe.Query:return n.visitQuery(e,t);case pe.Stagger:return n.visitStagger(e,t);default:throw mj(e.type)}}function Rv(n,e){return window.getComputedStyle(n)[e]}var Xj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ju=class extends po{normalizePropertyName(e,t){return Mv(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(Xj.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(pj(e,i))}return s+o}};var Xu="*";function eU(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>tU(i,t,e)):t.push(n),t}function tU(n,e,t){if(n[0]==":"){let c=nU(n,t);if(typeof c=="function"){e.push(c);return}n=c}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(Cj(n)),e;let r=i[1],o=i[2],s=i[3];e.push(xC(r,s));let a=r==Xu&&s==Xu;o[0]=="<"&&!a&&e.push(xC(s,r))}function nU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(Sj(n)),"* => *"}}var Gu=new Set(["true","1"]),Wu=new Set(["false","0"]);function xC(n,e){let t=Gu.has(n)||Wu.has(n),i=Gu.has(e)||Wu.has(e);return(r,o)=>{let s=n==Xu||n==r,a=e==Xu||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?Gu.has(n):Wu.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?Gu.has(e):Wu.has(e)),s&&a}}var BC=":self",iU=new RegExp(`s*${BC}s*,?`,"g");function $C(n,e,t,i){return new pv(n).build(e,t,i)}var TC="",pv=class{constructor(e){this._driver=e}build(e,t,i){let r=new gv(t);return this._resetContextStyleTimingState(r),Xt(this,Ac(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=TC,e.collectedStyles=new Map,e.collectedStyles.set(TC,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(gj()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==pe.State){let c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=d}else if(a.type==pe.Transition){let c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(_j())}),{type:pe.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{UC(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&t.errors.push(vj(e.name,[...o.values()]))}return{type:pe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Xt(this,Ac(e.animation),t),r=eU(e.expr,t.errors);return{type:pe.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ho(e.options)}}visitSequence(e,t){return{type:pe.Sequence,steps:e.steps.map(i=>Xt(this,i,t)),options:ho(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let a=Xt(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:pe.Group,steps:o,options:ho(e.options)}}visitAnimate(e,t){let i=aU(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:rv({});if(o.type==pe.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let d={};i.easing&&(d.easing=i.easing),s=rv(d)}t.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:pe.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Hn?i.push(a):t.errors.push(yj(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(VC)>=0){o=!0;break}}}),{type:pe.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let d=t.collectedStyles.get(t.currentQuerySelector),h=d.get(c),m=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(bj(c,h.startTime,h.endTime,o,r)),m=!1),o=h.startTime),m&&d.set(c,{startTime:o,endTime:r}),t.options&&Qj(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:pe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(wj()),i;let r=1,o=0,s=[],a=!1,c=!1,d=0,h=e.steps.map(M=>{let L=this._makeStyleAst(M,t),B=L.offset!=null?L.offset:sU(L.styles),K=0;return B!=null&&(o++,K=L.offset=B),c=c||K<0||K>1,a=a||K<d,d=K,s.push(K),L});c&&t.errors.push(Ij()),a&&t.errors.push(Ej());let m=e.steps.length,_=0;o>0&&o<m?t.errors.push(Dj()):o==0&&(_=r/(m-1));let g=m-1,w=t.currentTime,T=t.currentAnimateTimings,S=T.duration;return h.forEach((M,L)=>{let B=_>0?L==g?1:_*L:s[L],K=B*S;t.currentTime=w+T.delay+K,T.duration=K,this._validateStyleAst(M,t),M.offset=B,i.styles.push(M)}),i}visitReference(e,t){return{type:pe.Reference,animation:Xt(this,Ac(e.animation),t),options:ho(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:pe.AnimateChild,options:ho(e.options)}}visitAnimateRef(e,t){return{type:pe.AnimateRef,animation:this.visitReference(e.animation,t),options:ho(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=rU(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,en(t.collectedStyles,t.currentQuerySelector,new Map);let a=Xt(this,Ac(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:pe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ho(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(xj());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Zu(e.timings,t.errors,!0);return{type:pe.Stagger,animation:Xt(this,Ac(e.animation),t),timings:i,options:null}}};function rU(n){let e=!!n.split(/\s*,\s*/).find(t=>t==BC);return e&&(n=n.replace(iU,"")),n=n.replace(/@\*/g,Yu).replace(/@\w+/g,t=>Yu+"-"+t.slice(1)).replace(/:animating/g,hv),[n,e]}function oU(n){return n?N({},n):null}var gv=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function sU(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function aU(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Zu(n,e).duration;return sv(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=sv(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=Zu(t,e);return sv(r.duration,r.delay,r.easing)}function ho(n){return n?(n=N({},n),n.params&&(n.params=oU(n.params))):n={},n}function sv(n,e,t){return{duration:n,delay:e,easing:t}}function Nv(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Rc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},cU=1,lU=":enter",dU=new RegExp(lU,"g"),uU=":leave",hU=new RegExp(uU,"g");function zC(n,e,t,i,r,o=new Map,s=new Map,a,c,d=[]){return new _v().buildKeyframes(n,e,t,i,r,o,s,a,c,d)}var _v=class{buildKeyframes(e,t,i,r,o,s,a,c,d,h=[]){d=d||new Rc;let m=new vv(e,t,d,r,o,h,[]);m.options=c;let _=c.delay?Ei(c.delay):0;m.currentTimeline.delayNextStep(_),m.currentTimeline.setStyles([s],null,m.errors,c),Xt(this,i,m);let g=m.timelines.filter(w=>w.containsAnimation());if(g.length&&a.size){let w;for(let T=g.length-1;T>=0;T--){let S=g[T];if(S.element===t){w=S;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,m.errors,c)}return g.length?g.map(w=>w.buildKeyframes()):[Nv(t,[],[],[],0,_,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Ei(Mc(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?Ei(i.duration):null,a=i.delay!=null?Ei(i.delay):null;return s!==0&&e.forEach(c=>{let d=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Xt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==pe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eh);let s=Ei(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Xt(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Ei(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Xt(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Mc(i,t.params,t.errors):i;return Zu(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==pe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let d=c.offset||0;a.forwardTime(d*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ei(r.delay):0;o&&(t.previousNode.type===pe.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=eh);let s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,h)=>{t.currentQueryIndex=h;let m=t.createSubContext(e.options,d);o&&m.delayNextStep(o),d===t.element&&(c=m.currentTimeline),Xt(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe();let _=m.currentTimeline.currentTime;s=Math.max(s,_)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let h=t.currentTimeline;c&&h.delayNextStep(c);let m=h.currentTime;Xt(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-m+(r.startTime-i.currentTimeline.startTime)}},eh={},vv=class n{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new th(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Ei(i.duration)),i.delay!=null&&(r.delay=Ei(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Mc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=eh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new yv(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(dU,"."+this._enterClassName),e=e.replace(hU,"."+this._leaveClassName);let c=i!=1,d=this._driver.query(this.element,e,c);i!==0&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&a.length==0&&s.push(Tj(t)),a}},th=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=cU,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Hn),this._currentKeyframe.set(t,Hn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=fU(e,this._globalTimelineStyles);for(let[a,c]of s){let d=Mc(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Hn),this._updateStyle(a,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let d=new Map([...this._backFill,...a]);d.forEach((h,m)=>{h===Hu?e.add(m):h===Hn&&t.add(m)}),i||d.set("offset",c/this.duration),r.push(d)});let o=[...e.values()],s=[...t.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Nv(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},yv=class extends th{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let d=new Map(e[0]);d.set("offset",CC(a)),o.push(d);let h=e.length-1;for(let m=1;m<=h;m++){let _=new Map(e[m]),g=_.get("offset"),w=t+g*i;_.set("offset",CC(w/s)),o.push(_)}i=s,t=0,r="",e=o}return Nv(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function CC(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function fU(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,Hn)}else for(let[o,s]of r)t.set(o,s)}),t}function SC(n,e,t,i,r,o,s,a,c,d,h,m,_){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:h,totalTime:m,errors:_}}var av={},nh=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return mU(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,d,h){let m=[],_=this.ast.options&&this.ast.options.params||av,g=a&&a.params||av,w=this.buildStyles(i,g,m),T=c&&c.params||av,S=this.buildStyles(r,T,m),M=new Set,L=new Map,B=new Map,K=r==="void",Ae={params:HC(T,_),delay:this.ast.options?.delay},Z=h?[]:zC(e,t,this.ast.animation,o,s,w,S,Ae,d,m),I=0;return Z.forEach(v=>{I=Math.max(v.duration+v.delay,I)}),m.length?SC(t,this._triggerName,i,r,K,w,S,[],[],L,B,I,m):(Z.forEach(v=>{let y=v.element,E=en(L,y,new Set);v.preStyleProps.forEach(C=>E.add(C));let D=en(B,y,new Set);v.postStyleProps.forEach(C=>D.add(C)),y!==t&&M.add(y)}),SC(t,this._triggerName,i,r,K,w,S,Z,[...M.values()],L,B,I))}};function mU(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function HC(n,e){let t=N({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var bv=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=HC(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Mc(s,r,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}};function pU(n,e,t){return new wv(n,e,t)}var wv=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new bv(r.style,o,i))}),AC(this.states,"true","1"),AC(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new nh(e,r,this.states))}),this.fallbackTransition=gU(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function gU(n,e,t){let i=[(s,a)=>!0],r={type:pe.Sequence,steps:[],options:null},o={type:pe.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new nh(n,o,e)}function AC(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var _U=new Rc,Iv=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],o=$C(this._driver,t,i,r);if(i.length)throw Mj(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=OC(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=zC(this._driver,t,o,jC,uv,new Map,new Map,i,_U,r),s.forEach(h=>{let m=en(a,h.element,new Map);h.postStyleProps.forEach(_=>m.set(_,null))})):(r.push(Rj()),s=[]),r.length)throw Nj(r);a.forEach((h,m)=>{h.forEach((_,g)=>{h.set(g,this._driver.computeStyle(m,g,Hn))})});let c=s.map(h=>{let m=a.get(h.element);return this._buildPlayer(h,new Map,m)}),d=yr(c);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Pj(e);return t}listen(e,t,i,r){let o=Sv(t,"","","");return Cv(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},kC="ng-animate-queued",vU=".ng-animate-queued",cv="ng-animate-disabled",yU=".ng-animate-disabled",bU="ng-star-inserted",wU=".ng-star-inserted",IU=[],qC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},EU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cn="__ng_removed",Nc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=xU(r),i){let o=e,{value:s}=o,a=_m(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},kc="void",lv=new Nc(kc),Ev=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fn(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw Oj(i,t);if(i==null||i.length==0)throw Fj(t);if(!TU(i))throw Lj(i,t);let o=en(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let a=en(this._engine.statesByElement,e,new Map);return a.has(t)||(fn(e,qu),fn(e,qu+"-"+t),a.set(t,lv)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Vj(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new Pc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(fn(e,qu),fn(e,qu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),d=new Nc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=lv),!(d.value===kc)&&c.value===d.value){if(!AU(c.params,d.params)){let T=[],S=o.matchStyles(c.value,c.params,T),M=o.matchStyles(d.value,d.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{fo(e,S),qn(e,M)})}return}let _=en(this._engine.playersByElement,e,[]);_.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let g=o.matchTransition(c.value,d.value,e,d.params),w=!1;if(!g){if(!r)return;g=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:d,player:s,isFallbackTransition:w}),w||(fn(e,kC),s.onStart(()=>{Cs(e,kC)})),s.onDone(()=>{let T=this.players.indexOf(s);T>=0&&this.players.splice(T,1);let S=this._engine.playersByElement.get(e);if(S){let M=S.indexOf(s);M>=0&&S.splice(M,1)}}),this.players.push(s),_.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Yu,!0);i.forEach(r=>{if(r[Cn])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){let h=this.trigger(e,d,kc,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&yr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,d=i.get(s)||lv,h=new Nc(kc),m=new Pc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:d,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Cn];(!o||o===qC)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){fn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=Sv(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Cv(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Dv=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new Ev(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=r.get(a);if(c){let d=i.indexOf(c);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(Ku(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ku(t))return;let o=t[Cn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fn(e,cv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cs(e,cv))}removeNode(e,t,i){if(Ku(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Cn]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Ku(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Yu,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,hv,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Cn];if(t&&t.setForRemoval){if(e[Cn]=qC,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(cv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,yU,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];fn(r,bU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?yr(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw jj(e)}_flushAnimations(e,t){let i=new Rc,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,h=new Set;this.disabledNodes.forEach($=>{h.add($);let q=this.driver.query($,vU,!0);for(let Q=0;Q<q.length;Q++)h.add(q[Q])});let m=this.bodyNode,_=Array.from(this.statesByElement.keys()),g=NC(_,this.collectedEnterElements),w=new Map,T=0;g.forEach(($,q)=>{let Q=jC+T++;w.set(q,Q),$.forEach(ge=>fn(ge,Q))});let S=[],M=new Set,L=new Set;for(let $=0;$<this.collectedLeaveElements.length;$++){let q=this.collectedLeaveElements[$],Q=q[Cn];Q&&Q.setForRemoval&&(S.push(q),M.add(q),Q.hasAnimation?this.driver.query(q,wU,!0).forEach(ge=>M.add(ge)):L.add(q))}let B=new Map,K=NC(_,Array.from(M));K.forEach(($,q)=>{let Q=uv+T++;B.set(q,Q),$.forEach(ge=>fn(ge,Q))}),e.push(()=>{g.forEach(($,q)=>{let Q=w.get(q);$.forEach(ge=>Cs(ge,Q))}),K.forEach(($,q)=>{let Q=B.get(q);$.forEach(ge=>Cs(ge,Q))}),S.forEach($=>{this.processLeaveNode($)})});let Ae=[],Z=[];for(let $=this._namespaceList.length-1;$>=0;$--)this._namespaceList[$].drainQueuedTransitions(t).forEach(Q=>{let ge=Q.player,nt=Q.element;if(Ae.push(ge),this.collectedEnterElements.length){let Ye=nt[Cn];if(Ye&&Ye.setForMove){if(Ye.previousTriggersValues&&Ye.previousTriggersValues.has(Q.triggerName)){let ei=Ye.previousTriggersValues.get(Q.triggerName),Ot=this.statesByElement.get(Q.element);if(Ot&&Ot.has(Q.triggerName)){let ti=Ot.get(Q.triggerName);ti.value=ei,Ot.set(Q.triggerName,ti)}}ge.destroy();return}}let on=!m||!this.driver.containsElement(m,nt),Qe=B.get(nt),Ve=w.get(nt),je=this._buildInstruction(Q,i,Ve,Qe,on);if(je.errors&&je.errors.length){Z.push(je);return}if(on){ge.onStart(()=>fo(nt,je.fromStyles)),ge.onDestroy(()=>qn(nt,je.toStyles)),r.push(ge);return}if(Q.isFallbackTransition){ge.onStart(()=>fo(nt,je.fromStyles)),ge.onDestroy(()=>qn(nt,je.toStyles)),r.push(ge);return}let Oi=[];je.timelines.forEach(Ye=>{Ye.stretchStartingKeyframe=!0,this.disabledNodes.has(Ye.element)||Oi.push(Ye)}),je.timelines=Oi,i.append(nt,je.timelines);let Gf={instruction:je,player:ge,element:nt};s.push(Gf),je.queriedElements.forEach(Ye=>en(a,Ye,[]).push(ge)),je.preStyleProps.forEach((Ye,ei)=>{if(Ye.size){let Ot=c.get(ei);Ot||c.set(ei,Ot=new Set),Ye.forEach((ti,Fi)=>Ot.add(Fi))}}),je.postStyleProps.forEach((Ye,ei)=>{let Ot=d.get(ei);Ot||d.set(ei,Ot=new Set),Ye.forEach((ti,Fi)=>Ot.add(Fi))})});if(Z.length){let $=[];Z.forEach(q=>{$.push(Uj(q.triggerName,q.errors))}),Ae.forEach(q=>q.destroy()),this.reportError($)}let I=new Map,v=new Map;s.forEach($=>{let q=$.element;i.has(q)&&(v.set(q,q),this._beforeAnimationBuild($.player.namespaceId,$.instruction,I))}),r.forEach($=>{let q=$.element;this._getPreviousPlayers(q,!1,$.namespaceId,$.triggerName,null).forEach(ge=>{en(I,q,[]).push(ge),ge.destroy()})});let y=S.filter($=>PC($,c,d)),E=new Map;RC(E,this.driver,L,d,Hn).forEach($=>{PC($,c,d)&&y.push($)});let C=new Map;g.forEach(($,q)=>{RC(C,this.driver,new Set($),c,Hu)}),y.forEach($=>{let q=E.get($),Q=C.get($);E.set($,new Map([...q?.entries()??[],...Q?.entries()??[]]))});let b=[],rn=[],Pi={};s.forEach($=>{let{element:q,player:Q,instruction:ge}=$;if(i.has(q)){if(h.has(q)){Q.onDestroy(()=>qn(q,ge.toStyles)),Q.disabled=!0,Q.overrideTotalTime(ge.totalTime),r.push(Q);return}let nt=Pi;if(v.size>1){let Qe=q,Ve=[];for(;Qe=Qe.parentNode;){let je=v.get(Qe);if(je){nt=je;break}Ve.push(Qe)}Ve.forEach(je=>v.set(je,nt))}let on=this._buildAnimation(Q.namespaceId,ge,I,o,C,E);if(Q.setRealPlayer(on),nt===Pi)b.push(Q);else{let Qe=this.playersByElement.get(nt);Qe&&Qe.length&&(Q.parentPlayer=yr(Qe)),r.push(Q)}}else fo(q,ge.fromStyles),Q.onDestroy(()=>qn(q,ge.toStyles)),rn.push(Q),h.has(q)&&r.push(Q)}),rn.forEach($=>{let q=o.get($.element);if(q&&q.length){let Q=yr(q);$.setRealPlayer(Q)}}),r.forEach($=>{$.parentPlayer?$.syncPlayerEvents($.parentPlayer):$.destroy()});for(let $=0;$<S.length;$++){let q=S[$],Q=q[Cn];if(Cs(q,uv),Q&&Q.hasAnimation)continue;let ge=[];if(a.size){let on=a.get(q);on&&on.length&&ge.push(...on);let Qe=this.driver.query(q,hv,!0);for(let Ve=0;Ve<Qe.length;Ve++){let je=a.get(Qe[Ve]);je&&je.length&&ge.push(...je)}}let nt=ge.filter(on=>!on.destroyed);nt.length?CU(this,q,nt):this.processLeaveNode(q)}return S.length=0,b.forEach($=>{this.players.push($),$.onDone(()=>{$.destroy();let q=this.players.indexOf($);this.players.splice(q,1)}),$.play()}),b}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==kc;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let c of t.timelines){let d=c.element,h=d!==o,m=en(i,d,[]);this._getPreviousPlayers(d,h,s,a,t.toState).forEach(g=>{let w=g.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),g.destroy(),m.push(g)})}fo(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let a=t.triggerName,c=t.element,d=[],h=new Set,m=new Set,_=t.timelines.map(w=>{let T=w.element;h.add(T);let S=T[Cn];if(S&&S.removedBeforeQueried)return new vr(w.duration,w.delay);let M=T!==c,L=SU((i.get(T)||IU).map(I=>I.getRealPlayer())).filter(I=>{let v=I;return v.element?v.element===T:!1}),B=o.get(T),K=s.get(T),Ae=OC(this._normalizer,w.keyframes,B,K),Z=this._buildPlayer(w,Ae,L);if(w.subTimeline&&r&&m.add(T),M){let I=new Pc(e,a,T);I.setRealPlayer(Z),d.push(I)}return Z});d.forEach(w=>{en(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>DU(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>fn(w,DC));let g=yr(_);return g.onDestroy(()=>{h.forEach(w=>Cs(w,DC)),qn(c,t.toStyles)}),m.forEach(w=>{en(r,w,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new vr(e.duration,e.delay)}},Pc=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new vr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Cv(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){en(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function DU(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function xU(n){return n??null}function Ku(n){return n&&n.nodeType===1}function TU(n){return n=="start"||n=="done"}function MC(n,e){let t=n.style.display;return n.style.display=e??"none",t}function RC(n,e,t,i,r){let o=[];t.forEach(c=>o.push(MC(c)));let s=[];i.forEach((c,d)=>{let h=new Map;c.forEach(m=>{let _=e.computeStyle(d,m,r);h.set(m,_),(!_||_.length==0)&&(d[Cn]=EU,s.push(d))}),n.set(d,h)});let a=0;return t.forEach(c=>MC(c,o[a++])),s}function NC(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let d=a.parentNode;return t.has(d)?c=d:r.has(d)?c=i:c=s(d),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==i&&t.get(c).push(a)}),t}function fn(n,e){n.classList?.add(e)}function Cs(n,e){n.classList?.remove(e)}function CU(n,e,t){yr(t).onDone(()=>n.processLeaveNode(e))}function SU(n){let e=[];return GC(n,e),e}function GC(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Sc?GC(i.players,e):e.push(i)}}function AU(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function PC(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var Ss=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Dv(e.body,t,i),this._timelineEngine=new Iv(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],d=[],h=$C(this._driver,o,c,d);if(c.length)throw Aj(r,c);d.length&&void 0,a=pU(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=IC(i),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,a]=IC(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function kU(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=dv(e[0]),e.length>1&&(i=dv(e[e.length-1]))):e instanceof Map&&(t=dv(e)),t||i?new xv(n,t,i):null}var xv=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&qn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qn(this._element,this._initialStyles),this._endStyles&&(qn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fo(this._element,this._endStyles),this._endStyles=null),qn(this._element,this._initialStyles),this._state=3)}};function dv(n){let e=null;return n.forEach((t,i)=>{MU(i)&&(e=e||new Map,e.set(i,t))}),e}function MU(n){return n==="display"||n==="position"}var ih=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Rv(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},rh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return FC(e,t)}getParentElement(e){return Av(e)}query(e,t,i){return LC(e,t,i)}computeStyle(e,t,i){return Rv(e,t)}animate(e,t,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let d=new Map,h=s.filter(g=>g instanceof ih);Zj(i,r)&&h.forEach(g=>{g.currentSnapshot.forEach((w,T)=>d.set(T,w))});let m=Kj(t).map(g=>new Map(g));m=Jj(e,m,d);let _=kU(e,m);return new ih(e,m,c,_)}};var Qu="@",WC="@.disabled",oh=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Qu&&t==WC?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Tv=class extends oh{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Qu?t.charAt(1)=="."&&t==WC?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==Qu){let r=RU(e),o=t.slice(1),s="";return o.charAt(0)!=Qu&&([o,s]=NU(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,t,i)}};function RU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function NU(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var sh=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let d=this._rendererCache,h=d.get(r);if(!h){let m=()=>d.delete(r);h=new oh(i,r,this.engine,m),d.set(r,h)}return h}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return t.data.animation.forEach(a),new Tv(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var OU=(()=>{class n extends Ss{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(U(Xe),U(mo),U(po))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function FU(){return new Ju}function LU(n,e,t){return new sh(n,e,t)}var KC=[{provide:po,useFactory:FU},{provide:Ss,useClass:OU},{provide:tr,useFactory:LU,deps:[Du,Ss,_e]}],LQ=[{provide:mo,useFactory:()=>new rh},{provide:Xr,useValue:"BrowserAnimations"},...KC],VQ=[{provide:mo,useClass:kv},{provide:Xr,useValue:"NoopAnimations"},...KC];function UU(){return!0}var BU=new H("mat-sanity-checks",{providedIn:"root",factory:UU}),gt=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return dC()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(i){return new(i||n)(U(yC),U(BU,8),U(Xe))}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[iv,iv]})}}return n})();function eS(n,e){return class extends n{get color(){return this._color}set color(t){let i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}var Pv=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},QC=J_({passive:!0,capture:!0}),Ov=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=lC(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,QC)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,QC)))}},YC={enterDuration:225,exitDuration:150},$U=800,ZC=J_({passive:!0,capture:!0}),JC=["mousedown","touchstart"],XC=["mouseup","mouseleave","touchend","touchcancel"],ah=class n{static{this._eventManager=new Ov}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=tv(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=N(N({},YC),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||zU(e,t,r),a=e-r.left,c=t-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-s}px`,h.style.top=`${c-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,i.color!=null&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);let m=window.getComputedStyle(h),_=m.transitionProperty,g=m.transitionDuration,w=_==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,T=new Pv(this,h,i,w);h.style.transform="scale3d(1, 1, 1)",T.state=0,i.persistent||(this._mostRecentTransientRipple=T);let S=null;return!w&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let M=()=>this._finishRippleTransition(T),L=()=>this._destroyRipple(T);h.addEventListener("transitionend",M),h.addEventListener("transitioncancel",L),S={onTransitionEnd:M,onTransitionCancel:L}}),this._activeRipples.set(T,S),(w||!d)&&this._finishRippleTransition(T),T}fadeOutRipple(e){if(e.state===2||e.state===3)return;let t=e.element,i=N(N({},YC),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=tv(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,JC.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{XC.forEach(t=>{this._triggerElement.addEventListener(t,this,ZC)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===0?this._startFadeOutTransition(e):e.state===2&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){let t=_C(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+$U;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!vC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===1||e.config.terminateOnPointerUp&&e.state===0;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(JC.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&XC.forEach(t=>e.removeEventListener(t,this,ZC)))}};function zU(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var tS=new H("mat-ripple-global-options"),nS=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new ah(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:N(N(N({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,N(N({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,N(N({},this.rippleConfig),t))}static{this.\u0275fac=function(i){return new(i||n)(W(Ke),W(_e),W(co),W(tS,8),W(Xr,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Bt("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),As=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[gt,gt]})}}return n})();var iS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[gt]})}}return n})();var qU=["*"];var GU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],WU=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],KU=new H("MAT_CARD_CONFIG"),rS=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(W(KU,8))}}static{this.\u0275cmp=Fe({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&Bt("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:qU,decls:1,vars:0,template:function(i,r){i&1&&($n(),un(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),oS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ne({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}}return n})();var sS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ne({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}}return n})();var aS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:WU,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&($n(GU),un(0),ne(1,"div",0),un(2,1),ie(),un(3,2))},encapsulation:2,changeDetection:0})}}return n})();var ch=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[gt,xn,gt]})}}return n})();var cS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[gt,As,gt]})}}return n})();function lh(n){return n.replace(/\s/g,"-").replace(/'/g,"").toLowerCase()}var dh=class n{recipe;getRecipeID=lh;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-recipe-card"]],inputs:{recipe:"recipe"},standalone:!0,features:[Tt],decls:7,vars:4,consts:[["matRipple","",1,"recipe-link",3,"routerLink"],["appearance","raised",1,"recipe-card"],[3,"src","alt"]],template:function(t,i){t&1&&(ne(0,"a",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),Pe(4),ie()(),ne(5,"mat-card-content"),Le(6,"img",2),ie()()()),t&2&&(ct("routerLink","/recipe/"+i.getRecipeID(i.recipe.name)),ze(4),hr(" ",i.recipe.name," "),ze(2),ct("src",i.recipe.image,Za)("alt",i.recipe.name))},dependencies:[ch,rS,sS,aS,oS,zu,As,nS,cS],styles:[".recipe-link[_ngcontent-%COMP%]{text-decoration:none;color:#000;cursor:pointer}.recipe-card[_ngcontent-%COMP%]{max-width:20%;min-width:250px;margin:10px;transition:box-shadow .3s ease-in-out}.recipe-link[_ngcontent-%COMP%]:hover   .recipe-card[_ngcontent-%COMP%]{box-shadow:0 8px 16px #0003;scale:1.05;animation:_ngcontent-%COMP%_grow .5s ease-in-out}@keyframes _ngcontent-%COMP%_grow{0%{transform:scale(1)}50%{transform:scale(1.005)}to{transform:scale(1)}}img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:2%;box-shadow:0 6px 12px #0003;border:4px solid #d8c3a5}mat-card-title[_ngcontent-%COMP%]{font-size:large}mat-card[_ngcontent-%COMP%]{background-color:#d8c3a5}"]})};var YU=["*"],uh;function ZU(){if(uh===void 0&&(uh=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(uh=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return uh}function Oc(n){return ZU()?.createHTML(n)||n}function lS(n){return Error(`Unable to find icon with the name "${n}"`)}function JU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function dS(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function uS(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Di=class{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},XU=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Di(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){let s=this._sanitizer.sanitize(xt.HTML,r);if(!s)throw uS(r);let a=Oc(s);return this._addSvgIconConfig(t,i,new Di("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Di(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){let o=this._sanitizer.sanitize(xt.HTML,i);if(!o)throw uS(i);let s=Oc(o);return this._addSvgIconSetConfig(t,new Di("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let i=this._sanitizer.sanitize(xt.RESOURCE_URL,t);if(!i)throw dS(t);let r=this._cachedIconsByUrl.get(i);return r?J(hh(r)):this._loadSvgIconFromConfig(new Di(t,null)).pipe($e(o=>this._cachedIconsByUrl.set(i,o)),G(o=>hh(o)))}getNamedSvgIcon(t,i=""){let r=hS(i,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):Hi(lS(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?J(hh(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(G(i=>hh(i)))}_getSvgFromIconSetConfigs(t,i){let r=this._extractIconWithNameFromAnySet(t,i);if(r)return J(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(kn(a=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(xt.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),J(null)})));return Sa(o).pipe(G(()=>{let s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw lS(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe($e(i=>t.svgText=i),G(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?J(null):this._fetchIcon(t).pipe($e(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){let o=t.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(Oc("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){let i=this._document.createElement("DIV");i.innerHTML=t;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let i=this._svgElementFromString(Oc("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){let{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw JU();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(xt.RESOURCE_URL,i);if(!s)throw dS(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(G(d=>Oc(d)),Ki(()=>this._inProgressUrlFetches.delete(s)),$m());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(hS(t,i),r),this}_addSvgIconSetConfig(t,i){let r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){let i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,t);if(o)return eB(o)?new Di(o.url,null,o.options):new Di(o,null)}}static{this.\u0275fac=function(i){return new(i||n)(U(pT,8),U(u_),U(Xe,8),U(Yt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hh(n){return n.cloneNode(!0)}function hS(n,e){return n+":"+e}function eB(n){return!!(n.url&&n.options)}var tB=eS(class{constructor(n){this._elementRef=n}}),nB=new H("MAT_ICON_DEFAULT_OPTIONS"),iB=new H("mat-icon-location",{providedIn:"root",factory:rB});function rB(){let n=F(Xe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var fS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oB=fS.map(n=>`[${n}]`).join(", "),sB=/^url\(['"]?#(.*?)['"]?\)$/,mS=(()=>{class n extends tB{get inline(){return this._inline}set inline(t){this._inline=Ts(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Be.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=t.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let i=t.querySelectorAll(oB),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)fS.forEach(s=>{let a=i[o],c=a.getAttribute(s),d=c?c.match(sB):null;if(d){let h=r.get(a);h||(h=[],r.set(a,h)),h.push({name:s,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(qt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static{this.\u0275fac=function(i){return new(i||n)(W(Ke),W(XU),Ka("aria-hidden"),W(iB),W(Yt),W(nB,8))}}static{this.\u0275cmp=Fe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){i&2&&(dn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Bt("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Pt],ngContentSelectors:YU,decls:1,vars:0,template:function(i,r){i&1&&($n(),un(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),pS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[gt,gt]})}}return n})();var cB=["scrl"],lB=["*"],gS=n=>({"is-disabled-hide":n}),fh=class n{scrl;title="";scrollX=0;scrollEnd=!1;slide(e){this.scrl&&(this.scrl.nativeElement.scrollBy({left:e,behavior:"smooth"}),this.scrollX+=e,this.scrollCheck())}scrollCheck(){this.scrl&&(this.scrollX=this.scrl.nativeElement.scrollLeft,this.scrollEnd=Math.floor(this.scrl.nativeElement.scrollWidth-this.scrl.nativeElement.scrollLeft)<=this.scrl.nativeElement.offsetWidth)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-card-slider"]],viewQuery:function(t,i){if(t&1&&_u(cB,5),t&2){let r;tc(r=nc())&&(i.scrl=r.first)}},inputs:{title:"title"},standalone:!0,features:[Tt],ngContentSelectors:lB,decls:11,vars:7,consts:[["scrl",""],[1,"item-slider-container"],[1,"px-3","mb-3","item-title"],[1,"item-slider"],[1,"left-arrow-left",3,"click","ngClass"],["fontIcon","arrow_back_ios_new"],[1,"item-container",3,"scroll"],[1,"right-arrow-right",3,"click","ngClass"],["fontIcon","arrow_forward_ios"]],template:function(t,i){if(t&1){let r=ms();$n(),ne(0,"div",1)(1,"h4",2),Pe(2),ie(),ne(3,"div",3)(4,"div",4),dt("click",function(){return ar(r),cr(i.slide(-270))}),Le(5,"mat-icon",5),ie(),ne(6,"div",6,0),dt("scroll",function(){return ar(r),cr(i.scrollCheck())}),un(8),ie(),ne(9,"div",7),dt("click",function(){return ar(r),cr(i.slide(270))}),Le(10,"mat-icon",8),ie()()()}t&2&&(ze(2),Ug(i.title),ze(2),ct("ngClass",$g(3,gS,i.scrollX<1)),ze(5),ct("ngClass",$g(5,gS,i.scrollEnd)))},dependencies:[pS,mS,xn,aT,ch],styles:[".item-slider-container[_ngcontent-%COMP%]{background-color:#fffaf3;box-shadow:0 0 16px -8px #000000ad;margin:10px}.item-slider-container[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{padding-bottom:15px;padding-left:15px}.item-slider[_ngcontent-%COMP%]{padding:0 5px;justify-content:space-between;align-items:center;display:flex;position:relative}.item-slider[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:inline-flex;justify-content:flex-start;overflow-x:scroll;padding:0 5px}.scrl[_ngcontent-%COMP%]{scroll-behavior:smooth;transition:scroll-left .5s ease-in-out}.item-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#4a3321;background-color:#f8e4d4;border-bottom:2px solid #a67f58;padding:10px 0;border-radius:8px}"]})};var vS=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},dB=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},yS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,d=c?n[r+2]:0,h=o>>2,m=(o&3)<<4|a>>4,_=(a&15)<<2|d>>6,g=d&63;c||(g=64,s||(_=64)),i.push(t[h],t[m],t[_],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let d=r<n.length?t[n.charAt(r)]:64;++r;let m=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||d==null||m==null)throw new Lv;let _=o<<2|a>>4;if(i.push(_),d!==64){let g=a<<4&240|d>>2;if(i.push(g),m!==64){let w=d<<6&192|m;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Lv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uB=function(n){let e=vS(n);return yS.encodeByteArray(e,!0)},Fc=function(n){return uB(n).replace(/\./g,"")},jv=function(n){try{return yS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fB=()=>hB().__FIREBASE_DEFAULTS__,mB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&jv(n[1]);return e&&JSON.parse(e)},ph=()=>{try{return fB()||mB()||pB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bS=n=>{var e,t;return(t=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wS=n=>{let e=bS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Uv=()=>{var n;return(n=ph())===null||n===void 0?void 0:n.config},IS=n=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${n}`]};var mh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function ES(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fc(JSON.stringify(t)),Fc(JSON.stringify(s)),""].join(".")}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function gB(){var n;let e=(n=ph())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){return!gB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bv(){try{return typeof indexedDB=="object"}catch{return!1}}function AS(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var _B="FirebaseError",mn=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_B,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xi.prototype.create)}},xi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?vB(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new mn(r,a,i)}};function vB(n,e){return n.replace(yB,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var yB=/\{\$([^}]+)}/g;function Ms(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(_S(o)&&_S(s)){if(!Ms(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function _S(n){return n!==null&&typeof n=="object"}function $v(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function kS(n,e){let t=new Vv(n,e);return t.subscribe.bind(t)}var Vv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");bB(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Fv),r.error===void 0&&(r.error=Fv),r.complete===void 0&&(r.complete=Fv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fv(){}var Z7=4*60*60*1e3;function pn(n){return n&&n._delegate?n._delegate:n}var gn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var go="[DEFAULT]";var zv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new mh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IB(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wB(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wB(n){return n===go?void 0:n}function IB(n){return n.instantiationMode==="EAGER"}var gh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new zv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var EB=[],ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{}),DB={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},xB=ve.INFO,TB={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},CB=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=TB[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},br=class{constructor(e){this.name=e,this._logLevel=xB,this._logHandler=CB,this._userLogHandler=null,EB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var SB=(n,e)=>e.some(t=>n instanceof t),MS,RS;function AB(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kB(){return RS||(RS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NS=new WeakMap,qv=new WeakMap,PS=new WeakMap,Hv=new WeakMap,Wv=new WeakMap;function MB(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Gn(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&NS.set(t,n)}).catch(()=>{}),Wv.set(e,n),e}function RB(n){if(qv.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});qv.set(n,e)}var Gv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OS(n){Gv=n(Gv)}function NB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(_h(this),e,...t);return PS.set(i,e.sort?e.sort():[e]),Gn(i)}:kB().includes(n)?function(...e){return n.apply(_h(this),e),Gn(NS.get(this))}:function(...e){return Gn(n.apply(_h(this),e))}}function PB(n){return typeof n=="function"?NB(n):(n instanceof IDBTransaction&&RB(n),SB(n,AB())?new Proxy(n,Gv):n)}function Gn(n){if(n instanceof IDBRequest)return MB(n);if(Hv.has(n))return Hv.get(n);let e=PB(n);return e!==n&&(Hv.set(n,e),Wv.set(e,n)),e}var _h=n=>Wv.get(n);function LS(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=Gn(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Gn(s.result),c.oldVersion,c.newVersion,Gn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var OB=["get","getKey","getAll","getAllKeys","count"],FB=["put","add","delete","clear"],Kv=new Map;function FS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Kv.get(e))return Kv.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=FB.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||OB.includes(t)))return;let o=function(s,...a){return A(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),d=c.store;return i&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),r&&c.done]))[0]})};return Kv.set(e,o),o}OS(n=>he(N({},n),{get:(e,t,i)=>FS(e,t)||n.get(e,t,i),has:(e,t)=>!!FS(e,t)||n.has(e,t)}));var Yv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LB(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function LB(n){let e=n.getComponent();return e?.type==="VERSION"}var Zv="@firebase/app",VS="0.10.13";var Ti=new br("@firebase/app"),VB="@firebase/app-compat",jB="@firebase/analytics-compat",UB="@firebase/analytics",BB="@firebase/app-check-compat",$B="@firebase/app-check",zB="@firebase/auth",HB="@firebase/auth-compat",qB="@firebase/database",GB="@firebase/data-connect",WB="@firebase/database-compat",KB="@firebase/functions",QB="@firebase/functions-compat",YB="@firebase/installations",ZB="@firebase/installations-compat",JB="@firebase/messaging",XB="@firebase/messaging-compat",e$="@firebase/performance",t$="@firebase/performance-compat",n$="@firebase/remote-config",i$="@firebase/remote-config-compat",r$="@firebase/storage",o$="@firebase/storage-compat",s$="@firebase/firestore",a$="@firebase/vertexai-preview",c$="@firebase/firestore-compat",l$="firebase",d$="10.14.1";var Jv="[DEFAULT]",u$={[Zv]:"fire-core",[VB]:"fire-core-compat",[UB]:"fire-analytics",[jB]:"fire-analytics-compat",[$B]:"fire-app-check",[BB]:"fire-app-check-compat",[zB]:"fire-auth",[HB]:"fire-auth-compat",[qB]:"fire-rtdb",[GB]:"fire-data-connect",[WB]:"fire-rtdb-compat",[KB]:"fire-fn",[QB]:"fire-fn-compat",[YB]:"fire-iid",[ZB]:"fire-iid-compat",[JB]:"fire-fcm",[XB]:"fire-fcm-compat",[e$]:"fire-perf",[t$]:"fire-perf-compat",[n$]:"fire-rc",[i$]:"fire-rc-compat",[r$]:"fire-gcs",[o$]:"fire-gcs-compat",[s$]:"fire-fst",[c$]:"fire-fst-compat",[a$]:"fire-vertex","fire-js":"fire-js",[l$]:"fire-js-all"};var Lc=new Map,h$=new Map,Xv=new Map;function jS(n,e){try{n.container.addComponent(e)}catch(t){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ir(n){let e=n.name;if(Xv.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Xv.set(e,n);for(let t of Lc.values())jS(t,n);for(let t of h$.values())jS(t,n);return!0}function iy(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rs(n){return n.settings!==void 0}var f$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new xi("app","Firebase",f$);var ey=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}};var Ns=d$;function ry(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Jv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw wr.create("bad-app-name",{appName:String(r)});if(t||(t=Uv()),!t)throw wr.create("no-options");let o=Lc.get(r);if(o){if(Ms(t,o.options)&&Ms(i,o.config))return o;throw wr.create("duplicate-app",{appName:r})}let s=new gh(r);for(let c of Xv.values())s.addComponent(c);let a=new ey(t,i,s);return Lc.set(r,a),a}function jc(n=Jv){let e=Lc.get(n);if(!e&&n===Jv&&Uv())return ry();if(!e)throw wr.create("no-app",{appName:n});return e}function vh(){return Array.from(Lc.values())}function ut(n,e,t){var i;let r=(i=u$[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(a.join(" "));return}Ir(new gn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var m$="firebase-heartbeat-database",p$=1,Vc="firebase-heartbeat-store",Qv=null;function zS(){return Qv||(Qv=LS(m$,p$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(n=>{throw wr.create("idb-open",{originalErrorMessage:n.message})})),Qv}function g$(n){return A(this,null,function*(){try{let t=(yield zS()).transaction(Vc),i=yield t.objectStore(Vc).get(HS(n));return yield t.done,i}catch(e){if(e instanceof mn)Ti.warn(e.message);else{let t=wr.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(t.message)}}})}function US(n,e){return A(this,null,function*(){try{let i=(yield zS()).transaction(Vc,"readwrite");yield i.objectStore(Vc).put(e,HS(n)),yield i.done}catch(t){if(t instanceof mn)Ti.warn(t.message);else{let i=wr.create("idb-set",{originalErrorMessage:t?.message});Ti.warn(i.message)}}})}function HS(n){return`${n.name}!${n.options.appId}`}var _$=1024,v$=30*24*60*60*1e3,ty=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ny(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return A(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=BS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=v$}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ti.warn(i)}})}getHeartbeatsHeader(){return A(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=BS(),{heartbeatsToSend:i,unsentEntries:r}=y$(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ti.warn(t),""}})}};function BS(){return new Date().toISOString().substring(0,10)}function y$(n,e=_$){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),$S(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),$S(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var ny=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return Bv()?AS().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield g$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return US(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return US(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function $S(n){return Fc(JSON.stringify({version:2,heartbeats:n})).length}function b$(n){Ir(new gn("platform-logger",e=>new Yv(e),"PRIVATE")),Ir(new gn("heartbeat",e=>new ty(e),"PRIVATE")),ut(Zv,VS,n),ut(Zv,VS,"esm2017"),ut("fire-js","")}b$("");var w$="firebase",I$="10.14.1";ut(w$,I$,"app");var Os=new Ln("ANGULARFIRE2_VERSION");function sy(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Bc=(n,e)=>{let t=e?[e]:vh(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Uc=class{constructor(){return Bc(E$)}},E$="app-check";function Ps(){}var yh=class{zone;delegate;constructor(e,t=Pm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},oy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)),t.pipe($e({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$c=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yh(Zone.current)),this.insideAngular=t.run(()=>new yh(Zone.current,Ca)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(U(_e))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function D$(n){return bh().ngZone.runOutsideAngular(()=>n())}function _o(n){return bh().ngZone.run(()=>n())}function x$(n){return T$(bh())(n)}function T$(n){return function(t){return t=t.lift(new oy(n.ngZone)),t.pipe(zi(n.outsideAngular),$i(n.insideAngular))}}var C$=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),_o(()=>n.apply(void 0,i))},Er=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps))),i[o]=C$(i[o],t));let r=D$(()=>n.apply(this,i));if(!e)if(r instanceof le){let o=bh();return r.pipe(zi(o.outsideAngular),$i(o.insideAngular))}else return _o(()=>r);return r instanceof le?r.pipe(x$):r instanceof Promise?_o(()=>new Promise((o,s)=>r.then(a=>_o(()=>o(a)),a=>_o(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:_o(()=>r)};var vo=class{constructor(e){return e}},zc=class{constructor(){return vh()}};function S$(n){return n&&n.length===1?n[0]:new vo(jc())}var ay=new H("angularfire2._apps"),A$={provide:vo,useFactory:S$,deps:[[new En,ay]]},k$={provide:zc,deps:[[new En,ay]]};function M$(n){return(e,t)=>{let i=t.get(jn);ut("angularfire",Os.full,"core"),ut("angularfire",Os.full,"app"),ut("angular",zx.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new vo(r)}}function qS(n,...e){return or([A$,k$,{provide:ay,useFactory:M$(n),multi:!0,deps:[_e,cn,$c,...e]}])}var GS=Er(ry,!0);function eA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tA=eA,nA=new xi("auth","Firebase",eA());var Dh=new br("@firebase/auth");function N$(n,...e){Dh.logLevel<=ve.WARN&&Dh.warn(`Auth (${Ns}): ${n}`,...e)}function Ih(n,...e){Dh.logLevel<=ve.ERROR&&Dh.error(`Auth (${Ns}): ${n}`,...e)}function WS(n,...e){throw yy(n,...e)}function vy(n,...e){return yy(n,...e)}function iA(n,e,t){let i=Object.assign(Object.assign({},tA()),{[e]:t});return new xi("auth","Firebase",i).create(e,{appName:n.name})}function Eh(n){return iA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return nA.create(n,...e)}function Ce(n,e,...t){if(!n)throw yy(e,...t)}function Hc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ih(e),new Error(e)}function xh(n,e){n||Hc(e)}function P$(){return KS()==="http:"||KS()==="https:"}function KS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function O$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P$()||TS()||"connection"in navigator)?navigator.onLine:!0}function F$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var bo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xh(t>e,"Short delay should be less than long delay!"),this.isMobile=DS()||CS()}get(){return O$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function L$(n,e){xh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Th=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var V$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var j$=new bo(3e4,6e4);function rA(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function kh(o,s,a,c){return A(this,arguments,function*(n,e,t,i,r={}){return oA(n,r,()=>A(this,null,function*(){let d={},h={};i&&(e==="GET"?h=i:d={body:JSON.stringify(i)});let m=$v(Object.assign({key:n.config.apiKey},h)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:_},d);return xS()||(g.referrerPolicy="no-referrer"),Th.fetch()(sA(n,n.config.apiHost,t,m),g)}))})}function oA(n,e,t){return A(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},V$),e);try{let r=new dy(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw wh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw wh(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw wh(n,"user-disabled",s);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw iA(n,h,d);WS(n,h)}}catch(r){if(r instanceof mn)throw r;WS(n,"network-request-failed",{message:String(r)})}})}function sA(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?L$(n.config,r):`${n.config.apiScheme}://${r}`}var dy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(vy(this.auth,"network-request-failed")),j$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function wh(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=vy(n,e,i);return r.customData._tokenResponse=t,r}function U$(n,e){return A(this,null,function*(){return kh(n,"POST","/v1/accounts:delete",e)})}function aA(n,e){return A(this,null,function*(){return kh(n,"POST","/v1/accounts:lookup",e)})}function qc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function by(n,e=!1){return A(this,null,function*(){let t=pn(n),i=yield t.getIdToken(e),r=cA(i);Ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:qc(cy(r.auth_time)),issuedAtTime:qc(cy(r.iat)),expirationTime:qc(cy(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function cy(n){return Number(n)*1e3}function cA(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{let r=jv(t);return r?JSON.parse(r):(Ih("Failed to decode base64 JWT payload"),null)}catch(r){return Ih("Caught error parsing JWT payload as JSON",r?.toString()),null}}function QS(n){let e=cA(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function uy(n,e,t=!1){return A(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof mn&&B$(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function B$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var hy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),t)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ch(n){return A(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield uy(n,aA(t,{idToken:i}));Ce(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lA(o.providerUserInfo):[],a=$$(n.providerData,s),c=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,h=c?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Wc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,m)})}function wy(n){return A(this,null,function*(){let e=pn(n);yield Ch(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $$(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function lA(n){return n.map(e=>{var{providerId:t}=e,i=Om(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function z$(n,e){return A(this,null,function*(){let t=yield oA(n,{},()=>A(this,null,function*(){let i=$v({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=sA(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Th.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function H$(n,e){return A(this,null,function*(){return kh(n,"POST","/v2/accounts:revokeToken",rA(n,e))})}var Gc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");let t=QS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return A(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return A(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield z$(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Hc("not implemented")}};function Dr(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Kc=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let t=yield uy(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return by(this,e)}reload(){return wy(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return A(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ch(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if(Rs(this.auth.app))return Promise.reject(Eh(this.auth));let e=yield this.getIdToken();return yield uy(this,U$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,d,h;let m=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(r=t.email)!==null&&r!==void 0?r:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,T=(a=t.tenantId)!==null&&a!==void 0?a:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,M=(d=t.createdAt)!==null&&d!==void 0?d:void 0,L=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:K,isAnonymous:Ae,providerData:Z,stsTokenManager:I}=t;Ce(B&&I,e,"internal-error");let v=Gc.fromJSON(this.name,I);Ce(typeof B=="string",e,"internal-error"),Dr(m,e.name),Dr(_,e.name),Ce(typeof K=="boolean",e,"internal-error"),Ce(typeof Ae=="boolean",e,"internal-error"),Dr(g,e.name),Dr(w,e.name),Dr(T,e.name),Dr(S,e.name),Dr(M,e.name),Dr(L,e.name);let y=new n({uid:B,auth:e,email:_,emailVerified:K,displayName:m,isAnonymous:Ae,photoURL:w,phoneNumber:g,tenantId:T,stsTokenManager:v,createdAt:M,lastLoginAt:L});return Z&&Array.isArray(Z)&&(y.providerData=Z.map(E=>Object.assign({},E))),S&&(y._redirectEventId=S),y}static _fromIdTokenResponse(e,t,i=!1){return A(this,null,function*(){let r=new Gc;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Ch(o),o})}static _fromGetAccountInfoResponse(e,t,i){return A(this,null,function*(){let r=t.users[0];Ce(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?lA(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Gc;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Wc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,d),c})}};var YS=new Map;function yo(n){xh(n instanceof Function,"Expected a class definition");let e=YS.get(n);return e?(xh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YS.set(n,e),e)}var q$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(t,i){return A(this,null,function*(){this.storage[t]=i})}_get(t){return A(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return A(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),fy=q$;function ly(n,e,t){return`firebase:${n}:${e}:${t}`}var Sh=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=ly(this.userKey,r.apiKey,o),this.fullPersistenceKey=ly("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Kc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return A(this,null,function*(){if(!t.length)return new n(yo(fy),e,i);let r=(yield Promise.all(t.map(d=>A(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=r[0]||yo(fy),s=ly(i,e.config.apiKey,e.name),a=null;for(let d of t)try{let h=yield d._get(s);if(h){let m=Kc._fromJSON(e,h);d!==o&&(a=m),o=d;break}}catch{}let c=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>A(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,i))})}};function ZS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z$(e))return"Blackberry";if(J$(e))return"Webos";if(W$(e))return"Safari";if((e.includes("chrome/")||K$(e))&&!e.includes("edge/"))return"Chrome";if(Y$(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function G$(n=tn()){return/firefox\//i.test(n)}function W$(n=tn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K$(n=tn()){return/crios\//i.test(n)}function Q$(n=tn()){return/iemobile/i.test(n)}function Y$(n=tn()){return/android/i.test(n)}function Z$(n=tn()){return/blackberry/i.test(n)}function J$(n=tn()){return/webos/i.test(n)}function dA(n,e=[]){let t;switch(n){case"Browser":t=ZS(tn());break;case"Worker":t=`${ZS(tn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ns}/${i}`}var my=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function X$(t){return A(this,arguments,function*(n,e={}){return kh(n,"GET","/v2/passwordPolicy",rA(n,e))})}var e4=6,py=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:e4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var gy=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ah(this),this.idTokenSubscription=new Ah(this),this.beforeStateQueue=new my(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yo(t)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Sh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let t=yield aA(this,{idToken:e}),i=yield Kc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var t;if(Rs(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return A(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield Ch(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=F$()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if(Rs(this.app))return Promise.reject(Eh(this));let t=e?pn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return A(this,null,function*(){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return Rs(this.app)?Promise.reject(Eh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Rs(this.app)?Promise.reject(Eh(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(yo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield X$(this),t=new py(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield H$(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return A(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&yo(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=yield Sh.create(this,[yo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return A(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&N$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function t4(n){return pn(n)}var Ah=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kS(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var n4={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i4(n){n4=n}function r4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function o4(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(yo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var KY=r4("rcb"),QY=new bo(3e4,6e4);var YY=new bo(2e3,1e4);var ZY=10*60*1e3;var JY=new bo(3e4,6e4);var XY=new bo(5e3,15e3);var eZ=encodeURIComponent("fac");var JS="@firebase/auth",XS="1.7.9";var _y=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function s4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a4(n){Ir(new gn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Ce(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dA(n)},d=new gy(i,r,o,c);return o4(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ir(new gn("auth-internal",e=>{let t=t4(e.getProvider("auth").getImmediate());return(i=>new _y(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(JS,XS,s4(n)),ut(JS,XS,"esm2017")}var c4=5*60,tZ=IS("authIdTokenMaxAge")||c4;function l4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}i4({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=vy("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",l4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a4("Browser");var cz="auth";var Mh=class{constructor(){return Bc(cz)}};var uA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hA={};var xr,Iy;(function(){var n;function e(I,v){function y(){}y.prototype=v.prototype,I.D=v.prototype,I.prototype=new y,I.prototype.constructor=I,I.C=function(E,D,C){for(var b=Array(arguments.length-2),rn=2;rn<arguments.length;rn++)b[rn-2]=arguments[rn];return v.prototype[D].apply(E,b)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,v,y){y||(y=0);var E=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)E[D]=v.charCodeAt(y++)|v.charCodeAt(y++)<<8|v.charCodeAt(y++)<<16|v.charCodeAt(y++)<<24;else for(D=0;16>D;++D)E[D]=v[y++]|v[y++]<<8|v[y++]<<16|v[y++]<<24;v=I.g[0],y=I.g[1],D=I.g[2];var C=I.g[3],b=v+(C^y&(D^C))+E[0]+3614090360&4294967295;v=y+(b<<7&4294967295|b>>>25),b=C+(D^v&(y^D))+E[1]+3905402710&4294967295,C=v+(b<<12&4294967295|b>>>20),b=D+(y^C&(v^y))+E[2]+606105819&4294967295,D=C+(b<<17&4294967295|b>>>15),b=y+(v^D&(C^v))+E[3]+3250441966&4294967295,y=D+(b<<22&4294967295|b>>>10),b=v+(C^y&(D^C))+E[4]+4118548399&4294967295,v=y+(b<<7&4294967295|b>>>25),b=C+(D^v&(y^D))+E[5]+1200080426&4294967295,C=v+(b<<12&4294967295|b>>>20),b=D+(y^C&(v^y))+E[6]+2821735955&4294967295,D=C+(b<<17&4294967295|b>>>15),b=y+(v^D&(C^v))+E[7]+4249261313&4294967295,y=D+(b<<22&4294967295|b>>>10),b=v+(C^y&(D^C))+E[8]+1770035416&4294967295,v=y+(b<<7&4294967295|b>>>25),b=C+(D^v&(y^D))+E[9]+2336552879&4294967295,C=v+(b<<12&4294967295|b>>>20),b=D+(y^C&(v^y))+E[10]+4294925233&4294967295,D=C+(b<<17&4294967295|b>>>15),b=y+(v^D&(C^v))+E[11]+2304563134&4294967295,y=D+(b<<22&4294967295|b>>>10),b=v+(C^y&(D^C))+E[12]+1804603682&4294967295,v=y+(b<<7&4294967295|b>>>25),b=C+(D^v&(y^D))+E[13]+4254626195&4294967295,C=v+(b<<12&4294967295|b>>>20),b=D+(y^C&(v^y))+E[14]+2792965006&4294967295,D=C+(b<<17&4294967295|b>>>15),b=y+(v^D&(C^v))+E[15]+1236535329&4294967295,y=D+(b<<22&4294967295|b>>>10),b=v+(D^C&(y^D))+E[1]+4129170786&4294967295,v=y+(b<<5&4294967295|b>>>27),b=C+(y^D&(v^y))+E[6]+3225465664&4294967295,C=v+(b<<9&4294967295|b>>>23),b=D+(v^y&(C^v))+E[11]+643717713&4294967295,D=C+(b<<14&4294967295|b>>>18),b=y+(C^v&(D^C))+E[0]+3921069994&4294967295,y=D+(b<<20&4294967295|b>>>12),b=v+(D^C&(y^D))+E[5]+3593408605&4294967295,v=y+(b<<5&4294967295|b>>>27),b=C+(y^D&(v^y))+E[10]+38016083&4294967295,C=v+(b<<9&4294967295|b>>>23),b=D+(v^y&(C^v))+E[15]+3634488961&4294967295,D=C+(b<<14&4294967295|b>>>18),b=y+(C^v&(D^C))+E[4]+3889429448&4294967295,y=D+(b<<20&4294967295|b>>>12),b=v+(D^C&(y^D))+E[9]+568446438&4294967295,v=y+(b<<5&4294967295|b>>>27),b=C+(y^D&(v^y))+E[14]+3275163606&4294967295,C=v+(b<<9&4294967295|b>>>23),b=D+(v^y&(C^v))+E[3]+4107603335&4294967295,D=C+(b<<14&4294967295|b>>>18),b=y+(C^v&(D^C))+E[8]+1163531501&4294967295,y=D+(b<<20&4294967295|b>>>12),b=v+(D^C&(y^D))+E[13]+2850285829&4294967295,v=y+(b<<5&4294967295|b>>>27),b=C+(y^D&(v^y))+E[2]+4243563512&4294967295,C=v+(b<<9&4294967295|b>>>23),b=D+(v^y&(C^v))+E[7]+1735328473&4294967295,D=C+(b<<14&4294967295|b>>>18),b=y+(C^v&(D^C))+E[12]+2368359562&4294967295,y=D+(b<<20&4294967295|b>>>12),b=v+(y^D^C)+E[5]+4294588738&4294967295,v=y+(b<<4&4294967295|b>>>28),b=C+(v^y^D)+E[8]+2272392833&4294967295,C=v+(b<<11&4294967295|b>>>21),b=D+(C^v^y)+E[11]+1839030562&4294967295,D=C+(b<<16&4294967295|b>>>16),b=y+(D^C^v)+E[14]+4259657740&4294967295,y=D+(b<<23&4294967295|b>>>9),b=v+(y^D^C)+E[1]+2763975236&4294967295,v=y+(b<<4&4294967295|b>>>28),b=C+(v^y^D)+E[4]+1272893353&4294967295,C=v+(b<<11&4294967295|b>>>21),b=D+(C^v^y)+E[7]+4139469664&4294967295,D=C+(b<<16&4294967295|b>>>16),b=y+(D^C^v)+E[10]+3200236656&4294967295,y=D+(b<<23&4294967295|b>>>9),b=v+(y^D^C)+E[13]+681279174&4294967295,v=y+(b<<4&4294967295|b>>>28),b=C+(v^y^D)+E[0]+3936430074&4294967295,C=v+(b<<11&4294967295|b>>>21),b=D+(C^v^y)+E[3]+3572445317&4294967295,D=C+(b<<16&4294967295|b>>>16),b=y+(D^C^v)+E[6]+76029189&4294967295,y=D+(b<<23&4294967295|b>>>9),b=v+(y^D^C)+E[9]+3654602809&4294967295,v=y+(b<<4&4294967295|b>>>28),b=C+(v^y^D)+E[12]+3873151461&4294967295,C=v+(b<<11&4294967295|b>>>21),b=D+(C^v^y)+E[15]+530742520&4294967295,D=C+(b<<16&4294967295|b>>>16),b=y+(D^C^v)+E[2]+3299628645&4294967295,y=D+(b<<23&4294967295|b>>>9),b=v+(D^(y|~C))+E[0]+4096336452&4294967295,v=y+(b<<6&4294967295|b>>>26),b=C+(y^(v|~D))+E[7]+1126891415&4294967295,C=v+(b<<10&4294967295|b>>>22),b=D+(v^(C|~y))+E[14]+2878612391&4294967295,D=C+(b<<15&4294967295|b>>>17),b=y+(C^(D|~v))+E[5]+4237533241&4294967295,y=D+(b<<21&4294967295|b>>>11),b=v+(D^(y|~C))+E[12]+1700485571&4294967295,v=y+(b<<6&4294967295|b>>>26),b=C+(y^(v|~D))+E[3]+2399980690&4294967295,C=v+(b<<10&4294967295|b>>>22),b=D+(v^(C|~y))+E[10]+4293915773&4294967295,D=C+(b<<15&4294967295|b>>>17),b=y+(C^(D|~v))+E[1]+2240044497&4294967295,y=D+(b<<21&4294967295|b>>>11),b=v+(D^(y|~C))+E[8]+1873313359&4294967295,v=y+(b<<6&4294967295|b>>>26),b=C+(y^(v|~D))+E[15]+4264355552&4294967295,C=v+(b<<10&4294967295|b>>>22),b=D+(v^(C|~y))+E[6]+2734768916&4294967295,D=C+(b<<15&4294967295|b>>>17),b=y+(C^(D|~v))+E[13]+1309151649&4294967295,y=D+(b<<21&4294967295|b>>>11),b=v+(D^(y|~C))+E[4]+4149444226&4294967295,v=y+(b<<6&4294967295|b>>>26),b=C+(y^(v|~D))+E[11]+3174756917&4294967295,C=v+(b<<10&4294967295|b>>>22),b=D+(v^(C|~y))+E[2]+718787259&4294967295,D=C+(b<<15&4294967295|b>>>17),b=y+(C^(D|~v))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(D+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+C&4294967295}i.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var y=v-this.blockSize,E=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=y;)r(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<v;)if(E[D++]=I.charCodeAt(C++),D==this.blockSize){r(this,E),D=0;break}}else for(;C<v;)if(E[D++]=I[C++],D==this.blockSize){r(this,E),D=0;break}}this.h=D,this.o+=v},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var y=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=y&255,y/=256;for(this.u(I),I=Array(16),v=y=0;4>v;++v)for(var E=0;32>E;E+=8)I[y++]=this.g[v]>>>E&255;return I};function o(I,v){var y=a;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=v(I)}function s(I,v){this.h=v;for(var y=[],E=!0,D=I.length-1;0<=D;D--){var C=I[D]|0;E&&C==v||(y[D]=C,E=!1)}this.g=y}var a={};function c(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return S(d(-I));for(var v=[],y=1,E=0;I>=y;E++)v[E]=I/y|0,y*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return S(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(v,8)),E=m,D=0;D<I.length;D+=8){var C=Math.min(8,I.length-D),b=parseInt(I.substring(D,D+C),v);8>C?(C=d(Math.pow(v,C)),E=E.j(C).add(d(b))):(E=E.j(y),E=E.add(d(b)))}return E}var m=c(0),_=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(T(this))return-S(this).m();for(var I=0,v=1,y=0;y<this.g.length;y++){var E=this.i(y);I+=(0<=E?E:4294967296+E)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(T(this))return"-"+S(this).toString(I);for(var v=d(Math.pow(I,6)),y=this,E="";;){var D=K(y,v).g;y=M(y,D.j(v));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(I);if(y=D,w(y))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function T(I){return I.h==-1}n.l=function(I){return I=M(this,I),T(I)?-1:w(I)?0:1};function S(I){for(var v=I.g.length,y=[],E=0;E<v;E++)y[E]=~I.g[E];return new s(y,~I.h).add(_)}n.abs=function(){return T(this)?S(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),y=[],E=0,D=0;D<=v;D++){var C=E+(this.i(D)&65535)+(I.i(D)&65535),b=(C>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);E=b>>>16,C&=65535,b&=65535,y[D]=b<<16|C}return new s(y,y[y.length-1]&-2147483648?-1:0)};function M(I,v){return I.add(S(v))}n.j=function(I){if(w(this)||w(I))return m;if(T(this))return T(I)?S(this).j(S(I)):S(S(this).j(I));if(T(I))return S(this.j(S(I)));if(0>this.l(g)&&0>I.l(g))return d(this.m()*I.m());for(var v=this.g.length+I.g.length,y=[],E=0;E<2*v;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<I.g.length;D++){var C=this.i(E)>>>16,b=this.i(E)&65535,rn=I.i(D)>>>16,Pi=I.i(D)&65535;y[2*E+2*D]+=b*Pi,L(y,2*E+2*D),y[2*E+2*D+1]+=C*Pi,L(y,2*E+2*D+1),y[2*E+2*D+1]+=b*rn,L(y,2*E+2*D+1),y[2*E+2*D+2]+=C*rn,L(y,2*E+2*D+2)}for(E=0;E<v;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=v;E<2*v;E++)y[E]=0;return new s(y,0)};function L(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function B(I,v){this.g=I,this.h=v}function K(I,v){if(w(v))throw Error("division by zero");if(w(I))return new B(m,m);if(T(I))return v=K(S(I),v),new B(S(v.g),S(v.h));if(T(v))return v=K(I,S(v)),new B(S(v.g),v.h);if(30<I.g.length){if(T(I)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=v;0>=E.l(I);)y=Ae(y),E=Ae(E);var D=Z(y,1),C=Z(E,1);for(E=Z(E,2),y=Z(y,2);!w(E);){var b=C.add(E);0>=b.l(I)&&(D=D.add(y),C=b),E=Z(E,1),y=Z(y,1)}return v=M(I,D.j(v)),new B(D,v)}for(D=m;0<=I.l(v);){for(y=Math.max(1,Math.floor(I.m()/v.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=d(y),b=C.j(v);T(b)||0<b.l(I);)y-=E,C=d(y),b=C.j(v);w(C)&&(C=_),D=D.add(C),I=M(I,b)}return new B(D,I)}n.A=function(I){return K(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),y=[],E=0;E<v;E++)y[E]=this.i(E)&I.i(E);return new s(y,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),y=[],E=0;E<v;E++)y[E]=this.i(E)|I.i(E);return new s(y,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),y=[],E=0;E<v;E++)y[E]=this.i(E)^I.i(E);return new s(y,this.h^I.h)};function Ae(I){for(var v=I.g.length+1,y=[],E=0;E<v;E++)y[E]=I.i(E)<<1|I.i(E-1)>>>31;return new s(y,I.h)}function Z(I,v){var y=v>>5;v%=32;for(var E=I.g.length-y,D=[],C=0;C<E;C++)D[C]=0<v?I.i(C+y)>>>v|I.i(C+y+1)<<32-v:I.i(C+y);return new s(D,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Iy=hA.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,xr=hA.Integer=s}).apply(typeof uA<"u"?uA:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ci={};var Ey,lz,Fs,Dy,Qc,Nh,xy,Ty,Cy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,u,f){return l==Array.prototype||l==Object.prototype||(l[u]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var u=0;u<l.length;++u){var f=l[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=t(this);function r(l,u){if(u)e:{var f=i;l=l.split(".");for(var p=0;p<l.length-1;p++){var x=l[p];if(!(x in f))break e;f=f[x]}l=l[l.length-1],p=f[l],u=u(p),u!=p&&u!=null&&e(f,l,{configurable:!0,writable:!0,value:u})}}function o(l,u){l instanceof String&&(l+="");var f=0,p=!1,x={next:function(){if(!p&&f<l.length){var k=f++;return{value:u(k,l[k]),done:!1}}return p=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}r("Array.prototype.values",function(l){return l||function(){return o(this,function(u,f){return f})}});var s=s||{},a=this||self;function c(l){var u=typeof l;return u=u!="object"?u:l?Array.isArray(l)?"array":u:"null",u=="array"||u=="object"&&typeof l.length=="number"}function d(l){var u=typeof l;return u=="object"&&l!=null||u=="function"}function h(l,u,f){return l.call.apply(l.bind,arguments)}function m(l,u,f){if(!l)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,p),l.apply(u,x)}}return function(){return l.apply(u,arguments)}}function _(l,u,f){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,_.apply(null,arguments)}function g(l,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),l.apply(this,p)}}function w(l,u){function f(){}f.prototype=u.prototype,l.aa=u.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(p,x,k){for(var V=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)V[Me-2]=arguments[Me];return u.prototype[x].apply(p,V)}}function T(l){let u=l.length;if(0<u){let f=Array(u);for(let p=0;p<u;p++)f[p]=l[p];return f}return[]}function S(l,u){for(let f=1;f<arguments.length;f++){let p=arguments[f];if(c(p)){let x=l.length||0,k=p.length||0;l.length=x+k;for(let V=0;V<k;V++)l[x+V]=p[V]}else l.push(p)}}class M{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function L(l){return/^[\s\xa0]*$/.test(l)}function B(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function K(l){return K[" "](l),l}K[" "]=function(){};var Ae=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(l,u,f){for(let p in l)u.call(f,l[p],p,l)}function I(l,u){for(let f in l)u.call(void 0,l[f],f,l)}function v(l){let u={};for(let f in l)u[f]=l[f];return u}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(l,u){let f,p;for(let x=1;x<arguments.length;x++){p=arguments[x];for(f in p)l[f]=p[f];for(let k=0;k<y.length;k++)f=y[k],Object.prototype.hasOwnProperty.call(p,f)&&(l[f]=p[f])}}function D(l){var u=1;l=l.split(":");let f=[];for(;0<u&&l.length;)f.push(l.shift()),u--;return l.length&&f.push(l.join(":")),f}function C(l){a.setTimeout(()=>{throw l},0)}function b(){var l=ge;let u=null;return l.g&&(u=l.g,l.g=l.g.next,l.g||(l.h=null),u.next=null),u}class rn{constructor(){this.h=this.g=null}add(u,f){let p=Pi.get();p.set(u,f),this.h?this.h.next=p:this.g=p,this.h=p}}var Pi=new M(()=>new $,l=>l.reset());class ${constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let q,Q=!1,ge=new rn,nt=()=>{let l=a.Promise.resolve(void 0);q=()=>{l.then(on)}};var on=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(f){C(f)}var u=Pi;u.j(l),100>u.h&&(u.h++,l.next=u.g,u.g=l)}Q=!1};function Qe(){this.s=this.s,this.C=this.C}Qe.prototype.s=!1,Qe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(l,u){this.type=l,this.g=this.target=u,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,u=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,u),a.removeEventListener("test",f,u)}catch{}return l}();function Oi(l,u){if(Ve.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,p=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=u,u=l.relatedTarget){if(Ae){e:{try{K(u.nodeName);var x=!0;break e}catch{}x=!1}x||(u=null)}}else f=="mouseover"?u=l.fromElement:f=="mouseout"&&(u=l.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Gf[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Oi.aa.h.call(this)}}w(Oi,Ve);var Gf={2:"touch",3:"pen",4:"mouse"};Oi.prototype.h=function(){Oi.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),ei=0;function Ot(l,u,f,p,x){this.listener=l,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.ha=x,this.key=++ei,this.da=this.fa=!1}function ti(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Fi(l){this.src=l,this.g={},this.h=0}Fi.prototype.add=function(l,u,f,p,x){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var V=Kf(l,u,p,x);return-1<V?(u=l[V],f||(u.fa=!1)):(u=new Ot(u,this.src,k,!!p,x),u.fa=f,l.push(u)),u};function Wf(l,u){var f=u.type;if(f in l.g){var p=l.g[f],x=Array.prototype.indexOf.call(p,u,void 0),k;(k=0<=x)&&Array.prototype.splice.call(p,x,1),k&&(ti(u),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Kf(l,u,f,p){for(var x=0;x<l.length;++x){var k=l[x];if(!k.da&&k.listener==u&&k.capture==!!f&&k.ha==p)return x}return-1}var Qf="closure_lm_"+(1e6*Math.random()|0),Yf={};function Uw(l,u,f,p,x){if(p&&p.once)return $w(l,u,f,p,x);if(Array.isArray(u)){for(var k=0;k<u.length;k++)Uw(l,u[k],f,p,x);return null}return f=em(f),l&&l[Ye]?l.K(u,f,d(p)?!!p.capture:!!p,x):Bw(l,u,f,!1,p,x)}function Bw(l,u,f,p,x,k){if(!u)throw Error("Invalid event type");var V=d(x)?!!x.capture:!!x,Me=Jf(l);if(Me||(l[Qf]=Me=new Fi(l)),f=Me.add(u,f,p,V,k),f.proxy)return f;if(p=GM(),f.proxy=p,p.src=l,p.listener=f,l.addEventListener)je||(x=V),x===void 0&&(x=!1),l.addEventListener(u.toString(),p,x);else if(l.attachEvent)l.attachEvent(Hw(u.toString()),p);else if(l.addListener&&l.removeListener)l.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function GM(){function l(f){return u.call(l.src,l.listener,f)}let u=WM;return l}function $w(l,u,f,p,x){if(Array.isArray(u)){for(var k=0;k<u.length;k++)$w(l,u[k],f,p,x);return null}return f=em(f),l&&l[Ye]?l.L(u,f,d(p)?!!p.capture:!!p,x):Bw(l,u,f,!0,p,x)}function zw(l,u,f,p,x){if(Array.isArray(u))for(var k=0;k<u.length;k++)zw(l,u[k],f,p,x);else p=d(p)?!!p.capture:!!p,f=em(f),l&&l[Ye]?(l=l.i,u=String(u).toString(),u in l.g&&(k=l.g[u],f=Kf(k,f,p,x),-1<f&&(ti(k[f]),Array.prototype.splice.call(k,f,1),k.length==0&&(delete l.g[u],l.h--)))):l&&(l=Jf(l))&&(u=l.g[u.toString()],l=-1,u&&(l=Kf(u,f,p,x)),(f=-1<l?u[l]:null)&&Zf(f))}function Zf(l){if(typeof l!="number"&&l&&!l.da){var u=l.src;if(u&&u[Ye])Wf(u.i,l);else{var f=l.type,p=l.proxy;u.removeEventListener?u.removeEventListener(f,p,l.capture):u.detachEvent?u.detachEvent(Hw(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Jf(u))?(Wf(f,l),f.h==0&&(f.src=null,u[Qf]=null)):ti(l)}}}function Hw(l){return l in Yf?Yf[l]:Yf[l]="on"+l}function WM(l,u){if(l.da)l=!0;else{u=new Oi(u,this);var f=l.listener,p=l.ha||l.src;l.fa&&Zf(l),l=f.call(p,u)}return l}function Jf(l){return l=l[Qf],l instanceof Fi?l:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function em(l){return typeof l=="function"?l:(l[Xf]||(l[Xf]=function(u){return l.handleEvent(u)}),l[Xf])}function vt(){Qe.call(this),this.i=new Fi(this),this.M=this,this.F=null}w(vt,Qe),vt.prototype[Ye]=!0,vt.prototype.removeEventListener=function(l,u,f,p){zw(this,l,u,f,p)};function kt(l,u){var f,p=l.F;if(p)for(f=[];p;p=p.F)f.push(p);if(l=l.M,p=u.type||u,typeof u=="string")u=new Ve(u,l);else if(u instanceof Ve)u.target=u.target||l;else{var x=u;u=new Ve(p,l),E(u,x)}if(x=!0,f)for(var k=f.length-1;0<=k;k--){var V=u.g=f[k];x=El(V,p,!0,u)&&x}if(V=u.g=l,x=El(V,p,!0,u)&&x,x=El(V,p,!1,u)&&x,f)for(k=0;k<f.length;k++)V=u.g=f[k],x=El(V,p,!1,u)&&x}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var l=this.i,u;for(u in l.g){for(var f=l.g[u],p=0;p<f.length;p++)ti(f[p]);delete l.g[u],l.h--}}this.F=null},vt.prototype.K=function(l,u,f,p){return this.i.add(String(l),u,!1,f,p)},vt.prototype.L=function(l,u,f,p){return this.i.add(String(l),u,!0,f,p)};function El(l,u,f,p){if(u=l.i.g[String(u)],!u)return!0;u=u.concat();for(var x=!0,k=0;k<u.length;++k){var V=u[k];if(V&&!V.da&&V.capture==f){var Me=V.listener,ft=V.ha||V.src;V.fa&&Wf(l.i,V),x=Me.call(ft,p)!==!1&&x}}return x&&!p.defaultPrevented}function qw(l,u,f){if(typeof l=="function")f&&(l=_(l,f));else if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:a.setTimeout(l,u||0)}function Gw(l){l.g=qw(()=>{l.g=null,l.i&&(l.i=!1,Gw(l))},l.l);let u=l.h;l.h=null,l.m.apply(null,u)}class KM extends Qe{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Gw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(l){Qe.call(this),this.h=l,this.g={}}w(la,Qe);var Ww=[];function Kw(l){Z(l.g,function(u,f){this.g.hasOwnProperty(f)&&Zf(u)},l),l.g={}}la.prototype.N=function(){la.aa.N.call(this),Kw(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tm=a.JSON.stringify,QM=a.JSON.parse,YM=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function nm(){}nm.prototype.h=null;function Qw(l){return l.h||(l.h=l.i())}function Yw(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function im(){Ve.call(this,"d")}w(im,Ve);function rm(){Ve.call(this,"c")}w(rm,Ve);var Nr={},Zw=null;function Dl(){return Zw=Zw||new vt}Nr.La="serverreachability";function Jw(l){Ve.call(this,Nr.La,l)}w(Jw,Ve);function ua(l){let u=Dl();kt(u,new Jw(u))}Nr.STAT_EVENT="statevent";function Xw(l,u){Ve.call(this,Nr.STAT_EVENT,l),this.stat=u}w(Xw,Ve);function Mt(l){let u=Dl();kt(u,new Xw(u,l))}Nr.Ma="timingevent";function e0(l,u){Ve.call(this,Nr.Ma,l),this.size=u}w(e0,Ve);function ha(l,u){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},u)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function ZM(l,u,f,p,x,k){l.info(function(){if(l.g)if(k)for(var V="",Me=k.split("&"),ft=0;ft<Me.length;ft++){var Ee=Me[ft].split("=");if(1<Ee.length){var yt=Ee[0];Ee=Ee[1];var bt=yt.split("_");V=2<=bt.length&&bt[1]=="type"?V+(yt+"="+Ee+"&"):V+(yt+"=redacted&")}}else V=null;else V=k;return"XMLHTTP REQ ("+p+") [attempt "+x+"]: "+u+`
`+f+`
`+V})}function JM(l,u,f,p,x,k,V){l.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+x+"]: "+u+`
`+f+`
`+k+" "+V})}function No(l,u,f,p){l.info(function(){return"XMLHTTP TEXT ("+u+"): "+eR(l,f)+(p?" "+p:"")})}function XM(l,u){l.info(function(){return"TIMEOUT: "+u})}fa.prototype.info=function(){};function eR(l,u){if(!l.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var p=f[l];if(!(2>p.length)){var x=p[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var V=1;V<x.length;V++)x[V]=""}}}}return tm(f)}catch{return u}}var xl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},t0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},om;function Tl(){}w(Tl,nm),Tl.prototype.g=function(){return new XMLHttpRequest},Tl.prototype.i=function(){return{}},om=new Tl;function Li(l,u,f,p){this.j=l,this.i=u,this.l=f,this.R=p||1,this.U=new la(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new n0}function n0(){this.i=null,this.g="",this.h=!1}var i0={},sm={};function am(l,u,f){l.L=1,l.v=kl(ni(u)),l.m=f,l.P=!0,r0(l,null)}function r0(l,u){l.F=Date.now(),Cl(l),l.A=ni(l.v);var f=l.A,p=l.R;Array.isArray(p)||(p=[String(p)]),v0(f.i,"t",p),l.C=0,f=l.j.J,l.h=new n0,l.g=F0(l.j,f?u:null,!l.m),0<l.O&&(l.M=new KM(_(l.Y,l,l.g),l.O)),u=l.U,f=l.g,p=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(Ww[0]=x.toString()),x=Ww);for(var k=0;k<x.length;k++){var V=Uw(f,x[k],p||u.handleEvent,!1,u.h||u);if(!V)break;u.g[V.key]=V}u=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,u)):(l.u="GET",l.g.ea(l.A,l.u,null,u)),ua(),ZM(l.i,l.u,l.A,l.l,l.R,l.m)}Li.prototype.ca=function(l){l=l.target;let u=this.M;u&&ii(l)==3?u.j():this.Y(l)},Li.prototype.Y=function(l){try{if(l==this.g)e:{let bt=ii(this.g);var u=this.g.Ba();let Fo=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||x0(this.g)))){this.J||bt!=4||u==7||(u==8||0>=Fo?ua(3):ua(2)),cm(this);var f=this.g.Z();this.X=f;t:if(o0(this)){var p=x0(this.g);l="";var x=p.length,k=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),ma(this);var V="";break t}this.h.i=new a.TextDecoder}for(u=0;u<x;u++)this.h.h=!0,l+=this.h.i.decode(p[u],{stream:!(k&&u==x-1)});p.length=0,this.h.g+=l,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,JM(this.i,this.u,this.A,this.l,this.R,bt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,ft=this.g;if((Me=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Me)){var Ee=Me;break t}}Ee=null}if(f=Ee)No(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lm(this,f);else{this.o=!1,this.s=3,Mt(12),Pr(this),ma(this);break e}}if(this.P){f=!0;let yn;for(;!this.J&&this.C<V.length;)if(yn=tR(this,V),yn==sm){bt==4&&(this.s=4,Mt(14),f=!1),No(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==i0){this.s=4,Mt(15),No(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else No(this.i,this.l,yn,null),lm(this,yn);if(o0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||V.length!=0||this.h.h||(this.s=1,Mt(16),f=!1),this.o=this.o&&f,!f)No(this.i,this.l,V,"[Invalid Chunked Response]"),Pr(this),ma(this);else if(0<V.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),pm(yt),yt.M=!0,Mt(11))}}else No(this.i,this.l,V,null),lm(this,V);bt==4&&Pr(this),this.o&&!this.J&&(bt==4?R0(this.j,this):(this.o=!1,Cl(this)))}else vR(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Pr(this),ma(this)}}}catch{}finally{}};function o0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function tR(l,u){var f=l.C,p=u.indexOf(`
`,f);return p==-1?sm:(f=Number(u.substring(f,p)),isNaN(f)?i0:(p+=1,p+f>u.length?sm:(u=u.slice(p,p+f),l.C=p+f,u)))}Li.prototype.cancel=function(){this.J=!0,Pr(this)};function Cl(l){l.S=Date.now()+l.I,s0(l,l.I)}function s0(l,u){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ha(_(l.ba,l),u)}function cm(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Li.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(XM(this.i,this.A),this.L!=2&&(ua(),Mt(17)),Pr(this),this.s=2,ma(this)):s0(this,this.S-l)};function ma(l){l.j.G==0||l.J||R0(l.j,l)}function Pr(l){cm(l);var u=l.M;u&&typeof u.ma=="function"&&u.ma(),l.M=null,Kw(l.U),l.g&&(u=l.g,l.g=null,u.abort(),u.ma())}function lm(l,u){try{var f=l.j;if(f.G!=0&&(f.g==l||dm(f.h,l))){if(!l.K&&dm(f.h,l)&&f.G==3){try{var p=f.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var x=p;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Ol(f),Nl(f);else break e;mm(f),Mt(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=ha(_(f.Za,f),6e3));if(1>=l0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Fr(f,11)}else if((l.K||f.g==l)&&Ol(f),!L(u))for(x=f.Da.g.parse(u),u=0;u<x.length;u++){let Ee=x[u];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let yt=Ee[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));let bt=Ee[4];bt!=null&&(f.Aa=bt,f.j.info("SVER="+f.Aa));let Fo=Ee[5];Fo!=null&&typeof Fo=="number"&&0<Fo&&(p=1.5*Fo,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;let yn=l.g;if(yn){let Ll=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var k=p.h;k.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(um(k,k.h),k.h=null))}if(p.D){let gm=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;gm&&(p.ya=gm,Ue(p.I,p.D,gm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var V=l;if(p.qa=O0(p,p.J?p.ia:null,p.W),V.K){d0(p.h,V);var Me=V,ft=p.L;ft&&(Me.I=ft),Me.B&&(cm(Me),Cl(Me)),p.g=V}else k0(p);0<f.i.length&&Pl(f)}else Ee[0]!="stop"&&Ee[0]!="close"||Fr(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Fr(f,7):fm(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}ua(4)}catch{}}var nR=class{constructor(l,u){this.g=l,this.map=u}};function a0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function c0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function l0(l){return l.h?1:l.g?l.g.size:0}function dm(l,u){return l.h?l.h==u:l.g?l.g.has(u):!1}function um(l,u){l.g?l.g.add(u):l.h=u}function d0(l,u){l.h&&l.h==u?l.h=null:l.g&&l.g.has(u)&&l.g.delete(u)}a0.prototype.cancel=function(){if(this.i=u0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function u0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let u=l.i;for(let f of l.g.values())u=u.concat(f.D);return u}return T(l.i)}function iR(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var u=[],f=l.length,p=0;p<f;p++)u.push(l[p]);return u}u=[],f=0;for(p in l)u[f++]=l[p];return u}function rR(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var u=[];l=l.length;for(var f=0;f<l;f++)u.push(f);return u}u=[],f=0;for(let p in l)u[f++]=p;return u}}}function h0(l,u){if(l.forEach&&typeof l.forEach=="function")l.forEach(u,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,u,void 0);else for(var f=rR(l),p=iR(l),x=p.length,k=0;k<x;k++)u.call(void 0,p[k],f&&f[k],l)}var f0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oR(l,u){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var p=l[f].indexOf("="),x=null;if(0<=p){var k=l[f].substring(0,p);x=l[f].substring(p+1)}else k=l[f];u(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Or(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Or){this.h=l.h,Sl(this,l.j),this.o=l.o,this.g=l.g,Al(this,l.s),this.l=l.l;var u=l.i,f=new _a;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),m0(this,f),this.m=l.m}else l&&(u=String(l).match(f0))?(this.h=!1,Sl(this,u[1]||"",!0),this.o=pa(u[2]||""),this.g=pa(u[3]||"",!0),Al(this,u[4]),this.l=pa(u[5]||"",!0),m0(this,u[6]||"",!0),this.m=pa(u[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}Or.prototype.toString=function(){var l=[],u=this.j;u&&l.push(ga(u,p0,!0),":");var f=this.g;return(f||u=="file")&&(l.push("//"),(u=this.o)&&l.push(ga(u,p0,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(ga(f,f.charAt(0)=="/"?cR:aR,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",ga(f,dR)),l.join("")};function ni(l){return new Or(l)}function Sl(l,u,f){l.j=f?pa(u,!0):u,l.j&&(l.j=l.j.replace(/:$/,""))}function Al(l,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);l.s=u}else l.s=null}function m0(l,u,f){u instanceof _a?(l.i=u,uR(l.i,l.h)):(f||(u=ga(u,lR)),l.i=new _a(u,l.h))}function Ue(l,u,f){l.i.set(u,f)}function kl(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function pa(l,u){return l?u?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ga(l,u,f){return typeof l=="string"?(l=encodeURI(l).replace(u,sR),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sR(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var p0=/[#\/\?@]/g,aR=/[#\?:]/g,cR=/[#\?]/g,lR=/[#\?@]/g,dR=/#/g;function _a(l,u){this.h=this.g=null,this.i=l||null,this.j=!!u}function Vi(l){l.g||(l.g=new Map,l.h=0,l.i&&oR(l.i,function(u,f){l.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}n=_a.prototype,n.add=function(l,u){Vi(this),this.i=null,l=Po(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(u),this.h+=1,this};function g0(l,u){Vi(l),u=Po(l,u),l.g.has(u)&&(l.i=null,l.h-=l.g.get(u).length,l.g.delete(u))}function _0(l,u){return Vi(l),u=Po(l,u),l.g.has(u)}n.forEach=function(l,u){Vi(this),this.g.forEach(function(f,p){f.forEach(function(x){l.call(u,x,p,this)},this)},this)},n.na=function(){Vi(this);let l=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let p=0;p<u.length;p++){let x=l[p];for(let k=0;k<x.length;k++)f.push(u[p])}return f},n.V=function(l){Vi(this);let u=[];if(typeof l=="string")_0(this,l)&&(u=u.concat(this.g.get(Po(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)u=u.concat(l[f])}return u},n.set=function(l,u){return Vi(this),this.i=null,l=Po(this,l),_0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[u]),this.h+=1,this},n.get=function(l,u){return l?(l=this.V(l),0<l.length?String(l[0]):u):u};function v0(l,u,f){g0(l,u),0<f.length&&(l.i=null,l.g.set(Po(l,u),T(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var p=u[f];let k=encodeURIComponent(String(p)),V=this.V(p);for(p=0;p<V.length;p++){var x=k;V[p]!==""&&(x+="="+encodeURIComponent(String(V[p]))),l.push(x)}}return this.i=l.join("&")};function Po(l,u){return u=String(u),l.j&&(u=u.toLowerCase()),u}function uR(l,u){u&&!l.j&&(Vi(l),l.i=null,l.g.forEach(function(f,p){var x=p.toLowerCase();p!=x&&(g0(this,p),v0(this,x,f))},l)),l.j=u}function hR(l,u){let f=new fa;if(a.Image){let p=new Image;p.onload=g(ji,f,"TestLoadImage: loaded",!0,u,p),p.onerror=g(ji,f,"TestLoadImage: error",!1,u,p),p.onabort=g(ji,f,"TestLoadImage: abort",!1,u,p),p.ontimeout=g(ji,f,"TestLoadImage: timeout",!1,u,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=l}else u(!1)}function fR(l,u){let f=new fa,p=new AbortController,x=setTimeout(()=>{p.abort(),ji(f,"TestPingServer: timeout",!1,u)},1e4);fetch(l,{signal:p.signal}).then(k=>{clearTimeout(x),k.ok?ji(f,"TestPingServer: ok",!0,u):ji(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(x),ji(f,"TestPingServer: error",!1,u)})}function ji(l,u,f,p,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),p(f)}catch{}}function mR(){this.g=new YM}function pR(l,u,f){let p=f||"";try{h0(l,function(x,k){let V=x;d(x)&&(V=tm(x)),u.push(p+k+"="+encodeURIComponent(V))})}catch(x){throw u.push(p+"type="+encodeURIComponent("_badmap")),x}}function va(l){this.l=l.Ub||null,this.j=l.eb||!1}w(va,nm),va.prototype.g=function(){return new Ml(this.l,this.j)},va.prototype.i=function(l){return function(){return l}}({});function Ml(l,u){vt.call(this),this.D=l,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ml,vt),n=Ml.prototype,n.open=function(l,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=u,this.readyState=1,ba(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(u.body=l),(this.D||a).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function y0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var u=l.value?l.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!l.done}))&&(this.response=this.responseText+=u)}l.done?ya(this):ba(this),this.readyState==3&&y0(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ya(this))},n.Qa=function(l){this.g&&(this.response=l,ya(this))},n.ga=function(){this.g&&ya(this)};function ya(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ba(l)}n.setRequestHeader=function(l,u){this.u.append(l,u)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=u.next();return l.join(`\r
`)};function ba(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function b0(l){let u="";return Z(l,function(f,p){u+=p,u+=":",u+=f,u+=`\r
`}),u}function hm(l,u,f){e:{for(p in f){var p=!1;break e}p=!0}p||(f=b0(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Ue(l,u,f))}function Ze(l){vt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ze,vt);var gR=/^https?$/i,_R=["POST","PUT"];n=Ze.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,u,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);u=u?u.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():om.g(),this.v=this.o?Qw(this.o):Qw(om),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(u,String(l),!0),this.B=!1}catch(k){w0(this,k);return}if(l=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var x in p)f.set(x,p[x]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let k of p.keys())f.set(k,p.get(k));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_R,u,void 0))||p||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,V]of f)this.g.setRequestHeader(k,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{D0(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){w0(this,k)}};function w0(l,u){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=u,l.m=5,I0(l),Rl(l)}function I0(l){l.A||(l.A=!0,kt(l,"complete"),kt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,kt(this,"complete"),kt(this,"abort"),Rl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rl(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?E0(this):this.bb())},n.bb=function(){E0(this)};function E0(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ii(l)!=4||l.Z()!=2)){if(l.u&&ii(l)==4)qw(l.Ea,0,l);else if(kt(l,"readystatechange"),ii(l)==4){l.h=!1;try{let V=l.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var f;if(!(f=u)){var p;if(p=V===0){var x=String(l.D).match(f0)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),p=!gR.test(x?x.toLowerCase():"")}f=p}if(f)kt(l,"complete"),kt(l,"success");else{l.m=6;try{var k=2<ii(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",I0(l)}}finally{Rl(l)}}}}function Rl(l,u){if(l.g){D0(l);let f=l.g,p=l.v[0]?()=>{}:null;l.g=null,l.v=null,u||kt(l,"ready");try{f.onreadystatechange=p}catch{}}}function D0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ii(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var u=this.g.responseText;return l&&u.indexOf(l)==0&&(u=u.substring(l.length)),QM(u)}};function x0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vR(l){let u={};l=(l.g&&2<=ii(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<l.length;p++){if(L(l[p]))continue;var f=D(l[p]);let x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let k=u[x]||[];u[x]=k,k.push(f)}I(u,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(l,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||u}function T0(l){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,l),this.cb=wa("retryDelaySeedMs",1e4,l),this.Wa=wa("forwardChannelMaxRetries",2,l),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new a0(l&&l.concurrentRequestLimit),this.Da=new mR,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=T0.prototype,n.la=8,n.G=1,n.connect=function(l,u,f,p){Mt(0),this.W=l,this.H=u||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=O0(this,null,this.W),Pl(this)};function fm(l){if(C0(l),l.G==3){var u=l.U++,f=ni(l.I);if(Ue(f,"SID",l.K),Ue(f,"RID",u),Ue(f,"TYPE","terminate"),Ia(l,f),u=new Li(l,l.j,u),u.L=2,u.v=kl(ni(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=u.v,f=!0),f||(u.g=F0(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Cl(u)}P0(l)}function Nl(l){l.g&&(pm(l),l.g.cancel(),l.g=null)}function C0(l){Nl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ol(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Pl(l){if(!c0(l.h)&&!l.s){l.s=!0;var u=l.Ga;q||nt(),Q||(q(),Q=!0),ge.add(u,l),l.B=0}}function yR(l,u){return l0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=u.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ha(_(l.Ga,l,u),N0(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new Li(this,this.j,l),k=this.o;if(this.S&&(k?(k=v(k),E(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var u=0,f=0;f<this.i.length;f++){t:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=f;break e}if(u===4096||f===this.i.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=A0(this,x,u),f=ni(this.I),Ue(f,"RID",l),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),Ia(this,f),k&&(this.O?u="headers="+encodeURIComponent(String(b0(k)))+"&"+u:this.m&&hm(f,this.m,k)),um(this.h,x),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",u),Ue(f,"SID","null"),x.T=!0,am(x,f,null)):am(x,f,u),this.G=2}}else this.G==3&&(l?S0(this,l):this.i.length==0||c0(this.h)||S0(this))};function S0(l,u){var f;u?f=u.l:f=l.U++;let p=ni(l.I);Ue(p,"SID",l.K),Ue(p,"RID",f),Ue(p,"AID",l.T),Ia(l,p),l.m&&l.o&&hm(p,l.m,l.o),f=new Li(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),u&&(l.i=u.D.concat(l.i)),u=A0(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),um(l.h,f),am(f,p,u)}function Ia(l,u){l.H&&Z(l.H,function(f,p){Ue(u,p,f)}),l.l&&h0({},function(f,p){Ue(u,p,f)})}function A0(l,u,f){f=Math.min(l.i.length,f);var p=l.l?_(l.l.Na,l.l,l):null;e:{var x=l.i;let k=-1;for(;;){let V=["count="+f];k==-1?0<f?(k=x[0].g,V.push("ofs="+k)):k=0:V.push("ofs="+k);let Me=!0;for(let ft=0;ft<f;ft++){let Ee=x[ft].g,yt=x[ft].map;if(Ee-=k,0>Ee)k=Math.max(0,x[ft].g-100),Me=!1;else try{pR(yt,V,"req"+Ee+"_")}catch{p&&p(yt)}}if(Me){p=V.join("&");break e}}}return l=l.i.splice(0,f),u.D=l,p}function k0(l){if(!l.g&&!l.u){l.Y=1;var u=l.Fa;q||nt(),Q||(q(),Q=!0),ge.add(u,l),l.v=0}}function mm(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ha(_(l.Fa,l),N0(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,M0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ha(_(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Nl(this),M0(this))};function pm(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function M0(l){l.g=new Li(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var u=ni(l.qa);Ue(u,"RID","rpc"),Ue(u,"SID",l.K),Ue(u,"AID",l.T),Ue(u,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(u,"TO",l.ja),Ue(u,"TYPE","xmlhttp"),Ia(l,u),l.m&&l.o&&hm(u,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=kl(ni(u)),f.m=null,f.P=!0,r0(f,l)}n.Za=function(){this.C!=null&&(this.C=null,Nl(this),mm(this),Mt(19))};function Ol(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function R0(l,u){var f=null;if(l.g==u){Ol(l),pm(l),l.g=null;var p=2}else if(dm(l.h,u))f=u.D,d0(l.h,u),p=1;else return;if(l.G!=0){if(u.o)if(p==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var x=l.B;p=Dl(),kt(p,new e0(p,f)),Pl(l)}else k0(l);else if(x=u.s,x==3||x==0&&0<u.X||!(p==1&&yR(l,u)||p==2&&mm(l)))switch(f&&0<f.length&&(u=l.h,u.i=u.i.concat(f)),x){case 1:Fr(l,5);break;case 4:Fr(l,10);break;case 3:Fr(l,6);break;default:Fr(l,2)}}}function N0(l,u){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*u}function Fr(l,u){if(l.j.info("Error code "+u),u==2){var f=_(l.fb,l),p=l.Xa;let x=!p;p=new Or(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sl(p,"https"),kl(p),x?hR(p.toString(),f):fR(p.toString(),f)}else Mt(2);l.G=0,l.l&&l.l.sa(u),P0(l),C0(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function P0(l){if(l.G=0,l.ka=[],l.l){let u=u0(l.h);(u.length!=0||l.i.length!=0)&&(S(l.ka,u),S(l.ka,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.ra()}}function O0(l,u,f){var p=f instanceof Or?ni(f):new Or(f);if(p.g!="")u&&(p.g=u+"."+p.g),Al(p,p.s);else{var x=a.location;p=x.protocol,u=u?u+"."+x.hostname:x.hostname,x=+x.port;var k=new Or(null);p&&Sl(k,p),u&&(k.g=u),x&&Al(k,x),f&&(k.l=f),p=k}return f=l.D,u=l.ya,f&&u&&Ue(p,f,u),Ue(p,"VER",l.la),Ia(l,p),p}function F0(l,u,f){if(u&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=l.Ca&&!l.pa?new Ze(new va({eb:f})):new Ze(l.pa),u.Ha(l.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function L0(){}n=L0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fl(){}Fl.prototype.g=function(l,u){return new $t(l,u)};function $t(l,u){vt.call(this),this.g=new T0(u),this.l=l,this.h=u&&u.messageUrlParams||null,l=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(l?l["X-WebChannel-Content-Type"]=u.messageContentType:l={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(l?l["X-WebChannel-Client-Profile"]=u.va:l={"X-WebChannel-Client-Profile":u.va}),this.g.S=l,(l=u&&u.Sb)&&!L(l)&&(this.g.m=l),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!L(u)&&(this.g.D=u,l=this.h,l!==null&&u in l&&(l=this.h,u in l&&delete l[u])),this.j=new Oo(this)}w($t,vt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){fm(this.g)},$t.prototype.o=function(l){var u=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=tm(l),l=f);u.i.push(new nR(u.Ya++,l)),u.G==3&&Pl(u)},$t.prototype.N=function(){this.g.l=null,delete this.j,fm(this.g),delete this.g,$t.aa.N.call(this)};function V0(l){im.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var u=l.__sm__;if(u){e:{for(let f in u){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,u=u!==null&&l in u?u[l]:void 0),this.data=u}else this.data=l}w(V0,im);function j0(){rm.call(this),this.status=1}w(j0,rm);function Oo(l){this.g=l}w(Oo,L0),Oo.prototype.ua=function(){kt(this.g,"a")},Oo.prototype.ta=function(l){kt(this.g,new V0(l))},Oo.prototype.sa=function(l){kt(this.g,new j0)},Oo.prototype.ra=function(){kt(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Cy=Ci.createWebChannelTransport=function(){return new Fl},Ty=Ci.getStatEventTarget=function(){return Dl()},xy=Ci.Event=Nr,Nh=Ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xl.NO_ERROR=0,xl.TIMEOUT=8,xl.HTTP_ERROR=6,Qc=Ci.ErrorCode=xl,t0.COMPLETE="complete",Dy=Ci.EventType=t0,Yw.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Fs=Ci.WebChannel=Yw,lz=Ci.FetchXmlHttpFactory=va,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Ey=Ci.XhrIo=Ze}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});var fA="@firebase/firestore";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var ia="10.14.0";var xo=new br("@firebase/firestore");function Yc(){return xo.logLevel}function z(n,...e){if(xo.logLevel<=ve.DEBUG){let t=e.map(cw);xo.debug(`Firestore (${ia}): ${n}`,...t)}}function Ai(n,...e){if(xo.logLevel<=ve.ERROR){let t=e.map(cw);xo.error(`Firestore (${ia}): ${n}`,...t)}}function zs(n,...e){if(xo.logLevel<=ve.WARN){let t=e.map(cw);xo.warn(`Firestore (${ia}): ${n}`,...t)}}function cw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ee(n="Unexpected state"){let e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function ke(n,e){n||ee()}function oe(n,e){return n}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends mn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Si=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Vh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ry=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ht.UNAUTHENTICATED))}shutdown(){}},Ny=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Py=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ke(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>A(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ke(typeof i.accessToken=="string"),new Vh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new ht(e)}},Oy=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Fy=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Oy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ly=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ke(this.o===void 0);let i=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke(typeof t.token=="string"),this.R=t.token,new Ly(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function dz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var jh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=dz(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function De(n,e){return n<e?-1:n>e?1:0}function Hs(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var _t=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Y(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new _t(0,0))}static max(){return new n(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Uh=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ee(),i===void 0?i=e.length-t:i>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},et=class n extends Uh{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Y(R.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},uz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nn=class n extends Uh{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return uz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new Y(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Y(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Y(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(et.fromString(e))}static fromName(e){return new n(et.fromString(e).popFirst(5))}static empty(){return new n(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new et(e.slice()))}};var jy=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};jy.UNKNOWN_ID=-1;function hz(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ae.fromTimestamp(i===1e9?new _t(t+1,0):new _t(t,i));return new To(r,X.empty(),e)}function fz(n){return new To(n.readTime,n.key,-1)}var To=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ae.min(),X.empty(),-1)}static max(){return new n(ae.max(),X.empty(),-1)}};function mz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}var pz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ml(n){return A(this,null,function*(){if(n.code!==R.FAILED_PRECONDITION||n.message!==pz)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let d=c;t(e[d]).next(h=>{s[d]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function gz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(n){return n.name==="IndexedDbTransactionError"}var GA=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function gf(n){return n==null}function il(n){return n===0&&1/n==-1/0}function _z(n){return typeof n=="number"&&Number.isInteger(n)&&!il(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var vz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nJ=[...vz,"documentOverlays"],yz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bz=yz,wz=[...bz,"indexConfiguration","indexState","indexEntries"];var iJ=[...wz,"globals"];function mA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ra(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var tt=class n{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Us(this.root,e,this.comparator,!1)}getReverseIterator(){return new Us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Us(this.root,e,this.comparator,!0)}},Us=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Qn=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var St=class n{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bh(this.data.getIterator())}getIteratorFrom(e){return new Bh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Bh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Kn=class n{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new n([])}unionWith(e){let t=new St(nn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var $h=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var At=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $h("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};At.EMPTY_BYTE_STRING=new At("");var Iz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(n){if(ke(!!n),typeof n=="string"){let e=0,t=Iz.exec(n);if(ke(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:He(n.seconds),nanos:He(n.nanos)}}function He(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cr(n){return typeof n=="string"?At.fromBase64String(n):At.fromUint8Array(n)}function lw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function dw(n){let e=n.mapValue.fields.__previous_value__;return lw(e)?dw(e):e}function rl(n){let e=ki(n.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}var By=class{constructor(e,t,i,r,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}},zh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lw(n)?4:QA(n)?9007199254740991:KA(n)?10:11:ee()}function Jn(n,e){if(n===e)return!0;let t=Co(n);if(t!==Co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rl(n).isEqual(rl(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=ki(r.timestampValue),a=ki(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Cr(r.bytesValue).isEqual(Cr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return He(r.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return He(r.integerValue)===He(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=He(r.doubleValue),a=He(o.doubleValue);return s===a?il(s)===il(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Hs(n.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(mA(s)!==mA(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Jn(s[c],a[c])))return!1;return!0}(n,e);default:return ee()}}function ol(n,e){return(n.values||[]).find(t=>Jn(t,e))!==void 0}function qs(n,e){if(n===e)return 0;let t=Co(n),i=Co(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=He(o.integerValue||o.doubleValue),c=He(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return pA(n.timestampValue,e.timestampValue);case 4:return pA(rl(n),rl(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Cr(o),c=Cr(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){let h=De(a[d],c[d]);if(h!==0)return h}return De(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(He(o.latitude),He(s.latitude));return a!==0?a:De(He(o.longitude),He(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return gA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,d,h;let m=o.fields||{},_=s.fields||{},g=(a=m.value)===null||a===void 0?void 0:a.arrayValue,w=(c=_.value)===null||c===void 0?void 0:c.arrayValue,T=De(((d=g?.values)===null||d===void 0?void 0:d.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:gA(g,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ph.mapValue&&s===Ph.mapValue)return 0;if(o===Ph.mapValue)return 1;if(s===Ph.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){let _=De(c[m],h[m]);if(_!==0)return _;let g=qs(a[c[m]],d[h[m]]);if(g!==0)return g}return De(c.length,h.length)}(n.mapValue,e.mapValue);default:throw ee()}}function pA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);let t=ki(n),i=ki(e),r=De(t.seconds,i.seconds);return r!==0?r:De(t.nanos,i.nanos)}function gA(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=qs(t[r],i[r]);if(o)return o}return De(t.length,i.length)}function Gs(n){return $y(n)}function $y(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=ki(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=$y(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${$y(t.fields[s])}`;return r+"}"}(n.mapValue):ee()}function zy(n){return!!n&&"integerValue"in n}function uw(n){return!!n&&"arrayValue"in n}function _A(n){return!!n&&"nullValue"in n}function vA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fh(n){return!!n&&"mapValue"in n}function KA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Jc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ra(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jc(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function QA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Sn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(t)}setAll(e){let t=nn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Jc(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());Fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Fh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ra(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(Jc(this.value))}};function YA(n){let e=[];return ra(n.fields,(t,i)=>{let r=new nn([t]);if(Fh(i)){let o=YA(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Kn(e)}var An=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),Sn.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ae.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ws=class{constructor(e,t){this.position=e,this.inclusive=t}};function yA(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=X.comparator(X.fromName(s.referenceValue),t.key):i=qs(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function bA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jn(n.position[t],e.position[t]))return!1;return!0}var Ks=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Ez(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Hh=class{},lt=class n extends Hh{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new qy(e,t,i):t==="array-contains"?new Ky(e,i):t==="in"?new Qy(e,i):t==="not-in"?new Yy(e,i):t==="array-contains-any"?new Zy(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Gy(e,i):new Wy(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qs(t,this.value)):t!==null&&Co(this.value)===Co(t)&&this.matchesComparison(qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Xn=class n extends Hh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return ZA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ZA(n){return n.op==="and"}function JA(n){return Dz(n)&&ZA(n)}function Dz(n){for(let e of n.filters)if(e instanceof Xn)return!1;return!0}function Hy(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+Gs(n.value);if(JA(n))return n.filters.map(e=>Hy(e)).join(",");{let e=n.filters.map(t=>Hy(t)).join(",");return`${n.op}(${e})`}}function XA(n,e){return n instanceof lt?function(i,r){return r instanceof lt&&i.op===r.op&&i.field.isEqual(r.field)&&Jn(i.value,r.value)}(n,e):n instanceof Xn?function(i,r){return r instanceof Xn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&XA(s,r.filters[a]),!0):!1}(n,e):void ee()}function ek(n){return n instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${Gs(t.value)}`}(n):n instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(ek).join(" ,")+"}"}(n):"Filter"}var qy=class extends lt{constructor(e,t,i){super(e,t,i),this.key=X.fromName(i.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},Gy=class extends lt{constructor(e,t){super(e,"in",t),this.keys=tk("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Wy=class extends lt{constructor(e,t){super(e,"not-in",t),this.keys=tk("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tk(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>X.fromName(i.referenceValue))}var Ky=class extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return uw(t)&&ol(t.arrayValue,this.value)}},Qy=class extends lt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ol(this.value.arrayValue,t)}},Yy=class extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ol(this.value.arrayValue,t)}},Zy=class extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!uw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ol(this.value.arrayValue,i))}};var Jy=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function wA(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Jy(n,e,t,i,r,o,s)}function hw(n){let e=oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Hy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Gs(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Gs(i)).join(",")),e.ue=t}return e.ue}function fw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ez(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bA(n.startAt,e.startAt)&&bA(n.endAt,e.endAt)}function Xy(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Qs=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function xz(n,e,t,i,r,o,s,a){return new Qs(n,e,t,i,r,o,s,a)}function mw(n){return new Qs(n)}function IA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Tz(n){return n.collectionGroup!==null}function Xc(n){let e=oe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new St(nn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ks(o,i))}),t.has(nn.keyField().canonicalString())||e.ce.push(new Ks(nn.keyField(),i))}return e.ce}function Yn(n){let e=oe(n);return e.le||(e.le=Cz(e,Xc(n))),e.le}function Cz(n,e){if(n.limitType==="F")return wA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Ks(r.field,o)});let t=n.endAt?new Ws(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ws(n.startAt.position,n.startAt.inclusive):null;return wA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function eb(n,e,t){return new Qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _f(n,e){return fw(Yn(n),Yn(e))&&n.limitType===e.limitType}function nk(n){return`${hw(Yn(n))}|lt:${n.limitType}`}function Ls(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>ek(r)).join(", ")}]`),gf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Gs(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Gs(r)).join(",")),`Target(${i})`}(Yn(n))}; limitType=${n.limitType})`}function vf(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):X.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of Xc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let d=yA(s,a,c);return s.inclusive?d<=0:d<0}(i.startAt,Xc(i),r)||i.endAt&&!function(s,a,c){let d=yA(s,a,c);return s.inclusive?d>=0:d>0}(i.endAt,Xc(i),r))}(n,e)}function Sz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ik(n){return(e,t)=>{let i=!1;for(let r of Xc(n)){let o=Az(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Az(n,e,t){let i=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),d=a.data.field(o);return c!==null&&d!==null?qs(c,d):ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ee()}}var Sr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return WA(this.inner)}size(){return this.innerSize}};var kz=new tt(X.comparator);function Mi(){return kz}var rk=new tt(X.comparator);function Zc(...n){let e=rk;for(let t of n)e=e.insert(t.key,t);return e}function ok(n){let e=rk;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function wo(){return el()}function sk(){return el()}function el(){return new Sr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Mz=new tt(X.comparator),Rz=new St(X.comparator);function ye(...n){let e=Rz;for(let t of n)e=e.add(t);return e}var Nz=new St(De);function Pz(){return Nz}function pw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:il(e)?"-0":e}}function ak(n){return{integerValue:""+n}}function Oz(n,e){return _z(e)?ak(e):pw(n,e)}var Ys=class{constructor(){this._=void 0}};function Fz(n,e,t){return n instanceof Zs?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&lw(o)&&(o=dw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof So?lk(n,e):n instanceof Ao?dk(n,e):function(r,o){let s=ck(r,o),a=EA(s)+EA(r.Pe);return zy(s)&&zy(r.Pe)?ak(a):pw(r.serializer,a)}(n,e)}function Lz(n,e,t){return n instanceof So?lk(n,e):n instanceof Ao?dk(n,e):t}function ck(n,e){return n instanceof Js?function(i){return zy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Zs=class extends Ys{},So=class extends Ys{constructor(e){super(),this.elements=e}};function lk(n,e){let t=uk(e);for(let i of n.elements)t.some(r=>Jn(r,i))||t.push(i);return{arrayValue:{values:t}}}var Ao=class extends Ys{constructor(e){super(),this.elements=e}};function dk(n,e){let t=uk(e);for(let i of n.elements)t=t.filter(r=>!Jn(r,i));return{arrayValue:{values:t}}}var Js=class extends Ys{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function EA(n){return He(n.integerValue||n.doubleValue)}function uk(n){return uw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Vz(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof So&&r instanceof So||i instanceof Ao&&r instanceof Ao?Hs(i.elements,r.elements,Jn):i instanceof Js&&r instanceof Js?Jn(i.Pe,r.Pe):i instanceof Zs&&r instanceof Zs}(n.transform,e.transform)}var tb=class{constructor(e,t){this.version=e,this.transformResults=t}},Do=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Lh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Xs=class{};function hk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qh(n.key,Do.none()):new ko(n.key,n.data,Do.none());{let t=n.data,i=Sn.empty(),r=new St(nn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Ri(n.key,i,new Kn(r.toArray()),Do.none())}}function jz(n,e,t){n instanceof ko?function(r,o,s){let a=r.value.clone(),c=xA(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ri?function(r,o,s){if(!Lh(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=xA(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(fk(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function tl(n,e,t,i){return n instanceof ko?function(o,s,a,c){if(!Lh(o.precondition,s))return a;let d=o.value.clone(),h=TA(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ri?function(o,s,a,c){if(!Lh(o.precondition,s))return a;let d=TA(o.fieldTransforms,c,s),h=s.data;return h.setAll(fk(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,i):function(o,s,a){return Lh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Uz(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=ck(i.transform,r||null);o!=null&&(t===null&&(t=Sn.empty()),t.set(i.field,o))}return t||null}function DA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Hs(i,r,(o,s)=>Vz(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ko=class extends Xs{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ri=class extends Xs{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fk(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function xA(n,e,t){let i=new Map;ke(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Lz(s,a,t[r]))}return i}function TA(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,Fz(o,s,e))}return i}var qh=class extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},nb=class extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ib=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&jz(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=tl(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=tl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=sk();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let c=hk(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(t,i)=>DA(t,i))&&Hs(this.baseMutations,e.baseMutations,(t,i)=>DA(t,i))}},rb=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ke(e.mutations.length===i.length);let r=function(){return Mz}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var ob=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sb=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var it,Ie;function Bz(n){switch(n){default:return ee();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function mk(n){if(n===void 0)return Ai("GRPC error has no .code"),R.UNKNOWN;switch(n){case it.OK:return R.OK;case it.CANCELLED:return R.CANCELLED;case it.UNKNOWN:return R.UNKNOWN;case it.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case it.INTERNAL:return R.INTERNAL;case it.UNAVAILABLE:return R.UNAVAILABLE;case it.UNAUTHENTICATED:return R.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case it.NOT_FOUND:return R.NOT_FOUND;case it.ALREADY_EXISTS:return R.ALREADY_EXISTS;case it.PERMISSION_DENIED:return R.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case it.ABORTED:return R.ABORTED;case it.OUT_OF_RANGE:return R.OUT_OF_RANGE;case it.UNIMPLEMENTED:return R.UNIMPLEMENTED;case it.DATA_LOSS:return R.DATA_LOSS;default:return ee()}}(Ie=it||(it={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var CA=null;function $z(){return new TextEncoder}var zz=new xr([4294967295,4294967295],0);function SA(n){let e=$z().encode(n),t=new Iy;return t.update(e),new Uint8Array(t.digest())}function AA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xr([t,i],0),new xr([r,o],0)]}var ab=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Io(`Invalid padding: ${t}`);if(i<0)throw new Io(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Io(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Io(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=xr.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(xr.fromNumber(i)));return r.compare(zz)===1&&(r=new xr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=SA(e),[i,r]=AA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=SA(e),[i,r]=AA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Io=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gh=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,sl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ae.min(),r,new tt(De),Mi(),ye())}},sl=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,ye(),ye(),ye())}};var Bs=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Wh=class{constructor(e,t){this.targetId=e,this.me=t}},Kh=class{constructor(e,t,i=At.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Qh=class{constructor(){this.fe=0,this.ge=MA(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),t=ye(),i=ye();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ee()}}),new sl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=MA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},cb=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=kA(),this.Qe=new tt(De)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(Xy(o))if(i===0){let s=new X(o.path);this.Ue(t,s,An.newNoDocument(s,ae.min()))}else ke(i===1);else{let s=this.Ye(t);if(s!==i){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}CA?.et(function(h,m,_,g,w){var T,S,M,L,B,K;let Ae={localCacheCount:h,existenceFilterCount:m.count,databaseId:_.database,projectId:_.projectId},Z=m.unchangedNames;return Z&&(Ae.bloomFilter={applied:w===0,hashCount:(T=Z?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(L=(M=(S=Z?.bits)===null||S===void 0?void 0:S.bitmap)===null||M===void 0?void 0:M.length)!==null&&L!==void 0?L:0,padding:(K=(B=Z?.bits)===null||B===void 0?void 0:B.padding)!==null&&K!==void 0?K:0,mightContain:I=>{var v;return(v=g?.mightContain(I))!==null&&v!==void 0&&v}}),Ae}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Cr(i).toUint8Array()}catch(c){if(c instanceof $h)return zs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ab(s,r,o)}catch(c){return zs(c instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Xy(a.target)){let c=new X(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,An.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let i=ye();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Gh(e,t,this.Qe,this.ke,i);return this.ke=Mi(),this.qe=kA(),this.Qe=new tt(De),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Qh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new St(De),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function kA(){return new tt(X.comparator)}function MA(){return new tt(X.comparator)}var Hz={asc:"ASCENDING",desc:"DESCENDING"},qz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gz={and:"AND",or:"OR"},lb=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function db(n,e){return n.useProto3Json||gf(e)?e:{value:e}}function Yh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Wz(n,e){return Yh(n,e.toTimestamp())}function Zn(n){return ke(!!n),ae.fromTimestamp(function(t){let i=ki(t);return new _t(i.seconds,i.nanos)}(n))}function gw(n,e){return ub(n,e).canonicalString()}function ub(n,e){let t=function(r){return new et(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function gk(n){let e=et.fromString(n);return ke(wk(e)),e}function hb(n,e){return gw(n.databaseId,e.path)}function Sy(n,e){let t=gk(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(vk(t))}function _k(n,e){return gw(n.databaseId,e)}function Kz(n){let e=gk(n);return e.length===4?et.emptyPath():vk(e)}function fb(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vk(n){return ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function RA(n,e,t){return{name:hb(n,e),fields:t.value.mapValue.fields}}function Qz(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(ke(h===void 0||typeof h=="string"),At.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),At.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let h=d.code===void 0?R.UNKNOWN:mk(d.code);return new Y(h,d.message||"")}(s);t=new Kh(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Sy(n,i.document.name),o=Zn(i.document.updateTime),s=i.document.createTime?Zn(i.document.createTime):ae.min(),a=new Sn({mapValue:{fields:i.document.fields}}),c=An.newFoundDocument(r,o,s,a),d=i.targetIds||[],h=i.removedTargetIds||[];t=new Bs(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Sy(n,i.document),o=i.readTime?Zn(i.readTime):ae.min(),s=An.newNoDocument(r,o),a=i.removedTargetIds||[];t=new Bs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Sy(n,i.document),o=i.removedTargetIds||[];t=new Bs([],o,r,null)}else{if(!("filter"in e))return ee();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new sb(r,o),a=i.targetId;t=new Wh(a,s)}}return t}function Yz(n,e){let t;if(e instanceof ko)t={update:RA(n,e.key,e.value)};else if(e instanceof qh)t={delete:hb(n,e.key)};else if(e instanceof Ri)t={update:RA(n,e.key,e.data),updateMask:o3(e.fieldMask)};else{if(!(e instanceof nb))return ee();t={verify:hb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof So)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Js)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Wz(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(n,e.precondition)),t}function Zz(n,e){return n&&n.length>0?(ke(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?Zn(r.updateTime):Zn(o);return s.isEqual(ae.min())&&(s=Zn(o)),new tb(s,r.transformResults||[])}(t,e))):[]}function Jz(n,e){return{documents:[_k(n,e.path)]}}function Xz(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_k(n,r);let o=function(d){if(d.length!==0)return bk(Xn.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(h=>function(_){return{field:Vs(_.field),direction:n3(_.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=db(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:r}}function e3(n){let e=Kz(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){ke(i===1);let h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(m){let _=yk(m);return _ instanceof Xn&&JA(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(_=>function(w){return new Ks(js(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(m){let _;return _=typeof m=="object"?m.value:m,gf(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(m){let _=!!m.before,g=m.values||[];return new Ws(g,_)}(t.startAt));let d=null;return t.endAt&&(d=function(m){let _=!m.before,g=m.values||[];return new Ws(g,_)}(t.endAt)),xz(e,r,s,o,a,"F",c,d)}function t3(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=js(t.unaryFilter.field);return lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=js(t.unaryFilter.field);return lt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=js(t.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=js(t.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(n):n.fieldFilter!==void 0?function(t){return lt.create(js(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(i=>yk(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ee()}}(t.compositeFilter.op))}(n):ee()}function n3(n){return Hz[n]}function i3(n){return qz[n]}function r3(n){return Gz[n]}function Vs(n){return{fieldPath:n.canonicalString()}}function js(n){return nn.fromServerFormat(n.fieldPath)}function bk(n){return n instanceof lt?function(t){if(t.op==="=="){if(vA(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NAN"}};if(_A(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vA(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NOT_NAN"}};if(_A(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(t.field),op:i3(t.op),value:t.value}}}(n):n instanceof Xn?function(t){let i=t.getFilters().map(r=>bk(r));return i.length===1?i[0]:{compositeFilter:{op:r3(t.op),filters:i}}}(n):ee()}function o3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var al=class n{constructor(e,t,i,r,o=ae.min(),s=ae.min(),a=At.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var mb=class{constructor(e){this.ct=e}};function s3(n){let e=e3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eb(e,e.limit,"L"):e}var Zh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(He(e.integerValue));else if("doubleValue"in e){let i=He(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),il(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=ki(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Cr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?QA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):KA(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ee()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let o=e.fields||{};this.dt(t,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(He(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Zh.vt=new Zh;var pb=class{constructor(){this.un=new gb}addToCollectionParentIndex(e,t){return this.un.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(To.min())}updateCollectionGroup(e,t,i){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},gb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new St(et.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new St(et.comparator)).toArray()}};var oJ=new Uint8Array(0);var Wn=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(41943040,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);var cl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var _b=class{constructor(){this.changes=new Sr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?O.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vb=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var yb=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&tl(i.mutation,r,Kn.empty(),_t.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ye()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ye()){let r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Zc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ye()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Mi(),s=el(),a=function(){return el()}();return t.forEach((c,d)=>{let h=i.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof Ri)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),tl(h.mutation,d,h.mutation.getFieldMask(),_t.now())):s.set(d.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>{var m;return a.set(d,new vb(h,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let i=el(),r=new tt((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let h=i.get(c)||Kn.empty();h=a.applyToLocalView(d,h),i.set(c,h);let m=(r.get(a.batchId)||ye()).add(c);r=r.insert(a.batchId,m)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,h=c.value,m=sk();h.forEach(_=>{if(!o.has(_)){let g=hk(t.get(_),i.get(_));g!==null&&m.set(_,g),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return O.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):O.resolve(wo()),a=-1,c=o;return s.next(d=>O.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{c=c.insert(h,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,ye())).next(h=>({batchId:a,changes:ok(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(i=>{let r=Zc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=Zc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{let d=function(m,_){return new Qs(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(h=>{h.forEach((m,_)=>{s=s.insert(m,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,d)=>{let h=d.getKey();s.get(h)===null&&(s=s.insert(h,An.newInvalidDocument(h)))});let a=Zc();return s.forEach((c,d)=>{let h=o.get(c);h!==void 0&&tl(h.mutation,d,Kn.empty(),_t.now()),vf(t,d)&&(a=a.insert(c,d))}),a})}};var bb=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return O.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Zn(r.createTime)}}(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:s3(r.bundledQuery),readTime:Zn(r.readTime)}}(t)),O.resolve()}};var wb=class{constructor(){this.overlays=new tt(X.comparator),this.Ir=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let i=wo();return O.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),O.resolve()}getOverlaysForCollection(e,t,i){let r=wo(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return O.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new tt((d,h)=>d-h),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let h=o.get(d.largestBatchId);h===null&&(h=wo(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=wo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return O.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new ob(t,i));let o=this.Ir.get(t);o===void 0&&(o=ye(),this.Ir.set(t,o)),this.Ir.set(t,o.add(i.key))}};var Ib=class{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var ll=class{constructor(){this.Tr=new St(rt.Er),this.dr=new St(rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new rt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new rt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new X(new et([])),i=new rt(t,e),r=new rt(t,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new et([])),i=new rt(t,e),r=new rt(t,e+1),o=ye();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new rt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},rt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||De(e.wr,t.wr)}static Ar(e,t){return De(e.wr,t.wr)||X.comparator(e.key,t.key)}};var Eb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new St(rt.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ib(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.br=this.br.add(new rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),o=r<0?0:r;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new rt(t,0),r=new rt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let a=this.Dr(s.wr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new St(De);return t.forEach(r=>{let o=new rt(r,0),s=new rt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),O.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;X.isDocumentKey(o)||(o=o.child(""));let s=new rt(new X(o),0),a=new St(De);return this.br.forEachWhile(c=>{let d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.wr)),!0)},s),O.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){ke(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return O.forEach(t.mutations,r=>{let o=new rt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new rt(t,0),r=this.br.firstAfterOrEqual(i);return O.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Db=class{constructor(e){this.Mr=e,this.docs=function(){return new tt(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return O.resolve(i?i.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let i=Mi();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():An.newInvalidDocument(r))}),O.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Mi(),s=t.path,a=new X(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||mz(fz(h),i)<=0||(r.has(h.key)||vf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ee()}Or(e,t){return O.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xb(this)}getSize(e){return O.resolve(this.size)}},xb=class extends _b{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),O.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Tb=class{constructor(e){this.persistence=e,this.Nr=new Sr(t=>hw(t),fw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ll,this.targetCount=0,this.kr=cl.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),O.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.Kn(t),O.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),O.waitFor(o).next(()=>r)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return O.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),O.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return O.resolve(i)}containsKey(e,t){return O.resolve(this.Br.containsKey(t))}};var Cb=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new GA(0),this.Kr=!1,this.Kr=!0,this.$r=new Ib,this.referenceDelegate=e(this),this.Ur=new Tb(this),this.indexManager=new pb,this.remoteDocumentCache=function(r){return new Db(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new mb(t),this.Gr=new bb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new Eb(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){z("MemoryPersistence","Starting transaction:",e);let r=new Sb(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,t){return O.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},Sb=class extends Uy{constructor(e){super(),this.currentSequenceNumber=e}},Ab=class n{constructor(e){this.persistence=e,this.Jr=new ll,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),O.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),O.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,i=>{let r=X.fromPath(i);return this.ei(e,r).next(o=>{o||t.removeEntry(r,ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return O.or([()=>O.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var kb=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=ye(),r=ye();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var Mb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rb=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SS()?8:gz(tn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Mb;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Yc()<=ve.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Ls(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(Yc()<=ve.DEBUG&&z("QueryEngine","Query:",Ls(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Yc()<=ve.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Ls(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):O.resolve())}Yi(e,t){if(IA(t))return O.resolve(null);let i=Yn(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=eb(t,null,"F"),i=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=ye(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let d=this.ts(t,a);return this.ns(t,d,s,c.readTime)?this.Yi(e,eb(t,null,"F")):this.rs(e,d,t,c)}))})))}Zi(e,t,i,r){return IA(t)||r.isEqual(ae.min())?O.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(t,o);return this.ns(t,s,i,r)?O.resolve(null):(Yc()<=ve.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ls(t)),this.rs(e,s,t,hz(r,-1)).next(a=>a))})}ts(e,t){let i=new St(ik(e));return t.forEach((r,o)=>{vf(e,o)&&(i=i.add(o))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,t,i){return Yc()<=ve.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Ls(t)),this.Ji.getDocumentsMatchingQuery(e,t,To.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Nb=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new tt(De),this._s=new Sr(o=>hw(o),fw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function a3(n,e,t,i){return new Nb(n,e,t,i)}function Ik(n,e){return A(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=ye();for(let d of r){s.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}for(let d of o){a.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function c3(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){let m=d.batch,_=m.keys(),g=O.resolve();return _.forEach(w=>{g=g.next(()=>h.getEntry(c,w)).next(T=>{let S=d.docVersions.get(w);ke(S!==null),T.version.compareTo(S)<0&&(m.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),h.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ye();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Ek(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function l3(n,e){let t=oe(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((h,m)=>{let _=r.get(m);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,m)));let g=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(At.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),r=r.insert(m,g),function(T,S,M){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,g,h)&&a.push(t.Ur.updateTargetData(o,g))});let c=Mi(),d=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(d3(o,s,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!i.isEqual(ae.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(m=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.os=r,o))}function d3(n,e,t){let i=ye(),r=ye();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Mi();return t.forEach((a,c)=>{let d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function u3(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function h3(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(o=>o?(r=o,O.resolve(r)):t.Ur.allocateTargetId(i).next(s=>(r=new al(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function Pb(n,e,t){return A(this,null,function*(){let i=oe(n),r=i.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!pl(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function NA(n,e,t){let i=oe(n),r=ae.min(),o=ye();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){let m=oe(c),_=m._s.get(h);return _!==void 0?O.resolve(m.os.get(_)):m.Ur.getTargetData(d,h)}(i,s,Yn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,t?r:ae.min(),t?o:ye())).next(a=>(f3(i,Sz(e),a),{documents:a,Ts:o})))}function f3(n,e,t){let i=n.us.get(e)||ae.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(e,i)}var Jh=class{constructor(){this.activeTargetIds=Pz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ob=class{constructor(){this.so=new Jh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jh,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Fb=class{_o(e){}shutdown(){}};var Xh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Oh=null;function Ay(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}var m3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Lb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ct="WebChannelConnection",Vb=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(t,i,r,o,s){let a=Ay(),c=this.xo(t,i.toUriEncodedString());z("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,c,d,r).then(h=>(z("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw zs("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Lo(t,i,r,o,s,a){return this.Mo(t,i,r,o,s)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}xo(t,i){let r=m3[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let o=Ay();return new Promise((s,a)=>{let c=new Ey;c.setWithCredentials(!0),c.listenOnce(Dy.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Qc.NO_ERROR:let h=c.getResponseJson();z(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Qc.TIMEOUT:z(Ct,`RPC '${e}' ${o} timed out`),a(new Y(R.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:let m=c.getStatus();if(z(Ct,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);let g=_?.error;if(g&&g.status&&g.message){let w=function(S){let M=S.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(M)>=0?M:R.UNKNOWN}(g.status);a(new Y(w,g.message))}else a(new Y(R.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Y(R.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{z(Ct,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(r);z(Ct,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",d,i,15)})}Bo(e,t,i){let r=Ay(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Cy(),a=Ty(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let h=o.join("");z(Ct,`Creating RPC '${e}' stream ${r}: ${h}`,c);let m=s.createWebChannel(h,c),_=!1,g=!1,w=new Lb({Io:S=>{g?z(Ct,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(_||(z(Ct,`Opening RPC '${e}' stream ${r} transport.`),m.open(),_=!0),z(Ct,`RPC '${e}' stream ${r} sending:`,S),m.send(S))},To:()=>m.close()}),T=(S,M,L)=>{S.listen(M,B=>{try{L(B)}catch(K){setTimeout(()=>{throw K},0)}})};return T(m,Fs.EventType.OPEN,()=>{g||(z(Ct,`RPC '${e}' stream ${r} transport opened.`),w.yo())}),T(m,Fs.EventType.CLOSE,()=>{g||(g=!0,z(Ct,`RPC '${e}' stream ${r} transport closed`),w.So())}),T(m,Fs.EventType.ERROR,S=>{g||(g=!0,zs(Ct,`RPC '${e}' stream ${r} transport errored:`,S),w.So(new Y(R.UNAVAILABLE,"The operation could not be completed")))}),T(m,Fs.EventType.MESSAGE,S=>{var M;if(!g){let L=S.data[0];ke(!!L);let B=L,K=B.error||((M=B[0])===null||M===void 0?void 0:M.error);if(K){z(Ct,`RPC '${e}' stream ${r} received error:`,K);let Ae=K.status,Z=function(y){let E=it[y];if(E!==void 0)return mk(E)}(Ae),I=K.message;Z===void 0&&(Z=R.INTERNAL,I="Unknown error status: "+Ae+" with message "+K.message),g=!0,w.So(new Y(Z,I)),m.close()}else z(Ct,`RPC '${e}' stream ${r} received:`,L),w.bo(L)}}),T(a,xy.STAT_EVENT,S=>{S.stat===Nh.PROXY?z(Ct,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===Nh.NOPROXY&&z(Ct,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function ky(){return typeof document<"u"?document:null}function yf(n){return new lb(n,!0)}var ef=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&z("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var tf=class{constructor(e,t,i,r,o,s,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ef(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return A(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return A(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return A(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new Y(R.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>A(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},jb=class extends tf{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=Qz(this.serializer,e),i=function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Zn(s.readTime):ae.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=fb(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Xy(c)?{documents:Jz(o,c)}:{query:Xz(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=pk(o,s.resumeToken);let d=db(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Yh(o,s.snapshotVersion.toTimestamp());let d=db(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let i=t3(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=fb(this.serializer),t.removeTarget=e,this.a_(t)}},Ub=class extends tf{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=Zz(e.writeResults,e.commitTime),i=Zn(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=fb(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Yz(this.serializer,i))};this.a_(t)}};var Bb=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Y(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,ub(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(R.UNKNOWN,o.toString())})}Lo(e,t,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,ub(t,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(R.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},$b=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ai(t),this.D_=!1):z("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var zb=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>A(this,null,function*(){Mo(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(c){return A(this,null,function*(){let d=oe(c);d.L_.add(4),yield gl(d),d.q_.set("Unknown"),d.L_.delete(4),yield bf(d)})}(this))}))}),this.q_=new $b(i,r)}};function bf(n){return A(this,null,function*(){if(Mo(n))for(let e of n.B_)yield e(!0)})}function gl(n){return A(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Dk(n,e){let t=oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),bw(t)?yw(t):oa(t).r_()&&vw(t,e))}function _w(n,e){let t=oe(n),i=oa(t);t.N_.delete(e),i.r_()&&xk(t,e),t.N_.size===0&&(i.r_()?i.o_():Mo(t)&&t.q_.set("Unknown"))}function vw(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}oa(n).A_(e)}function xk(n,e){n.Q_.xe(e),oa(n).R_(e)}function yw(n){n.Q_=new cb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),oa(n).start(),n.q_.v_()}function bw(n){return Mo(n)&&!oa(n).n_()&&n.N_.size>0}function Mo(n){return oe(n).L_.size===0}function Tk(n){n.Q_=void 0}function p3(n){return A(this,null,function*(){n.q_.set("Online")})}function g3(n){return A(this,null,function*(){n.N_.forEach((e,t)=>{vw(n,e)})})}function _3(n,e){return A(this,null,function*(){Tk(n),bw(n)?(n.q_.M_(e),yw(n)):n.q_.set("Unknown")})}function v3(n,e,t){return A(this,null,function*(){if(n.q_.set("Online"),e instanceof Kh&&e.state===2&&e.cause)try{yield function(r,o){return A(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield nf(n,i)}else if(e instanceof Bs?n.Q_.Ke(e):e instanceof Wh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ae.min()))try{let i=yield Ek(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.N_.get(d);h&&o.N_.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{let h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),xk(o,c);let m=new al(h.target,c,d,h.sequenceNumber);vw(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){z("RemoteStore","Failed to raise snapshot:",i),yield nf(n,i)}})}function nf(n,e,t){return A(this,null,function*(){if(!pl(e))throw e;n.L_.add(1),yield gl(n),n.q_.set("Offline"),t||(t=()=>Ek(n.localStore)),n.asyncQueue.enqueueRetryable(()=>A(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield bf(n)}))})}function Ck(n,e){return e().catch(t=>nf(n,t,e))}function wf(n){return A(this,null,function*(){let e=oe(n),t=Ar(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;y3(e);)try{let r=yield u3(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,b3(e,r)}catch(r){yield nf(e,r)}Sk(e)&&Ak(e)})}function y3(n){return Mo(n)&&n.O_.length<10}function b3(n,e){n.O_.push(e);let t=Ar(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Sk(n){return Mo(n)&&!Ar(n).n_()&&n.O_.length>0}function Ak(n){Ar(n).start()}function w3(n){return A(this,null,function*(){Ar(n).p_()})}function I3(n){return A(this,null,function*(){let e=Ar(n);for(let t of n.O_)e.m_(t.mutations)})}function E3(n,e,t){return A(this,null,function*(){let i=n.O_.shift(),r=rb.from(i,e,t);yield Ck(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield wf(n)})}function D3(n,e){return A(this,null,function*(){e&&Ar(n).V_&&(yield function(i,r){return A(this,null,function*(){if(function(s){return Bz(s)&&s!==R.ABORTED}(r.code)){let o=i.O_.shift();Ar(i).s_(),yield Ck(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield wf(i)}})}(n,e)),Sk(n)&&Ak(n)})}function PA(n,e){return A(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let i=Mo(t);t.L_.add(3),yield gl(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield bf(t)})}function x3(n,e){return A(this,null,function*(){let t=oe(n);e?(t.L_.delete(2),yield bf(t)):e||(t.L_.add(2),yield gl(t),t.q_.set("Unknown"))})}function oa(n){return n.K_||(n.K_=function(t,i,r){let o=oe(t);return o.w_(),new jb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:p3.bind(null,n),Ro:g3.bind(null,n),mo:_3.bind(null,n),d_:v3.bind(null,n)}),n.B_.push(e=>A(this,null,function*(){e?(n.K_.s_(),bw(n)?yw(n):n.q_.set("Unknown")):(yield n.K_.stop(),Tk(n))}))),n.K_}function Ar(n){return n.U_||(n.U_=function(t,i,r){let o=oe(t);return o.w_(),new Ub(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w3.bind(null,n),mo:D3.bind(null,n),f_:I3.bind(null,n),g_:E3.bind(null,n)}),n.B_.push(e=>A(this,null,function*(){e?(n.U_.s_(),yield wf(n)):(yield n.U_.stop(),n.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Hb=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ww(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),pl(n))return new Y(R.UNAVAILABLE,`${e}: ${n}`);throw n}var rf=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||X.comparator(t.key,i.key):(t,i)=>X.comparator(t.key,i.key),this.keyedMap=Zc(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var of=class{constructor(){this.W_=new tt(X.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},ea=class n{constructor(e,t,i,r,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,rf.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var qb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Gb=class{constructor(){this.queries=OA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=oe(t),o=r.queries;r.queries=OA(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(i)})})(this,new Y(R.ABORTED,"Firestore shutting down"))}};function OA(){return new Sr(n=>nk(n),_f)}function T3(n,e){return A(this,null,function*(){let t=oe(n),i=3,r=e.query,o=t.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new qb,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield t.onListen(r,!0);break;case 1:o.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let a=ww(s,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Iw(t)})}function C3(n,e){return A(this,null,function*(){let t=oe(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function S3(n,e){let t=oe(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&Iw(t)}function A3(n,e,t){let i=oe(n),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(t);i.queries.delete(e)}function Iw(n){n.Y_.forEach(e=>{e.next()})}var Wb,FA;(FA=Wb||(Wb={})).ea="default",FA.Cache="cache";var Kb=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ea(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wb.Cache}};var sf=class{constructor(e){this.key=e}},af=class{constructor(e){this.key=e}},Qb=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=ik(e),this.Ra=new rf(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new of,r=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,m)=>{let _=r.get(h),g=vf(this.query,m)?m:null,w=!!_&&this.mutatedKeys.has(_.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),S=!1;_&&g?_.data.isEqual(g.data)?w!==T&&(i.track({type:3,doc:g}),S=!0):this.ga(_,g)||(i.track({type:2,doc:g}),S=!0,(c&&this.Aa(g,c)>0||d&&this.Aa(g,d)<0)&&(a=!0)):!_&&g?(i.track({type:0,doc:g}),S=!0):_&&!g&&(i.track({type:1,doc:_}),S=!0,(c||d)&&(a=!0)),S&&(g?(s=s.add(g),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,m)=>function(g,w){let T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return T(g)-T(w)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,d=c!==this.Ea;return this.Ea=c,s.length!==0||d?{snapshot:new ea(this.query,e.Ra,o,s,e.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new of,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new af(i))}),this.da.forEach(i=>{e.has(i)||t.push(new sf(i))}),t}ba(e){this.Ta=e.Ts,this.da=ye();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ea.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Yb=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Zb=class{constructor(e){this.key=e,this.va=!1}},Jb=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Sr(a=>nk(a),_f),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(X.comparator),this.Na=new Map,this.La=new ll,this.Ba={},this.ka=new Map,this.qa=cl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function k3(n,e,t=!0){return A(this,null,function*(){let i=Ok(n),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield kk(i,e,t,!0),r})}function M3(n,e){return A(this,null,function*(){let t=Ok(n);yield kk(t,e,!0,!1)})}function kk(n,e,t,i){return A(this,null,function*(){let r=yield h3(n.localStore,Yn(e)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return i&&(a=yield R3(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&Dk(n.remoteStore,r),a})}function R3(n,e,t,i,r){return A(this,null,function*(){n.Ka=(m,_,g)=>function(T,S,M,L){return A(this,null,function*(){let B=S.view.ma(M);B.ns&&(B=yield NA(T.localStore,S.query,!1).then(({documents:I})=>S.view.ma(I,B)));let K=L&&L.targetChanges.get(S.targetId),Ae=L&&L.targetMismatches.get(S.targetId)!=null,Z=S.view.applyChanges(B,T.isPrimaryClient,K,Ae);return VA(T,S.targetId,Z.wa),Z.snapshot})}(n,m,_,g);let o=yield NA(n.localStore,e,!0),s=new Qb(e,o.Ts),a=s.ma(o.documents),c=sl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=s.applyChanges(a,n.isPrimaryClient,c);VA(n,t,d.wa);let h=new Yb(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function N3(n,e,t){return A(this,null,function*(){let i=oe(n),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!_f(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pb(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&_w(i.remoteStore,r.targetId),Xb(i,r.targetId)}).catch(ml))):(Xb(i,r.targetId),yield Pb(i.localStore,r.targetId,!0))})}function P3(n,e){return A(this,null,function*(){let t=oe(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),_w(t.remoteStore,i.targetId))})}function O3(n,e,t){return A(this,null,function*(){let i=$3(n);try{let r=yield function(s,a){let c=oe(s),d=_t.now(),h=a.reduce((g,w)=>g.add(w.key),ye()),m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Mi(),T=ye();return c.cs.getEntries(g,h).next(S=>{w=S,w.forEach((M,L)=>{L.isValidDocument()||(T=T.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,w)).next(S=>{m=S;let M=[];for(let L of a){let B=Uz(L,m.get(L.key).overlayedDocument);B!=null&&M.push(new Ri(L.key,B,YA(B.value.mapValue),Do.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,M,a)}).next(S=>{_=S;let M=S.applyToLocalDocumentSet(m,T);return c.documentOverlayCache.saveOverlays(g,S.batchId,M)})}).then(()=>({batchId:_.batchId,changes:ok(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.Ba[s.currentUser.toKey()];d||(d=new tt(De)),d=d.insert(a,c),s.Ba[s.currentUser.toKey()]=d}(i,r.batchId,t),yield _l(i,r.changes),yield wf(i.remoteStore)}catch(r){let o=ww(r,"Failed to persist write");t.reject(o)}})}function Mk(n,e){return A(this,null,function*(){let t=oe(n);try{let i=yield l3(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Na.get(o);s&&(ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?ke(s.va):r.removedDocuments.size>0&&(ke(s.va),s.va=!1))}),yield _l(t,i,e)}catch(i){yield ml(i)}})}function LA(n,e,t){let i=oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=oe(s);c.onlineState=a;let d=!1;c.queries.forEach((h,m)=>{for(let _ of m.j_)_.Z_(a)&&(d=!0)}),d&&Iw(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function F3(n,e,t){return A(this,null,function*(){let i=oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new tt(X.comparator);s=s.insert(o,An.newNoDocument(o,ae.min()));let a=ye().add(o),c=new Gh(ae.min(),new Map,new tt(De),s,a);yield Mk(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),Ew(i)}else yield Pb(i.localStore,e,!1).then(()=>Xb(i,e,t)).catch(ml)})}function L3(n,e){return A(this,null,function*(){let t=oe(n),i=e.batch.batchId;try{let r=yield c3(t.localStore,e);Nk(t,i,null),Rk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield _l(t,r)}catch(r){yield ml(r)}})}function V3(n,e,t){return A(this,null,function*(){let i=oe(n);try{let r=yield function(s,a){let c=oe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(m=>(ke(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);Nk(i,e,t),Rk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield _l(i,r)}catch(r){yield ml(r)}})}function Rk(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Nk(n,e,t){let i=oe(n),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Xb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||Pk(n,i)})}function Pk(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(_w(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Ew(n))}function VA(n,e,t){for(let i of t)i instanceof sf?(n.La.addReference(i.key,e),j3(n,i)):i instanceof af?(z("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||Pk(n,i.key)):ee()}function j3(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(z("SyncEngine","New document in limbo: "+t),n.xa.add(i),Ew(n))}function Ew(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new X(et.fromString(e)),i=n.qa.next();n.Na.set(i,new Zb(t)),n.Oa=n.Oa.insert(t,i),Dk(n.remoteStore,new al(Yn(mw(t.path)),i,"TargetPurposeLimboResolution",GA.oe))}}function _l(n,e,t){return A(this,null,function*(){let i=oe(n),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,e,t).then(d=>{var h;if((d||t)&&i.isPrimaryClient){let m=d?!d.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){r.push(d);let m=kb.Wi(c.targetId,d);o.push(m)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(c,d){return A(this,null,function*(){let h=oe(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>O.forEach(d,_=>O.forEach(_.$i,g=>h.persistence.referenceDelegate.addReference(m,_.targetId,g)).next(()=>O.forEach(_.Ui,g=>h.persistence.referenceDelegate.removeReference(m,_.targetId,g)))))}catch(m){if(!pl(m))throw m;z("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let _=m.targetId;if(!m.fromCache){let g=h.os.get(_),w=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(_,T)}}})}(i.localStore,o))})}function U3(n,e){return A(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let i=yield Ik(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new Y(R.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield _l(t,i.hs)}})}function B3(n,e){let t=oe(n),i=t.Na.get(e);if(i&&i.va)return ye().add(i.key);{let r=ye(),o=t.Ma.get(e);if(!o)return r;for(let s of o){let a=t.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function Ok(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F3.bind(null,e),e.Ca.d_=S3.bind(null,e.eventManager),e.Ca.$a=A3.bind(null,e.eventManager),e}function $3(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V3.bind(null,e),e}var jA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return A(this,null,function*(){this.serializer=yf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return a3(this.persistence,new Rb,t.initialUser,this.serializer)}Ga(t){return new Cb(Ab.Zr,this.serializer)}Wa(t){return new Ob}terminate(){return A(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var z3=(()=>{class n{initialize(t,i){return A(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U3.bind(null,this.syncEngine),yield x3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Gb}()}createDatastore(t){let i=yf(t.databaseInfo.databaseId),r=function(s){return new Vb(s)}(t.databaseInfo);return function(s,a,c,d){return new Bb(s,a,c,d)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,s,a,c){return new zb(r,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,i=>LA(this.syncEngine,i,0),function(){return Xh.D()?new Xh:new Fb}())}createSyncEngine(t,i){return function(o,s,a,c,d,h,m){let _=new Jb(o,s,a,c,d,h);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return A(this,null,function*(){var t,i;yield function(o){return A(this,null,function*(){let s=oe(o);z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield gl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var ew=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var tw=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ht.UNAUTHENTICATED,this.clientId=jh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>A(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=ww(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function My(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>A(this,null,function*(){i.isEqual(r)||(yield Ik(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function UA(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield H3(n);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>PA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>PA(e.remoteStore,r)),n._onlineComponents=e})}function H3(n){return A(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield My(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===R.FAILED_PRECONDITION||r.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;zs("Error using user provided cache. Falling back to memory cache: "+t),yield My(n,new jA)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield My(n,new jA);return n._offlineComponents})}function Fk(n){return A(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield UA(n,n._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield UA(n,new z3))),n._onlineComponents})}function q3(n){return Fk(n).then(e=>e.syncEngine)}function BA(n){return A(this,null,function*(){let e=yield Fk(n),t=e.eventManager;return t.onListen=k3.bind(null,e.syncEngine),t.onUnlisten=N3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=M3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=P3.bind(null,e.syncEngine),t})}function Lk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $A=new Map;function Vk(n,e,t){if(!t)throw new Y(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G3(n,e,t,i){if(e===!0&&i===!0)throw new Y(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zA(n){if(!X.isDocumentKey(n))throw new Y(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HA(n){if(X.isDocumentKey(n))throw new Y(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee()}function nl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Dw(n);throw new Y(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var cf=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ta=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cf(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ry;switch(i.type){case"firstParty":return new Fy(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Y(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return A(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=$A.get(t);i&&(z("ComponentProvider","Removing Datastore"),$A.delete(t),i.terminate())}(this),Promise.resolve()}};function jk(n,e,t,i={}){var r;let o=(n=nl(n,ta))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=ht.MOCK_USER;else{a=ES(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new Y(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ht(d)}n._authCredentials=new Ny(new Vh(a,c))}}var lf=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},_n=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Tr=class n extends lf{constructor(e,t,i){super(e,t,mw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Uk(n,e,...t){if(n=pn(n),Vk("collection","path",e),n instanceof ta){let i=et.fromString(e,...t);return HA(i),new Tr(n,null,i)}{if(!(n instanceof _n||n instanceof Tr))throw new Y(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(et.fromString(e,...t));return HA(i),new Tr(n.firestore,null,i)}}function Bk(n,e,...t){if(n=pn(n),arguments.length===1&&(e=jh.newId()),Vk("doc","path",e),n instanceof ta){let i=et.fromString(e,...t);return zA(i),new _n(n,null,new X(i))}{if(!(n instanceof _n||n instanceof Tr))throw new Y(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(et.fromString(e,...t));return zA(i),new _n(n.firestore,n instanceof Tr?n.converter:null,new X(i))}}var df=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ef(this,"async_queue_retry"),this.Vu=()=>{let i=ky();i&&z("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=ky();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=ky();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Si;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return A(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pl(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw Ai("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=Hb.createAndSchedule(this,e,t,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return A(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function qA(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var na=class extends ta{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new df,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return A(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new df(e),this._firestoreClient=void 0,yield e}})}};function $k(n,e){let t=typeof n=="object"?n:jc(),i=typeof n=="string"?n:e||"(default)",r=iy(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=wS("firestore");o&&jk(r,...o)}return r}function zk(n){if(n._terminated)throw new Y(R.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||W3(n),n._firestoreClient}function W3(n){var e,t,i;let r=n._freezeSettings(),o=function(a,c,d,h){return new By(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Lk(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new tw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var dl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(At.fromBase64String(e))}catch(t){throw new Y(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ul=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Y(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var uf=class{constructor(e){this._methodName=e}};var hl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var fl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var K3=/^__.*__$/,nw=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,t,this.fieldTransforms):new ko(e,this.data,t,this.fieldTransforms)}};function Hk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var iw=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Hk(this.Cu)&&K3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},rw=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yf(e)}Qu(e,t,i,r=!1){return new iw({Cu:e,methodName:t,qu:i,path:nn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Q3(n){let e=n._freezeSettings(),t=yf(n._databaseId);return new rw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Y3(n,e,t,i,r,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,r);Kk("Data must be an object, but it was:",s,i);let a=Gk(i,s),c,d;if(o.merge)c=new Kn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let m of o.mergeFields){let _=Z3(e,m,t);if(!s.contains(_))throw new Y(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);X3(h,_)||h.push(_)}c=new Kn(h),d=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=s.fieldTransforms;return new nw(new Sn(a),c,d)}function qk(n,e){if(Wk(n=pn(n)))return Kk("Unsupported field value:",e,n),Gk(n,e);if(n instanceof uf)return function(i,r){if(!Hk(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=qk(a,r.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Oz(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=_t.fromDate(i);return{timestampValue:Yh(r.serializer,o)}}if(i instanceof _t){let o=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yh(r.serializer,o)}}if(i instanceof hl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dl)return{bytesValue:pk(r.serializer,i._byteString)};if(i instanceof _n){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gw(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof fl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return pw(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Dw(i)}`)}(n,e)}function Gk(n,e){let t={};return WA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(n,(i,r)=>{let o=qk(r,e.Mu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function Wk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof hl||n instanceof dl||n instanceof _n||n instanceof uf||n instanceof fl)}function Kk(n,e,t){if(!Wk(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Dw(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function Z3(n,e,t){if((e=pn(e))instanceof ul)return e._internalPath;if(typeof e=="string")return Qk(n,e);throw hf("Field path arguments must be of type string or ",n,!1,void 0,t)}var J3=new RegExp("[~\\*/\\[\\]]");function Qk(n,e,t){if(e.search(J3)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ul(...e.split("."))._internalPath}catch{throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hf(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Y(R.INVALID_ARGUMENT,a+n+c)}function X3(n,e){return n.some(t=>t.isEqual(e))}var ff=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ow(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Yk("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ow=class extends ff{data(){return super.data()}};function Yk(n,e){return typeof e=="string"?Qk(n,e):e instanceof ul?e._internalPath:e._delegate._internalPath}function eH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Y(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sw=class{convertValue(e,t="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return ra(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>He(s.doubleValue));return new fl(o)}convertGeoPoint(e){return new hl(He(e.latitude),He(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=dw(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){let t=ki(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=et.fromString(e);ke(wk(i));let r=new zh(i.get(1),i.get(3)),o=new X(i.popFirst(5));return r.isEqual(t)||Ai(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function tH(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Eo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},mf=class extends ff{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new $s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Yk("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},$s=class extends mf{data(e={}){return super.data(e)}},aw=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Eo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new $s(this._firestore,this._userDataWriter,i.key,i,new Eo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new $s(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Eo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new $s(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Eo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,h=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:nH(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function nH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}var pf=class extends sw{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}};function Zk(n,e){let t=nl(n.firestore,na),i=Bk(n),r=tH(n.converter,e);return iH(t,[Y3(Q3(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Do.exists(!1))]).then(()=>i)}function xw(n,...e){var t,i,r;n=pn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(qA(e[s])){let m=e[s];e[s]=(t=m.next)===null||t===void 0?void 0:t.bind(m),e[s+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),e[s+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}let c,d,h;if(n instanceof _n)d=nl(n.firestore,na),h=mw(n._key.path),c={next:m=>{e[s]&&e[s](rH(d,n,m))},error:e[s+1],complete:e[s+2]};else{let m=nl(n,lf);d=nl(m.firestore,na),h=m._query;let _=new pf(d);c={next:g=>{e[s]&&e[s](new aw(d,_,m,g))},error:e[s+1],complete:e[s+2]},eH(n._query)}return function(_,g,w,T){let S=new ew(T),M=new Kb(g,S,w);return _.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return T3(yield BA(_),M)})),()=>{S.Za(),_.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return C3(yield BA(_),M)}))}}(zk(d),h,a,c)}function iH(n,e){return function(i,r){let o=new Si;return i.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return O3(yield q3(i),r,o)})),o.promise}(zk(n),e)}function rH(n,e,t){let i=t.docs.get(e._key),r=new pf(n);return new mf(n,r,e._key,i,new Eo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){ia=r})(Ns),Ir(new gn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new na(new Py(i.getProvider("auth-internal")),new Vy(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Y(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ut(fA,"4.7.3",e),ut(fA,"4.7.3","esm2017")})();var If=function(){return If=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},If.apply(this,arguments)};var aH={includeMetadataChanges:!1};function Jk(n,e){return e===void 0&&(e=aH),new le(function(t){var i=xw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function Xk(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:If(If({},i),(t={},t[e.idField]=n.id,t))}function eM(n){return Jk(n,{includeMetadataChanges:!0}).pipe(G(function(e){return e.docs}))}function tM(n,e){return e===void 0&&(e={}),eM(n).pipe(G(function(t){return t.map(function(i){return Xk(i,e)})}))}var Ro=class{constructor(e){return e}},nM="firestore",Tw=class{constructor(){return Bc(nM)}};var Cw=new H("angularfire2.firestore-instances");function cH(n,e){let t=sy(nM,n,e);return t&&new Ro(t)}function lH(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ro(i)}}var dH={provide:Tw,deps:[[new En,Cw]]},uH={provide:Ro,useFactory:cH,deps:[[new En,Cw],vo]};function iM(n,...e){return ut("angularfire",Os.full,"fst"),or([uH,dH,{provide:Cw,useFactory:lH(n),multi:!0,deps:[_e,cn,$c,zc,[new En,Mh],[new En,Uc],...e]}])}var rM=Er(tM,!0);var oM=Er(Zk,!0);var Sw=Er(Uk,!0);var sM=Er($k,!0);var kr=class n{firestore=F(Ro);recipes$;constructor(){let e=Sw(this.firestore,"recipes");this.recipes$=rM(e)}addRecipe(e){let t=Sw(this.firestore,"recipes"),i=oM(t,e);console.log("Added document: ",i)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};function hH(n,e){if(n&1&&Le(0,"app-recipe-card",1),n&2){let t=e.$implicit;ct("recipe",t)}}function fH(n,e){if(n&1&&(ne(0,"app-card-slider",0),pi(1,hH,1,1,"app-recipe-card",1,mi),ie()),n&2){let t=e.$implicit;ct("title",t.category),ze(),gi(t.recipes)}}var Ef=class n{recipes=[0,1,2,3,4,5,6,7,8];firebaseSvc;categories;categorizedRecipes;constructor(){this.firebaseSvc=F(kr),console.log(this.firebaseSvc.recipes$),this.categories=this.getUniqueCategories(this.firebaseSvc.recipes$),this.categorizedRecipes=this.groupRecipesByCategory(this.categories,this.firebaseSvc.recipes$),console.log(this.categorizedRecipes)}groupRecipesByCategory(e,t){return si([e,t]).pipe(G(([i,r])=>i.map(o=>({category:o,recipes:r.filter(s=>s.category===o)}))))}getUniqueCategories(e){return e.pipe(G(t=>{let i=new Set;for(let r of t)r.category&&i.add(r.category);return Array.from(i)}))}temp_recipe={id:"bruschetta",name:"Bruschetta",category:"Appetizers",image:"https://www.simplyorganic.com/media/wysiwyg/tmp/simply-oragnic-Roasted-Tomato-Bruschetta-1080x1080-thumbnail.jpg",ingredients:[{name:"tomato",quantity:"2 cups"},{name:"basil",quantity:"2 tbsp"},{name:"olive oil",quantity:"2 tbsp"}],directions:["Chop tomatoes and basil.","Mix with olive oil.","Serve on toasted bread."],prep_time:15,cook_time:5,servings:4};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-home-page"]],standalone:!0,features:[Tt],decls:3,vars:2,consts:[[3,"title"],[3,"recipe"]],template:function(t,i){t&1&&(pi(0,fH,3,1,"app-card-slider",0,mi),Bx(2,"async")),t&2&&gi($x(2,0,i.categorizedRecipes))},dependencies:[dh,fh,xn,cT]})};var aM=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Ts(t)}get inset(){return this._inset}set inset(t){this._inset=Ts(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){i&2&&(dn("aria-orientation",r.vertical?"vertical":"horizontal"),Bt("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return n})(),Df=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[gt,gt]})}}return n})();var gM=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(W(ur),W(Ke))}}static{this.\u0275dir=Ne({type:n})}}return n})(),pH=(()=>{class n extends gM{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Jr(n)))(r||n)}})()}static{this.\u0275dir=Ne({type:n,features:[Pt]})}}return n})(),_M=new H("");var gH={provide:_M,useExisting:rr(()=>Pf),multi:!0};function _H(){let n=yi()?yi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var vH=new H(""),Pf=(()=>{class n extends gM{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_H())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(W(ur),W(Ke),W(vH,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&dt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[_i([gH]),Pt]})}}return n})();function Mr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function vM(n){return n!=null&&typeof n.length=="number"}var Of=new H(""),Ff=new H(""),yH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ni=class{static min(e){return bH(e)}static max(e){return wH(e)}static required(e){return IH(e)}static requiredTrue(e){return EH(e)}static email(e){return DH(e)}static minLength(e){return xH(e)}static maxLength(e){return TH(e)}static pattern(e){return CH(e)}static nullValidator(e){return yM(e)}static compose(e){return xM(e)}static composeAsync(e){return CM(e)}};function bH(n){return e=>{if(Mr(e.value)||Mr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function wH(n){return e=>{if(Mr(e.value)||Mr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function IH(n){return Mr(n.value)?{required:!0}:null}function EH(n){return n.value===!0?null:{required:!0}}function DH(n){return Mr(n.value)||yH.test(n.value)?null:{email:!0}}function xH(n){return e=>Mr(e.value)||!vM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function TH(n){return e=>vM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function CH(n){if(!n)return yM;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Mr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function yM(n){return null}function bM(n){return n!=null}function wM(n){return fr(n)?Ge(n):n}function IM(n){let e={};return n.forEach(t=>{e=t!=null?N(N({},e),t):e}),Object.keys(e).length===0?null:e}function EM(n,e){return e.map(t=>t(n))}function SH(n){return!n.validate}function DM(n){return n.map(e=>SH(e)?e:t=>e.validate(t))}function xM(n){if(!n)return null;let e=n.filter(bM);return e.length==0?null:function(t){return IM(EM(t,e))}}function TM(n){return n!=null?xM(DM(n)):null}function CM(n){if(!n)return null;let e=n.filter(bM);return e.length==0?null:function(t){let i=EM(t,e).map(wM);return Sa(i).pipe(G(IM))}}function SM(n){return n!=null?CM(DM(n)):null}function cM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function AM(n){return n._rawValidators}function kM(n){return n._rawAsyncValidators}function Aw(n){return n?Array.isArray(n)?n:[n]:[]}function Cf(n,e){return Array.isArray(n)?n.includes(e):n===e}function lM(n,e){let t=Aw(e);return Aw(n).forEach(r=>{Cf(t,r)||t.push(r)}),t}function dM(n,e){return Aw(e).filter(t=>!Cf(n,t))}var Sf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},vn=class extends Sf{get formDirective(){return null}get path(){return null}},Il=class extends Sf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Af=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},AH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_ee=he(N({},AH),{"[class.ng-submitted]":"isSubmitted"}),MM=(()=>{class n extends Af{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(W(Il,2))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Pt]})}}return n})(),RM=(()=>{class n extends Af{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(W(vn,10))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Pt]})}}return n})();var vl="VALID",xf="INVALID",sa="PENDING",yl="DISABLED",Rr=class{},kf=class extends Rr{constructor(e,t){super(),this.value=e,this.source=t}},bl=class extends Rr{constructor(e,t){super(),this.pristine=e,this.source=t}},wl=class extends Rr{constructor(e,t){super(),this.touched=e,this.source=t}},aa=class extends Rr{constructor(e,t){super(),this.status=e,this.source=t}},kw=class extends Rr{constructor(e){super(),this.source=e}},Mw=class extends Rr{constructor(e){super(),this.source=e}};function Pw(n){return(Lf(n)?n.validators:n)||null}function kH(n){return Array.isArray(n)?TM(n):n||null}function Ow(n,e){return(Lf(e)?e.asyncValidators:n)||null}function MH(n){return Array.isArray(n)?SM(n):n||null}function Lf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function NM(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new P(1e3,"");if(!i[t])throw new P(1001,"")}function PM(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new P(1002,"")})}var ca=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ic(()=>this.statusReactive()),this.statusReactive=Xa(void 0),this._pristine=ic(()=>this.pristineReactive()),this.pristineReactive=Xa(!0),this._touched=ic(()=>this.touchedReactive()),this.touchedReactive=Xa(!1),this._events=new Je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dn(this.statusReactive)}set status(e){Dn(()=>this.statusReactive.set(e))}get valid(){return this.status===vl}get invalid(){return this.status===xf}get pending(){return this.status==sa}get disabled(){return this.status===yl}get enabled(){return this.status!==yl}get pristine(){return Dn(this.pristineReactive)}set pristine(e){Dn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Dn(this.touchedReactive)}set touched(e){Dn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dM(e,this._rawAsyncValidators))}hasValidator(e){return Cf(this._rawValidators,e)}hasAsyncValidator(e){return Cf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(N({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new wl(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new wl(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(N({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new bl(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new bl(!0,i))}markAsPending(e={}){this.status=sa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new aa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(N({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=yl,this.errors=null,this._forEachChild(r=>{r.disable(he(N({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,i)),this._events.next(new aa(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=vl,this._forEachChild(i=>{i.enable(he(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vl||this.status===sa)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,t)),this._events.next(new aa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(N({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yl:vl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=wM(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new aa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?yl:this.errors?xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(xf)?xf:vl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new bl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new wl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=kH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=MH(this._rawAsyncValidators)}},Mf=class extends ca{constructor(e,t,i){super(Pw(t),Ow(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PM(this,!0,e),Object.keys(e).forEach(i=>{NM(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Rw=class extends Mf{};var Fw=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Vf}),Vf="always";function Lw(n,e){return[...e.path,n]}function uM(n,e,t=Vf){Vw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),NH(n,e),OH(n,e),PH(n,e),RH(n,e)}function hM(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Nf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function RH(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Vw(n,e){let t=AM(n);e.validator!==null?n.setValidators(cM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=kM(n);e.asyncValidator!==null?n.setAsyncValidators(cM(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Rf(e._rawValidators,r),Rf(e._rawAsyncValidators,r)}function Nf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=AM(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=kM(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Rf(e._rawValidators,i),Rf(e._rawAsyncValidators,i),t}function NH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&OM(n,e)})}function PH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&OM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function OM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function OH(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function FH(n,e){n==null,Vw(n,e)}function LH(n,e){return Nf(n,e)}function VH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function jH(n){return Object.getPrototypeOf(n.constructor)===pH}function UH(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function BH(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Pf?t=o:jH(o)?i=o:r=o}),r||i||t||null}function $H(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Tf=class extends ca{constructor(e=null,t,i){super(Pw(t),Ow(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(mM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zH=n=>n instanceof Tf,HH=(()=>{class n extends vn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Lw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Jr(n)))(r||n)}})()}static{this.\u0275dir=Ne({type:n,features:[Pt]})}}return n})();var FM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var LM=new H("");var qH={provide:vn,useExisting:rr(()=>jf)},jf=(()=>{class n extends vn{get submitted(){return Dn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=ic(()=>this._submittedReactive()),this._submittedReactive=Xa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return uM(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){hM(t.control||null,t,!1),$H(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),UH(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new kw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Mw(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(hM(i||null,t),zH(r)&&(uM(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);FH(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&LH(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vw(this.form,this),this._oldForm&&Nf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(W(Of,10),W(Ff,10),W(Fw,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&dt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_i([qH]),Pt,Vn]})}}return n})(),GH={provide:vn,useExisting:rr(()=>Uf)},Uf=(()=>{class n extends HH{constructor(t,i,r){super(),this.name=null,this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){VM(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(W(vn,13),W(Of,10),W(Ff,10))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[_i([GH]),Pt]})}}return n})(),WH={provide:vn,useExisting:rr(()=>Bf)},Bf=(()=>{class n extends vn{constructor(t,i,r){super(),this.name=null,this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Lw(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){VM(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(W(vn,13),W(Of,10),W(Ff,10))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[_i([WH]),Pt]})}}return n})();function VM(n){return!(n instanceof Uf)&&!(n instanceof jf)&&!(n instanceof Bf)}var KH={provide:Il,useExisting:rr(()=>jw)},jw=(()=>{class n extends Il{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new We,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=BH(this,o)}ngOnChanges(t){this._added||this._setUpControl(),VH(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Lw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(W(vn,13),W(Of,10),W(Ff,10),W(_M,10),W(LM,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[_i([KH]),Pt,Vn]})}}return n})();var jM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({})}}return n})(),Nw=class extends ca{constructor(e,t,i){super(Pw(t),Ow(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PM(this,!1,e),e.forEach((i,r)=>{NM(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function pM(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var UM=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return pM(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Mf(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Rw(r,i)}control(t,i,r){let o={};return this.useNonNullable?(pM(i)?o=i:(o.validators=i,o.asyncValidators=r),new Tf(t,he(N({},o),{nonNullable:!0}))):new Tf(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Nw(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Tf)return t;if(t instanceof ca)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var BM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fw,useValue:t.callSetDisabledState??Vf}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[jM]})}}return n})(),$M=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:LM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fw,useValue:t.callSetDisabledState??Vf}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[jM]})}}return n})();var zM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=xe({imports:[uC,xn,gt,As,iS,Df]})}}return n})();function YH(n,e){if(n&1&&(ne(0,"li"),Pe(1),ie()),n&2){let t=e.$implicit;ze(),Bg("",t.quantity," ",t.name,"")}}function ZH(n,e){if(n&1&&(ne(0,"li"),Pe(1),ie()),n&2){let t=e.$implicit;ze(),hr(" ",t," ")}}var $f=class n{constructor(e){this.route=e;this.firebaseService=F(kr),this.firebaseService.recipes$.subscribe(t=>{for(let i of t)if(lh(i.name)===this.recipeId){this.recipe=i;for(let r=0;r<this.recipe.ingredients.length;r++)this.recipe.ingredients[r].name=this.recipe.ingredients[r].name[0].toUpperCase()+this.recipe.ingredients[r].name.slice(1);for(let r=0;r<this.recipe.directions.length;r++)this.recipe.directions[r]=this.recipe.directions[r].charAt(0).toUpperCase()+this.recipe.directions[r].slice(1);break}})}recipeId=null;firebaseService;recipe={id:"",name:"",category:"",image:"",ingredients:[],directions:[]};ngOnInit(){this.route.paramMap.subscribe(e=>{this.recipeId=e.get("id"),console.log(this.recipeId)})}static \u0275fac=function(t){return new(t||n)(W(Ii))};static \u0275cmp=Fe({type:n,selectors:[["app-recipe-page"]],standalone:!0,features:[Tt],decls:18,vars:3,consts:[[1,"recipe-title"],[1,"recipe-container"],[1,"ingredients"],[1,"directions"],[1,"recipe-image"],[3,"src","alt"]],template:function(t,i){t&1&&(Le(0,"mat-divider"),ne(1,"div",0),Pe(2),ie(),ne(3,"div",1)(4,"div",2)(5,"h2"),Pe(6,"Ingredients"),ie(),ne(7,"ul"),pi(8,YH,2,2,"li",null,mi),ie()(),ne(10,"div",3)(11,"h2"),Pe(12,"Directions"),ie(),ne(13,"ol"),pi(14,ZH,2,1,"li",null,mi),ie()()(),ne(16,"div",4),Le(17,"img",5),ie()),t&2&&(ze(2),hr(" ",i.recipe.name,`
`),ze(6),gi(i.recipe.ingredients),ze(6),gi(i.recipe.directions),ze(3),jg("alt",i.recipe.name),ct("src",i.recipe.image,Za))},dependencies:[Df,aM,zM,xn],styles:["body[_ngcontent-%COMP%]{font-family:Georgia,serif;max-width:1000px;margin:0 auto;padding:20px;background-color:#fdf6e4;line-height:1.6;color:#5a4635}.recipe-container[_ngcontent-%COMP%]{display:flex;border:1px solid #d8c3a5;border-radius:12px;background-color:#fffaf3;overflow:hidden;box-shadow:0 4px 8px #0000001a}.recipe-title[_ngcontent-%COMP%]{text-align:center;background-color:#d8c3a5;padding:15px;font-size:28px;font-weight:700;color:#4a3321;border-bottom:3px solid #a67f58;letter-spacing:1px;border-radius:8px;margin-bottom:10px}.ingredients[_ngcontent-%COMP%], .directions[_ngcontent-%COMP%]{padding:20px;width:50%;font-family:Palatino Linotype,Book Antiqua,Palatino,serif}.ingredients[_ngcontent-%COMP%]{border-right:1px solid #d8c3a5}.ingredients[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .directions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#4a3321;background-color:#f8e4d4;border-bottom:2px solid #a67f58;padding:10px;text-align:center;border-radius:8px}.ingredients[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .directions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:20px;list-style-type:initial;color:#5a4635}.ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .directions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:0;text-indent:0}.recipe-image[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%;border-radius:12px;box-shadow:0 6px 12px #0003;border:4px solid #d8c3a5}"]})};function JH(n,e){if(n&1){let t=ms();ne(0,"div",8),Le(1,"input",12)(2,"input",13),ne(3,"button",9),dt("click",function(){let r=ar(t).$index,o=ec();return cr(o.removeIngredient(r))}),Pe(4,"Remove"),ie()()}if(n&2){let t=e.$index;ct("formGroupName",t)}}function XH(n,e){if(n&1){let t=ms();ne(0,"div"),Le(1,"textarea",14),ne(2,"button",9),dt("click",function(){let r=ar(t).$index,o=ec();return cr(o.removeDirection(r))}),Pe(3,"Remove"),ie()()}if(n&2){let t=e.$index;ze(),gu("placeholder","Step ",t+1,""),ct("formControlName",t)}}var zf=class n{constructor(e){this.fb=e;this.firebaseService=F(kr),this.recipeForm=this.fb.group({name:["",Ni.required],category:["",Ni.required],image:["",Ni.required],ingredients:this.fb.array([]),directions:this.fb.array([])})}recipeForm;firebaseService;get ingredients(){return this.recipeForm.get("ingredients")}get directions(){return this.recipeForm.get("directions")}addIngredient(){this.ingredients.push(this.fb.group({name:["",Ni.required],quantity:["",Ni.required]}))}removeIngredient(e){this.ingredients.removeAt(e)}addDirection(){this.directions.push(this.fb.control("",Ni.required))}removeDirection(e){this.directions.removeAt(e)}submit(){console.log(this.recipeForm.value),this.firebaseService.addRecipe(this.recipeForm.value),alert("Recipe submitted! Check the console for output.")}static \u0275fac=function(t){return new(t||n)(W(UM))};static \u0275cmp=Fe({type:n,selectors:[["app-admin-page"]],standalone:!0,features:[Tt],decls:31,vars:2,consts:[[3,"ngSubmit","formGroup"],["for","name"],["id","name","formControlName","name","placeholder","Recipe name"],["for","category"],["id","category","formControlName","category","placeholder","Category (e.g., Appetizers)"],["for","image"],["id","image","formControlName","image","placeholder","Image URL"],["formArrayName","ingredients"],[3,"formGroupName"],["type","button",3,"click"],["formArrayName","directions"],["type","submit",3,"disabled"],["formControlName","name","placeholder","Ingredient name"],["formControlName","quantity","placeholder","Quantity (e.g., 2 cups)"],[3,"formControlName","placeholder"]],template:function(t,i){t&1&&(ne(0,"h1"),Pe(1,"ADMIN PAGE"),ie(),ne(2,"form",0),dt("ngSubmit",function(){return i.submit()}),ne(3,"div")(4,"label",1),Pe(5,"Name"),ie(),Le(6,"input",2),ie(),ne(7,"div")(8,"label",3),Pe(9,"Category"),ie(),Le(10,"input",4),ie(),ne(11,"div")(12,"label",5),Pe(13,"Image URL"),ie(),Le(14,"input",6),ie(),ne(15,"div",7)(16,"h3"),Pe(17,"Ingredients"),ie(),pi(18,JH,5,1,"div",8,mi),ne(20,"button",9),dt("click",function(){return i.addIngredient()}),Pe(21,"Add Ingredient"),ie()(),ne(22,"div",10)(23,"h3"),Pe(24,"Directions"),ie(),pi(25,XH,4,3,"div",null,mi),ne(27,"button",9),dt("click",function(){return i.addDirection()}),Pe(28,"Add Direction"),ie()(),ne(29,"button",11),Pe(30,"Submit Recipe"),ie()()),t&2&&(ze(2),ct("formGroup",i.recipeForm),ze(16),gi(i.ingredients.controls),ze(7),gi(i.directions.controls),ze(4),ct("disabled",i.recipeForm.invalid))},dependencies:[BM,FM,Pf,MM,RM,$M,jf,jw,Uf,Bf]})};var HM=[{path:"",component:Ef},{path:"recipe/:id",component:$f},{path:"admin",component:zf},{path:"**",redirectTo:""}];var qM={providers:[Kx({eventCoalescing:!0}),aC(HM,cC()),qS(()=>GS({projectId:"rupp-recipes",appId:"1:63842037729:web:10d217094d4b8187582ca0",storageBucket:"rupp-recipes.firebasestorage.app",apiKey:"AIzaSyDYonw3l0n9UHWzSkhYfHeQ1GPPKLqjwBQ",authDomain:"rupp-recipes.firebaseapp.com",messagingSenderId:"63842037729"})),iM(()=>sM())]};var Hf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-navbar"]],standalone:!0,features:[Tt],decls:6,vars:0,consts:[["routerLink","''"],["src","logo.png","alt","Rupp's Recipes Logo"]],template:function(t,i){t&1&&(ne(0,"nav")(1,"a",0)(2,"div"),Le(3,"img",1),ne(4,"h1"),Pe(5,"Rupp's Recipes"),ie()()()())},dependencies:[zu],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000}img[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:10px}div[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;background-color:#f8f9fa}nav[_ngcontent-%COMP%]{background-color:#f8f9fa}"]})};var qf=class n{title="rupps-recipes";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-root"]],standalone:!0,features:[Tt],decls:5,vars:0,consts:[[1,"footer"],[1,"text-center"]],template:function(t,i){t&1&&(Le(0,"app-navbar")(1,"router-outlet"),ne(2,"footer",0)(3,"p",1),Pe(4,"Rupp's Recipes by Alex Miller and Jaden Brookens"),ie()())},dependencies:[q_,Hf],styles:[".text-center[_ngcontent-%COMP%]{text-align:center}"]})};IT(qf,qM).catch(n=>console.error(n));
